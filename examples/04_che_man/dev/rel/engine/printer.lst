                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.2 #9293 (MINGW32)
                              4 ; This file was generated Wed Sep 11 14:35:26 2019
                              5 ;--------------------------------------------------------
                              6 	.module printer
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _add_tile
                             13 	.globl _memfill
                             14 	.globl _set_rand
                             15 	.globl _rand8
                             16 	.globl _SG_fillTile
                             17 	.globl _SG_setTile
                             18 	.globl _SG_setTileatXY
                             19 	.globl _SG_setNextTileatXY
                             20 	.globl _clear_update_list
                             21 	.globl _cls
                             22 	.globl _ul_putc
                             23 	.globl _p_t
                             24 	.globl _p_tf
                             25 	.globl _draw_tile
                             26 	.globl _update_list_tile
                             27 	.globl _map_set
                             28 	.globl _get_byte
                             29 	.globl _draw_scr
                             30 	.globl _pr_str
                             31 ;--------------------------------------------------------
                             32 ; special function registers
                             33 ;--------------------------------------------------------
                     00BF    34 _VDPControlPort	=	0x00bf
                     00BF    35 _VDPStatusPort	=	0x00bf
                     00BE    36 _VDPDataPort	=	0x00be
                     007E    37 _VDPVCounterPort	=	0x007e
                     007F    38 _VDPHCounterPort	=	0x007f
                     00DC    39 _IOPortL	=	0x00dc
                     00DD    40 _IOPortH	=	0x00dd
                             41 ;--------------------------------------------------------
                             42 ; ram data
                             43 ;--------------------------------------------------------
                             44 	.area _DATA
                             45 ;--------------------------------------------------------
                             46 ; ram data
                             47 ;--------------------------------------------------------
                             48 	.area _INITIALIZED
                             49 ;--------------------------------------------------------
                             50 ; absolute external ram data
                             51 ;--------------------------------------------------------
                             52 	.area _DABS (ABS)
                             53 ;--------------------------------------------------------
                             54 ; global & static initialisations
                             55 ;--------------------------------------------------------
                             56 	.area _HOME
                             57 	.area _GSINIT
                             58 	.area _GSFINAL
                             59 	.area _GSINIT
                             60 ;--------------------------------------------------------
                             61 ; Home
                             62 ;--------------------------------------------------------
                             63 	.area _HOME
                             64 	.area _HOME
                             65 ;--------------------------------------------------------
                             66 ; code
                             67 ;--------------------------------------------------------
                             68 	.area _CODE
                             69 ;./engine/printer.c:32: void clear_update_list (void) {
                             70 ;	---------------------------------
                             71 ; Function clear_update_list
                             72 ; ---------------------------------
   0000                      73 _clear_update_list::
                             74 ;./engine/printer.c:33: memfill (update_list, 0, UPDATE_LIST_SIZE*3);
   0000 11r00r00      [10]   75 	ld	de,#_update_list
   0003 21 60 00      [10]   76 	ld	hl,#0x0060
   0006 E5            [11]   77 	push	hl
   0007 AF            [ 4]   78 	xor	a, a
   0008 F5            [11]   79 	push	af
   0009 33            [ 6]   80 	inc	sp
   000A D5            [11]   81 	push	de
   000B CDr00r00      [17]   82 	call	_memfill
   000E F1            [10]   83 	pop	af
   000F F1            [10]   84 	pop	af
   0010 33            [ 6]   85 	inc	sp
                             86 ;./engine/printer.c:34: update_index = 0;
   0011 21r00r00      [10]   87 	ld	hl,#_update_index + 0
   0014 36 00         [10]   88 	ld	(hl), #0x00
   0016 C9            [10]   89 	ret
                             90 ;./engine/printer.c:37: void cls (void) {
                             91 ;	---------------------------------
                             92 ; Function cls
                             93 ; ---------------------------------
   0017                      94 _cls::
                             95 ;./engine/printer.c:38: HW_setNextTileatXY (0, 0);
   0017 21 00 00      [10]   96 	ld	hl,#0x0000
   001A E5            [11]   97 	push	hl
   001B CDr00r00      [17]   98 	call	_SG_setNextTileatXY
                             99 ;./engine/printer.c:39: HW_fillTile (0, 768);
   001E 21 00 03      [10]  100 	ld	hl, #0x0300
   0021 E3            [19]  101 	ex	(sp),hl
   0022 AF            [ 4]  102 	xor	a, a
   0023 F5            [11]  103 	push	af
   0024 33            [ 6]  104 	inc	sp
   0025 CDr00r00      [17]  105 	call	_SG_fillTile
   0028 F1            [10]  106 	pop	af
   0029 33            [ 6]  107 	inc	sp
   002A C9            [10]  108 	ret
                            109 ;./engine/printer.c:43: void ul_putc (void) {
                            110 ;	---------------------------------
                            111 ; Function ul_putc
                            112 ; ---------------------------------
   002B                     113 _ul_putc::
                            114 ;./engine/printer.c:44: update_list [update_index++] = MSB (gp_addr);
   002B 21r00r00      [10]  115 	ld	hl,#_update_index + 0
   002E 5E            [ 7]  116 	ld	e, (hl)
   002F 21r00r00      [10]  117 	ld	hl, #_update_index+0
   0032 34            [11]  118 	inc	(hl)
   0033 21r00r00      [10]  119 	ld	hl,#_update_list
   0036 16 00         [ 7]  120 	ld	d,#0x00
   0038 19            [11]  121 	add	hl, de
   0039 FD 21r00r00   [14]  122 	ld	iy,#_gp_addr
   003D FD 56 01      [19]  123 	ld	d,1 (iy)
   0040 72            [ 7]  124 	ld	(hl),d
                            125 ;./engine/printer.c:45: update_list [update_index++] = LSB (gp_addr++);
   0041 21r00r00      [10]  126 	ld	hl,#_update_index + 0
   0044 56            [ 7]  127 	ld	d, (hl)
   0045 21r00r00      [10]  128 	ld	hl, #_update_index+0
   0048 34            [11]  129 	inc	(hl)
   0049 3Er00         [ 7]  130 	ld	a,#<(_update_list)
   004B 82            [ 4]  131 	add	a, d
   004C 5F            [ 4]  132 	ld	e,a
   004D 3Es00         [ 7]  133 	ld	a,#>(_update_list)
   004F CE 00         [ 7]  134 	adc	a, #0x00
   0051 57            [ 4]  135 	ld	d,a
   0052 ED 4Br00r00   [20]  136 	ld	bc,(_gp_addr)
   0056 21r00r00      [10]  137 	ld	hl, #_gp_addr+0
   0059 34            [11]  138 	inc	(hl)
   005A 20 04         [12]  139 	jr	NZ,00103$
   005C 21r01r00      [10]  140 	ld	hl, #_gp_addr+1
   005F 34            [11]  141 	inc	(hl)
   0060                     142 00103$:
   0060 79            [ 4]  143 	ld	a,c
   0061 12            [ 7]  144 	ld	(de),a
                            145 ;./engine/printer.c:46: update_list [update_index++] = _n;
   0062 21r00r00      [10]  146 	ld	hl,#_update_index + 0
   0065 5E            [ 7]  147 	ld	e, (hl)
   0066 21r00r00      [10]  148 	ld	hl, #_update_index+0
   0069 34            [11]  149 	inc	(hl)
   006A 21r00r00      [10]  150 	ld	hl,#_update_list
   006D 16 00         [ 7]  151 	ld	d,#0x00
   006F 19            [11]  152 	add	hl, de
   0070 3Ar00r00      [13]  153 	ld	a,(#__n + 0)
   0073 77            [ 7]  154 	ld	(hl),a
   0074 C9            [10]  155 	ret
                            156 ;./engine/printer.c:50: void p_t (void) {
                            157 ;	---------------------------------
                            158 ; Function p_t
                            159 ; ---------------------------------
   0075                     160 _p_t::
                            161 ;./engine/printer.c:51: rda = _n; gp_addr = (_y << 5) + _x + PNTADDRESS;
   0075 3Ar00r00      [13]  162 	ld	a,(#__n + 0)
   0078 32r00r00      [13]  163 	ld	(#_rda + 0),a
   007B FD 21r00r00   [14]  164 	ld	iy,#__y
   007F FD 6E 00      [19]  165 	ld	l,0 (iy)
   0082 26 00         [ 7]  166 	ld	h,#0x00
   0084 29            [11]  167 	add	hl, hl
   0085 29            [11]  168 	add	hl, hl
   0086 29            [11]  169 	add	hl, hl
   0087 29            [11]  170 	add	hl, hl
   0088 29            [11]  171 	add	hl, hl
   0089 EB            [ 4]  172 	ex	de,hl
   008A FD 21r00r00   [14]  173 	ld	iy,#__x
   008E FD 6E 00      [19]  174 	ld	l,0 (iy)
   0091 26 00         [ 7]  175 	ld	h,#0x00
   0093 19            [11]  176 	add	hl,de
   0094 EB            [ 4]  177 	ex	de,hl
   0095 21 00 18      [10]  178 	ld	hl,#0x1800
   0098 19            [11]  179 	add	hl,de
   0099 22r00r00      [16]  180 	ld	(_gp_addr),hl
                            181 ;./engine/printer.c:52: _n = ((rda/10)+16); ul_putc ();
   009C 3E 0A         [ 7]  182 	ld	a,#0x0A
   009E F5            [11]  183 	push	af
   009F 33            [ 6]  184 	inc	sp
   00A0 3Ar00r00      [13]  185 	ld	a,(_rda)
   00A3 F5            [11]  186 	push	af
   00A4 33            [ 6]  187 	inc	sp
   00A5 CDr00r00      [17]  188 	call	__divuchar
   00A8 F1            [10]  189 	pop	af
   00A9 7D            [ 4]  190 	ld	a,l
   00AA 21r00r00      [10]  191 	ld	hl,#__n
   00AD C6 10         [ 7]  192 	add	a, #0x10
   00AF 77            [ 7]  193 	ld	(hl),a
   00B0 CDr2Br00      [17]  194 	call	_ul_putc
                            195 ;./engine/printer.c:53: _n = ((rda%10)+16); ul_putc ();
   00B3 3E 0A         [ 7]  196 	ld	a,#0x0A
   00B5 F5            [11]  197 	push	af
   00B6 33            [ 6]  198 	inc	sp
   00B7 3Ar00r00      [13]  199 	ld	a,(_rda)
   00BA F5            [11]  200 	push	af
   00BB 33            [ 6]  201 	inc	sp
   00BC CDr00r00      [17]  202 	call	__moduchar
   00BF F1            [10]  203 	pop	af
   00C0 7D            [ 4]  204 	ld	a,l
   00C1 21r00r00      [10]  205 	ld	hl,#__n
   00C4 C6 10         [ 7]  206 	add	a, #0x10
   00C6 77            [ 7]  207 	ld	(hl),a
   00C7 C3r2Br00      [10]  208 	jp  _ul_putc
                            209 ;./engine/printer.c:56: void p_tf (void) {
                            210 ;	---------------------------------
                            211 ; Function p_tf
                            212 ; ---------------------------------
   00CA                     213 _p_tf::
                            214 ;./engine/printer.c:57: HW_setTileatXY (_x, _y, (_n / 10) + 16);
   00CA 3E 0A         [ 7]  215 	ld	a,#0x0A
   00CC F5            [11]  216 	push	af
   00CD 33            [ 6]  217 	inc	sp
   00CE 3Ar00r00      [13]  218 	ld	a,(__n)
   00D1 F5            [11]  219 	push	af
   00D2 33            [ 6]  220 	inc	sp
   00D3 CDr00r00      [17]  221 	call	__divuchar
   00D6 F1            [10]  222 	pop	af
   00D7 7D            [ 4]  223 	ld	a,l
   00D8 C6 10         [ 7]  224 	add	a, #0x10
   00DA F5            [11]  225 	push	af
   00DB 33            [ 6]  226 	inc	sp
   00DC 3Ar00r00      [13]  227 	ld	a,(__y)
   00DF F5            [11]  228 	push	af
   00E0 33            [ 6]  229 	inc	sp
   00E1 3Ar00r00      [13]  230 	ld	a,(__x)
   00E4 F5            [11]  231 	push	af
   00E5 33            [ 6]  232 	inc	sp
   00E6 CDr00r00      [17]  233 	call	_SG_setTileatXY
   00E9 F1            [10]  234 	pop	af
   00EA 33            [ 6]  235 	inc	sp
                            236 ;./engine/printer.c:58: HW_setTile ((_n % 10) + 16);
   00EB 3E 0A         [ 7]  237 	ld	a,#0x0A
   00ED F5            [11]  238 	push	af
   00EE 33            [ 6]  239 	inc	sp
   00EF 3Ar00r00      [13]  240 	ld	a,(__n)
   00F2 F5            [11]  241 	push	af
   00F3 33            [ 6]  242 	inc	sp
   00F4 CDr00r00      [17]  243 	call	__moduchar
   00F7 F1            [10]  244 	pop	af
   00F8 7D            [ 4]  245 	ld	a,l
   00F9 C6 10         [ 7]  246 	add	a, #0x10
   00FB F5            [11]  247 	push	af
   00FC 33            [ 6]  248 	inc	sp
   00FD CDr00r00      [17]  249 	call	_SG_setTile
   0100 33            [ 6]  250 	inc	sp
   0101 C9            [10]  251 	ret
                            252 ;./engine/printer.c:63: void draw_tile (void) {
                            253 ;	---------------------------------
                            254 ; Function draw_tile
                            255 ; ---------------------------------
   0102                     256 _draw_tile::
                            257 ;./engine/printer.c:67: gp_tmap = c_ts_tmaps + (_t << 2);
   0102 FD 21r00r00   [14]  258 	ld	iy,#__t
   0106 FD 6E 00      [19]  259 	ld	l,0 (iy)
   0109 26 00         [ 7]  260 	ld	h,#0x00
   010B 29            [11]  261 	add	hl, hl
   010C 29            [11]  262 	add	hl, hl
   010D 55            [ 4]  263 	ld	d,l
   010E 5C            [ 4]  264 	ld	e,h
   010F 21r00r00      [10]  265 	ld	hl,#_gp_tmap
   0112 3Ar00r00      [13]  266 	ld	a,(#_c_ts_tmaps + 0)
   0115 82            [ 4]  267 	add	a, d
   0116 77            [ 7]  268 	ld	(hl),a
   0117 3Ar01r00      [13]  269 	ld	a,(#_c_ts_tmaps + 1)
   011A 8B            [ 4]  270 	adc	a, e
   011B 23            [ 6]  271 	inc	hl
   011C 77            [ 7]  272 	ld	(hl),a
                            273 ;./engine/printer.c:68: gp_addr = (_y << 5) + _x + PNTADDRESS;
   011D FD 21r00r00   [14]  274 	ld	iy,#__y
   0121 FD 6E 00      [19]  275 	ld	l,0 (iy)
   0124 26 00         [ 7]  276 	ld	h,#0x00
   0126 29            [11]  277 	add	hl, hl
   0127 29            [11]  278 	add	hl, hl
   0128 29            [11]  279 	add	hl, hl
   0129 29            [11]  280 	add	hl, hl
   012A 29            [11]  281 	add	hl, hl
   012B EB            [ 4]  282 	ex	de,hl
   012C FD 21r00r00   [14]  283 	ld	iy,#__x
   0130 FD 6E 00      [19]  284 	ld	l,0 (iy)
   0133 26 00         [ 7]  285 	ld	h,#0x00
   0135 19            [11]  286 	add	hl,de
   0136 EB            [ 4]  287 	ex	de,hl
   0137 21 00 18      [10]  288 	ld	hl,#0x1800
   013A 19            [11]  289 	add	hl,de
   013B 22r00r00      [16]  290 	ld	(_gp_addr),hl
                            291 ;./engine/printer.c:70: if (_y == TOP_ADJUST) {
   013E 3Ar00r00      [13]  292 	ld	a,(#__y + 0)
   0141 3D            [ 4]  293 	dec	a
   0142 20 0E         [12]  294 	jr	NZ,00102$
                            295 ;./engine/printer.c:71: gp_tmap += 2;		
   0144 21r00r00      [10]  296 	ld	hl,#_gp_tmap
   0147 7E            [ 7]  297 	ld	a,(hl)
   0148 C6 02         [ 7]  298 	add	a, #0x02
   014A 77            [ 7]  299 	ld	(hl),a
   014B 23            [ 6]  300 	inc	hl
   014C 7E            [ 7]  301 	ld	a,(hl)
   014D CE 00         [ 7]  302 	adc	a, #0x00
   014F 77            [ 7]  303 	ld	(hl),a
   0150 18 2C         [12]  304 	jr	00103$
   0152                     305 00102$:
                            306 ;./engine/printer.c:73: VDPControlPort = LO (gp_addr); VDPControlPort = HI (gp_addr) | 0x40;
   0152 3Ar00r00      [13]  307 	ld	a,(#_gp_addr + 0)
   0155 D3 BF         [11]  308 	out	(_VDPControlPort),a
   0157 3Ar01r00      [13]  309 	ld	a,(#_gp_addr + 1)
   015A CB F7         [ 8]  310 	set	6, a
   015C D3 BF         [11]  311 	out	(_VDPControlPort),a
                            312 ;./engine/printer.c:74: VDPDataPort = *gp_tmap ++;
   015E 2Ar00r00      [16]  313 	ld	hl,(_gp_tmap)
   0161 7E            [ 7]  314 	ld	a,(hl)
   0162 D3 BE         [11]  315 	out	(_VDPDataPort),a
   0164 21r00r00      [10]  316 	ld	hl, #_gp_tmap+0
   0167 34            [11]  317 	inc	(hl)
   0168 20 04         [12]  318 	jr	NZ,00118$
   016A 21r01r00      [10]  319 	ld	hl, #_gp_tmap+1
   016D 34            [11]  320 	inc	(hl)
   016E                     321 00118$:
                            322 ;./engine/printer.c:75: VDPDataPort = *gp_tmap ++;
   016E 2Ar00r00      [16]  323 	ld	hl,(_gp_tmap)
   0171 7E            [ 7]  324 	ld	a,(hl)
   0172 D3 BE         [11]  325 	out	(_VDPDataPort),a
   0174 21r00r00      [10]  326 	ld	hl, #_gp_tmap+0
   0177 34            [11]  327 	inc	(hl)
   0178 20 04         [12]  328 	jr	NZ,00119$
   017A 21r01r00      [10]  329 	ld	hl, #_gp_tmap+1
   017D 34            [11]  330 	inc	(hl)
   017E                     331 00119$:
   017E                     332 00103$:
                            333 ;./engine/printer.c:78: if (_y < TOP_ADJUST + 22) {
   017E 3Ar00r00      [13]  334 	ld	a,(#__y + 0)
   0181 D6 17         [ 7]  335 	sub	a, #0x17
   0183 D0            [11]  336 	ret	NC
                            337 ;./engine/printer.c:79: gp_addr += 32;
   0184 21r00r00      [10]  338 	ld	hl,#_gp_addr
   0187 7E            [ 7]  339 	ld	a,(hl)
   0188 C6 20         [ 7]  340 	add	a, #0x20
   018A 77            [ 7]  341 	ld	(hl),a
   018B 23            [ 6]  342 	inc	hl
   018C 7E            [ 7]  343 	ld	a,(hl)
   018D CE 00         [ 7]  344 	adc	a, #0x00
   018F 77            [ 7]  345 	ld	(hl),a
                            346 ;./engine/printer.c:80: VDPControlPort = LO (gp_addr); VDPControlPort = HI (gp_addr) | 0x40;
   0190 3Ar00r00      [13]  347 	ld	a,(#_gp_addr + 0)
   0193 D3 BF         [11]  348 	out	(_VDPControlPort),a
   0195 3Ar01r00      [13]  349 	ld	a,(#_gp_addr + 1)
   0198 CB F7         [ 8]  350 	set	6, a
   019A D3 BF         [11]  351 	out	(_VDPControlPort),a
                            352 ;./engine/printer.c:81: VDPDataPort = *gp_tmap ++;
   019C 2Ar00r00      [16]  353 	ld	hl,(_gp_tmap)
   019F 7E            [ 7]  354 	ld	a,(hl)
   01A0 D3 BE         [11]  355 	out	(_VDPDataPort),a
   01A2 21r00r00      [10]  356 	ld	hl, #_gp_tmap+0
   01A5 34            [11]  357 	inc	(hl)
   01A6 20 04         [12]  358 	jr	NZ,00120$
   01A8 21r01r00      [10]  359 	ld	hl, #_gp_tmap+1
   01AB 34            [11]  360 	inc	(hl)
   01AC                     361 00120$:
                            362 ;./engine/printer.c:82: VDPDataPort = *gp_tmap ++;
   01AC 2Ar00r00      [16]  363 	ld	hl,(_gp_tmap)
   01AF 7E            [ 7]  364 	ld	a,(hl)
   01B0 D3 BE         [11]  365 	out	(_VDPDataPort),a
   01B2 21r00r00      [10]  366 	ld	hl, #_gp_tmap+0
   01B5 34            [11]  367 	inc	(hl)
   01B6 C0            [11]  368 	ret	NZ
   01B7 21r01r00      [10]  369 	ld	hl, #_gp_tmap+1
   01BA 34            [11]  370 	inc	(hl)
   01BB C9            [10]  371 	ret
                            372 ;./engine/printer.c:88: void update_list_tile (void) {
                            373 ;	---------------------------------
                            374 ; Function update_list_tile
                            375 ; ---------------------------------
   01BC                     376 _update_list_tile::
                            377 ;./engine/printer.c:89: gp_tmap = c_ts_tmaps + (_t << 2);
   01BC FD 21r00r00   [14]  378 	ld	iy,#__t
   01C0 FD 6E 00      [19]  379 	ld	l,0 (iy)
   01C3 26 00         [ 7]  380 	ld	h,#0x00
   01C5 29            [11]  381 	add	hl, hl
   01C6 29            [11]  382 	add	hl, hl
   01C7 55            [ 4]  383 	ld	d,l
   01C8 5C            [ 4]  384 	ld	e,h
   01C9 21r00r00      [10]  385 	ld	hl,#_gp_tmap
   01CC 3Ar00r00      [13]  386 	ld	a,(#_c_ts_tmaps + 0)
   01CF 82            [ 4]  387 	add	a, d
   01D0 77            [ 7]  388 	ld	(hl),a
   01D1 3Ar01r00      [13]  389 	ld	a,(#_c_ts_tmaps + 1)
   01D4 8B            [ 4]  390 	adc	a, e
   01D5 23            [ 6]  391 	inc	hl
   01D6 77            [ 7]  392 	ld	(hl),a
                            393 ;./engine/printer.c:90: gp_addr = ((_y << 5) + _x + PNTADDRESS);
   01D7 FD 21r00r00   [14]  394 	ld	iy,#__y
   01DB FD 6E 00      [19]  395 	ld	l,0 (iy)
   01DE 26 00         [ 7]  396 	ld	h,#0x00
   01E0 29            [11]  397 	add	hl, hl
   01E1 29            [11]  398 	add	hl, hl
   01E2 29            [11]  399 	add	hl, hl
   01E3 29            [11]  400 	add	hl, hl
   01E4 29            [11]  401 	add	hl, hl
   01E5 EB            [ 4]  402 	ex	de,hl
   01E6 FD 21r00r00   [14]  403 	ld	iy,#__x
   01EA FD 6E 00      [19]  404 	ld	l,0 (iy)
   01ED 26 00         [ 7]  405 	ld	h,#0x00
   01EF 19            [11]  406 	add	hl,de
   01F0 EB            [ 4]  407 	ex	de,hl
   01F1 21 00 18      [10]  408 	ld	hl,#0x1800
   01F4 19            [11]  409 	add	hl,de
   01F5 22r00r00      [16]  410 	ld	(_gp_addr),hl
                            411 ;./engine/printer.c:92: _n = *gp_tmap ++; ul_putc ();
   01F8 2Ar00r00      [16]  412 	ld	hl,(_gp_tmap)
   01FB 7E            [ 7]  413 	ld	a,(hl)
   01FC 32r00r00      [13]  414 	ld	(#__n + 0),a
   01FF 21r00r00      [10]  415 	ld	hl, #_gp_tmap+0
   0202 34            [11]  416 	inc	(hl)
   0203 20 04         [12]  417 	jr	NZ,00103$
   0205 21r01r00      [10]  418 	ld	hl, #_gp_tmap+1
   0208 34            [11]  419 	inc	(hl)
   0209                     420 00103$:
   0209 CDr2Br00      [17]  421 	call	_ul_putc
                            422 ;./engine/printer.c:93: _n = *gp_tmap ++; ul_putc ();
   020C 2Ar00r00      [16]  423 	ld	hl,(_gp_tmap)
   020F 7E            [ 7]  424 	ld	a,(hl)
   0210 32r00r00      [13]  425 	ld	(#__n + 0),a
   0213 21r00r00      [10]  426 	ld	hl, #_gp_tmap+0
   0216 34            [11]  427 	inc	(hl)
   0217 20 04         [12]  428 	jr	NZ,00104$
   0219 21r01r00      [10]  429 	ld	hl, #_gp_tmap+1
   021C 34            [11]  430 	inc	(hl)
   021D                     431 00104$:
   021D CDr2Br00      [17]  432 	call	_ul_putc
                            433 ;./engine/printer.c:94: gp_addr += 30;
   0220 21r00r00      [10]  434 	ld	hl,#_gp_addr
   0223 7E            [ 7]  435 	ld	a,(hl)
   0224 C6 1E         [ 7]  436 	add	a, #0x1E
   0226 77            [ 7]  437 	ld	(hl),a
   0227 23            [ 6]  438 	inc	hl
   0228 7E            [ 7]  439 	ld	a,(hl)
   0229 CE 00         [ 7]  440 	adc	a, #0x00
   022B 77            [ 7]  441 	ld	(hl),a
                            442 ;./engine/printer.c:96: _n = *gp_tmap ++; ul_putc ();
   022C 2Ar00r00      [16]  443 	ld	hl,(_gp_tmap)
   022F 7E            [ 7]  444 	ld	a,(hl)
   0230 32r00r00      [13]  445 	ld	(#__n + 0),a
   0233 21r00r00      [10]  446 	ld	hl, #_gp_tmap+0
   0236 34            [11]  447 	inc	(hl)
   0237 20 04         [12]  448 	jr	NZ,00105$
   0239 21r01r00      [10]  449 	ld	hl, #_gp_tmap+1
   023C 34            [11]  450 	inc	(hl)
   023D                     451 00105$:
   023D CDr2Br00      [17]  452 	call	_ul_putc
                            453 ;./engine/printer.c:97: _n = *gp_tmap   ; ul_putc ();
   0240 2Ar00r00      [16]  454 	ld	hl,(_gp_tmap)
   0243 7E            [ 7]  455 	ld	a,(hl)
   0244 32r00r00      [13]  456 	ld	(#__n + 0),a
   0247 C3r2Br00      [10]  457 	jp  _ul_putc
                            458 ;./engine/printer.c:102: void map_set (void) {
                            459 ;	---------------------------------
                            460 ; Function map_set
                            461 ; ---------------------------------
   024A                     462 _map_set::
                            463 ;./engine/printer.c:103: map_buff [COORDS (_x, _y)] = _t;
   024A 11r00r00      [10]  464 	ld	de,#_map_buff+0
   024D FD 21r00r00   [14]  465 	ld	iy,#__y
   0251 FD 6E 00      [19]  466 	ld	l,0 (iy)
   0254 26 00         [ 7]  467 	ld	h,#0x00
   0256 29            [11]  468 	add	hl, hl
   0257 29            [11]  469 	add	hl, hl
   0258 29            [11]  470 	add	hl, hl
   0259 29            [11]  471 	add	hl, hl
   025A 4D            [ 4]  472 	ld	c, l
   025B 44            [ 4]  473 	ld	b, h
   025C 3Ar00r00      [13]  474 	ld	a,(#__x + 0)
   025F 26 00         [ 7]  475 	ld	h, #0x00
   0261 B1            [ 4]  476 	or	a, c
   0262 6F            [ 4]  477 	ld	l,a
   0263 7C            [ 4]  478 	ld	a,h
   0264 B0            [ 4]  479 	or	a, b
   0265 67            [ 4]  480 	ld	h,a
   0266 19            [11]  481 	add	hl,de
   0267 3Ar00r00      [13]  482 	ld	a,(#__t + 0)
   026A 77            [ 7]  483 	ld	(hl),a
                            484 ;./engine/printer.c:107: _x = _x << 1; _y = TOP_ADJUST + (_y << 1);
   026B FD 21r00r00   [14]  485 	ld	iy,#__x
   026F FD CB 00 26   [23]  486 	sla	0 (iy)
   0273 3Ar00r00      [13]  487 	ld	a,(#__y + 0)
   0276 87            [ 4]  488 	add	a, a
   0277 21r00r00      [10]  489 	ld	hl,#__y
   027A 3C            [ 4]  490 	inc	a
   027B 77            [ 7]  491 	ld	(hl),a
                            492 ;./engine/printer.c:108: update_list_tile (); 
   027C C3rBCr01      [10]  493 	jp  _update_list_tile
                            494 ;./engine/printer.c:111: unsigned char get_byte (void) {
                            495 ;	---------------------------------
                            496 ; Function get_byte
                            497 ; ---------------------------------
   027F                     498 _get_byte::
                            499 ;./engine/printer.c:112: -- rdit; return *gp_gen ++;
   027F 21r00r00      [10]  500 	ld	hl, #_rdit+0
   0282 35            [11]  501 	dec	(hl)
   0283 2Ar00r00      [16]  502 	ld	hl,(_gp_gen)
   0286 56            [ 7]  503 	ld	d,(hl)
   0287 21r00r00      [10]  504 	ld	hl, #_gp_gen+0
   028A 34            [11]  505 	inc	(hl)
   028B 20 04         [12]  506 	jr	NZ,00103$
   028D 21r01r00      [10]  507 	ld	hl, #_gp_gen+1
   0290 34            [11]  508 	inc	(hl)
   0291                     509 00103$:
   0291 6A            [ 4]  510 	ld	l,d
   0292 C9            [10]  511 	ret
                            512 ;./engine/../engine/mapmods/map_renderer_complex.h:11: void add_tile (void) {
                            513 ;	---------------------------------
                            514 ; Function add_tile
                            515 ; ---------------------------------
   0293                     516 _add_tile::
                            517 ;./engine/../engine/mapmods/map_renderer_complex.h:12: map_buff [rdm] = rda;
   0293 11r00r00      [10]  518 	ld	de,#_map_buff+0
   0296 2Ar00r00      [16]  519 	ld	hl,(_rdm)
   0299 26 00         [ 7]  520 	ld	h,#0x00
   029B 19            [11]  521 	add	hl,de
   029C 3Ar00r00      [13]  522 	ld	a,(#_rda + 0)
   029F 77            [ 7]  523 	ld	(hl),a
                            524 ;./engine/../engine/mapmods/map_renderer_complex.h:13: ++ rdm;
   02A0 21r00r00      [10]  525 	ld	hl, #_rdm+0
   02A3 34            [11]  526 	inc	(hl)
   02A4 C9            [10]  527 	ret
                            528 ;./engine/../engine/mapmods/map_renderer_complex.h:16: void draw_scr (void) {
                            529 ;	---------------------------------
                            530 ; Function draw_scr
                            531 ; ---------------------------------
   02A5                     532 _draw_scr::
                            533 ;./engine/../engine/mapmods/map_renderer_complex.h:20: rdm = 0;
   02A5 21r00r00      [10]  534 	ld	hl,#_rdm + 0
   02A8 36 00         [10]  535 	ld	(hl), #0x00
                            536 ;./engine/../engine/mapmods/map_renderer_complex.h:70: gp_gen = c_map [n_pant];
   02AA FD 21r00r00   [14]  537 	ld	iy,#_n_pant
   02AE FD 6E 00      [19]  538 	ld	l,0 (iy)
   02B1 26 00         [ 7]  539 	ld	h,#0x00
   02B3 29            [11]  540 	add	hl, hl
   02B4 EB            [ 4]  541 	ex	de,hl
   02B5 2Ar00r00      [16]  542 	ld	hl,(_c_map)
   02B8 19            [11]  543 	add	hl,de
   02B9 7E            [ 7]  544 	ld	a,(hl)
   02BA FD 21r00r00   [14]  545 	ld	iy,#_gp_gen
   02BE FD 77 00      [19]  546 	ld	0 (iy),a
   02C1 23            [ 6]  547 	inc	hl
   02C2 7E            [ 7]  548 	ld	a,(hl)
   02C3 FD 21r00r00   [14]  549 	ld	iy,#_gp_gen
   02C7 FD 77 01      [19]  550 	ld	1 (iy),a
                            551 ;./engine/../engine/mapmods/map_renderer_complex.h:72: while (rdm < 192) {
   02CA                     552 00104$:
   02CA 3Ar00r00      [13]  553 	ld	a,(#_rdm + 0)
   02CD D6 C0         [ 7]  554 	sub	a, #0xC0
   02CF 30 37         [12]  555 	jr	NC,00106$
                            556 ;./engine/../engine/mapmods/map_renderer_complex.h:73: rdt = *gp_gen ++;
   02D1 2Ar00r00      [16]  557 	ld	hl,(_gp_gen)
   02D4 7E            [ 7]  558 	ld	a,(hl)
   02D5 32r00r00      [13]  559 	ld	(#_rdt + 0),a
   02D8 21r00r00      [10]  560 	ld	hl, #_gp_gen+0
   02DB 34            [11]  561 	inc	(hl)
   02DC 20 04         [12]  562 	jr	NZ,00268$
   02DE 21r01r00      [10]  563 	ld	hl, #_gp_gen+1
   02E1 34            [11]  564 	inc	(hl)
   02E2                     565 00268$:
                            566 ;./engine/../engine/mapmods/map_renderer_complex.h:74: rda = rdt & 0x1f;
   02E2 3Ar00r00      [13]  567 	ld	a,(#_rdt + 0)
   02E5 E6 1F         [ 7]  568 	and	a, #0x1F
   02E7 32r00r00      [13]  569 	ld	(#_rda + 0),a
                            570 ;./engine/../engine/mapmods/map_renderer_complex.h:76: rdct = rdt;
   02EA 3Ar00r00      [13]  571 	ld	a,(#_rdt + 0)
   02ED 32r00r00      [13]  572 	ld	(#_rdct + 0),a
                            573 ;./engine/../engine/mapmods/map_renderer_complex.h:77: while (rdct >= 32) {
   02F0                     574 00101$:
   02F0 3Ar00r00      [13]  575 	ld	a,(#_rdct + 0)
   02F3 D6 20         [ 7]  576 	sub	a, #0x20
   02F5 38 0C         [12]  577 	jr	C,00103$
                            578 ;./engine/../engine/mapmods/map_renderer_complex.h:78: add_tile (); rdct -= 32;
   02F7 CDr93r02      [17]  579 	call	_add_tile
   02FA 21r00r00      [10]  580 	ld	hl,#_rdct
   02FD 7E            [ 7]  581 	ld	a,(hl)
   02FE C6 E0         [ 7]  582 	add	a,#0xE0
   0300 77            [ 7]  583 	ld	(hl),a
   0301 18 ED         [12]  584 	jr	00101$
   0303                     585 00103$:
                            586 ;./engine/../engine/mapmods/map_renderer_complex.h:79: } add_tile ();
   0303 CDr93r02      [17]  587 	call	_add_tile
   0306 18 C2         [12]  588 	jr	00104$
   0308                     589 00106$:
                            590 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:23: set_rand (1 + n_pant);
   0308 FD 21r00r00   [14]  591 	ld	iy,#_n_pant
   030C FD 66 00      [19]  592 	ld	h,0 (iy)
   030F 24            [ 4]  593 	inc	h
   0310 E5            [11]  594 	push	hl
   0311 33            [ 6]  595 	inc	sp
   0312 CDr00r00      [17]  596 	call	_set_rand
   0315 33            [ 6]  597 	inc	sp
                            598 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:25: if (level == 1) {
   0316 3Ar00r00      [13]  599 	ld	a,(#_level + 0)
   0319 3D            [ 4]  600 	dec	a
   031A C2rFDr03      [10]  601 	jp	NZ,00133$
                            602 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:26: gpit = 192; while (gpit --) {
   031D 21r00r00      [10]  603 	ld	hl,#_gpit + 0
   0320 36 C0         [10]  604 	ld	(hl), #0xC0
   0322                     605 00129$:
   0322 21r00r00      [10]  606 	ld	hl,#_gpit + 0
   0325 56            [ 7]  607 	ld	d, (hl)
   0326 21r00r00      [10]  608 	ld	hl, #_gpit+0
   0329 35            [11]  609 	dec	(hl)
   032A 7A            [ 4]  610 	ld	a,d
   032B B7            [ 4]  611 	or	a, a
   032C CArFDr03      [10]  612 	jp	Z,00133$
                            613 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:27: rda = map_buff [gpit];
   032F 3Er00         [ 7]  614 	ld	a,#<(_map_buff)
   0331 21r00r00      [10]  615 	ld	hl,#_gpit
   0334 86            [ 7]  616 	add	a, (hl)
   0335 5F            [ 4]  617 	ld	e,a
   0336 3Es00         [ 7]  618 	ld	a,#>(_map_buff)
   0338 CE 00         [ 7]  619 	adc	a, #0x00
   033A 57            [ 4]  620 	ld	d,a
   033B 1A            [ 7]  621 	ld	a,(de)
   033C 32r00r00      [13]  622 	ld	(#_rda + 0),a
                            623 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:28: rdb = map_buff [gpit - 1];
   033F 21r00r00      [10]  624 	ld	hl,#_gpit + 0
   0342 5E            [ 7]  625 	ld	e, (hl)
   0343 16 00         [ 7]  626 	ld	d,#0x00
   0345 6B            [ 4]  627 	ld	l,e
   0346 62            [ 4]  628 	ld	h,d
   0347 01rFFrFF      [10]  629 	ld	bc,#_map_buff-1
   034A 09            [11]  630 	add	hl,bc
   034B 7E            [ 7]  631 	ld	a,(hl)
   034C 32r00r00      [13]  632 	ld	(#_rdb + 0),a
                            633 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:29: rdc = map_buff [gpit + 1];
   034F 13            [ 6]  634 	inc	de
   0350 21r00r00      [10]  635 	ld	hl,#_map_buff
   0353 19            [11]  636 	add	hl,de
   0354 7E            [ 7]  637 	ld	a,(hl)
   0355 32r00r00      [13]  638 	ld	(#_rdc + 0),a
                            639 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:30: rdd = rand8();
   0358 CDr00r00      [17]  640 	call	_rand8
   035B FD 21r00r00   [14]  641 	ld	iy,#_rdd
   035F FD 75 00      [19]  642 	ld	0 (iy),l
                            643 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:31: switch (rda) {
   0362 3Ar00r00      [13]  644 	ld	a,(#_rda + 0)
   0365 FE 02         [ 7]  645 	cp	a,#0x02
   0367 28 64         [12]  646 	jr	Z,00122$
   0369 FE 07         [ 7]  647 	cp	a,#0x07
   036B 28 17         [12]  648 	jr	Z,00107$
   036D D6 08         [ 7]  649 	sub	a, #0x08
   036F 28 33         [12]  650 	jr	Z,00114$
                            651 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:41: rda = 30 + (rdd & 1);
   0371 3Ar00r00      [13]  652 	ld	a,(#_rdd + 0)
   0374 E6 01         [ 7]  653 	and	a, #0x01
   0376 57            [ 4]  654 	ld	d,a
                            655 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:31: switch (rda) {
   0377 3Ar00r00      [13]  656 	ld	a,(#_rda + 0)
   037A FE 0E         [ 7]  657 	cp	a,#0x0E
   037C 28 46         [12]  658 	jr	Z,00121$
   037E D6 1D         [ 7]  659 	sub	a, #0x1D
   0380 28 5F         [12]  660 	jr	Z,00125$
   0382 18 66         [12]  661 	jr	00128$
                            662 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:32: case 7:
   0384                     663 00107$:
                            664 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:33: if (rdb != 7) rda = 24;
   0384 3Ar00r00      [13]  665 	ld	a,(#_rdb + 0)
   0387 D6 07         [ 7]  666 	sub	a, #0x07
   0389 28 07         [12]  667 	jr	Z,00112$
   038B 21r00r00      [10]  668 	ld	hl,#_rda + 0
   038E 36 18         [10]  669 	ld	(hl), #0x18
   0390 18 58         [12]  670 	jr	00128$
   0392                     671 00112$:
                            672 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:34: else if (rdc != 7 && rdc != 25) rda = 25;
   0392 3Ar00r00      [13]  673 	ld	a,(#_rdc + 0)
   0395 FE 07         [ 7]  674 	cp	a,#0x07
   0397 28 51         [12]  675 	jr	Z,00128$
   0399 D6 19         [ 7]  676 	sub	a, #0x19
   039B 28 4D         [12]  677 	jr	Z,00128$
   039D 21r00r00      [10]  678 	ld	hl,#_rda + 0
   03A0 36 19         [10]  679 	ld	(hl), #0x19
                            680 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:35: break;
   03A2 18 46         [12]  681 	jr	00128$
                            682 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:36: case 8:
   03A4                     683 00114$:
                            684 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:37: if (rdb != 8) rda = 26;
   03A4 3Ar00r00      [13]  685 	ld	a,(#_rdb + 0)
   03A7 D6 08         [ 7]  686 	sub	a, #0x08
   03A9 28 07         [12]  687 	jr	Z,00119$
   03AB 21r00r00      [10]  688 	ld	hl,#_rda + 0
   03AE 36 1A         [10]  689 	ld	(hl), #0x1A
   03B0 18 38         [12]  690 	jr	00128$
   03B2                     691 00119$:
                            692 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:38: else if (rdc != 8 && rdc != 27) rda = 27;
   03B2 3Ar00r00      [13]  693 	ld	a,(#_rdc + 0)
   03B5 FE 08         [ 7]  694 	cp	a,#0x08
   03B7 28 31         [12]  695 	jr	Z,00128$
   03B9 D6 1B         [ 7]  696 	sub	a, #0x1B
   03BB 28 2D         [12]  697 	jr	Z,00128$
   03BD 21r00r00      [10]  698 	ld	hl,#_rda + 0
   03C0 36 1B         [10]  699 	ld	(hl), #0x1B
                            700 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:39: break;
   03C2 18 26         [12]  701 	jr	00128$
                            702 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:40: case 14:
   03C4                     703 00121$:
                            704 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:41: rda = 30 + (rdd & 1);
   03C4 7A            [ 4]  705 	ld	a,d
   03C5 21r00r00      [10]  706 	ld	hl,#_rda
   03C8 C6 1E         [ 7]  707 	add	a, #0x1E
   03CA 77            [ 7]  708 	ld	(hl),a
                            709 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:42: break;
   03CB 18 1D         [12]  710 	jr	00128$
                            711 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:43: case 2:
   03CD                     712 00122$:
                            713 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:44: if (rand8 () & 1) rda = 21 + (rdd & 1);
   03CD CDr00r00      [17]  714 	call	_rand8
   03D0 7D            [ 4]  715 	ld	a,l
   03D1 0F            [ 4]  716 	rrca
   03D2 30 16         [12]  717 	jr	NC,00128$
   03D4 3Ar00r00      [13]  718 	ld	a,(#_rdd + 0)
   03D7 E6 01         [ 7]  719 	and	a, #0x01
   03D9 21r00r00      [10]  720 	ld	hl,#_rda
   03DC C6 15         [ 7]  721 	add	a, #0x15
   03DE 77            [ 7]  722 	ld	(hl),a
                            723 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:45: break;
   03DF 18 09         [12]  724 	jr	00128$
                            725 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:46: case 29:
   03E1                     726 00125$:
                            727 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:47: if (rdd & 1) rda = 16;
   03E1 7A            [ 4]  728 	ld	a,d
   03E2 B7            [ 4]  729 	or	a, a
   03E3 28 05         [12]  730 	jr	Z,00128$
   03E5 21r00r00      [10]  731 	ld	hl,#_rda + 0
   03E8 36 10         [10]  732 	ld	(hl), #0x10
                            733 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:49: }
   03EA                     734 00128$:
                            735 ;./engine/../engine/mapmods/../../my/map_renderer_customization.h:50: map_buff [gpit] = rda;
   03EA 3Er00         [ 7]  736 	ld	a,#<(_map_buff)
   03EC 21r00r00      [10]  737 	ld	hl,#_gpit
   03EF 86            [ 7]  738 	add	a, (hl)
   03F0 5F            [ 4]  739 	ld	e,a
   03F1 3Es00         [ 7]  740 	ld	a,#>(_map_buff)
   03F3 CE 00         [ 7]  741 	adc	a, #0x00
   03F5 57            [ 4]  742 	ld	d,a
   03F6 3Ar00r00      [13]  743 	ld	a,(#_rda + 0)
   03F9 12            [ 7]  744 	ld	(de),a
   03FA C3r22r03      [10]  745 	jp	00129$
   03FD                     746 00133$:
                            747 ;./engine/../engine/mapmods/map_renderer_complex.h:147: gp_gen = c_locks; rda = 0;
   03FD 2Ar00r00      [16]  748 	ld	hl,(_c_locks)
   0400 22r00r00      [16]  749 	ld	(_gp_gen),hl
   0403 21r00r00      [10]  750 	ld	hl,#_rda + 0
   0406 36 00         [10]  751 	ld	(hl), #0x00
                            752 ;./engine/../engine/mapmods/map_renderer_complex.h:148: gpit = c_max_bolts; while (gpit --) {
   0408 3Ar00r00      [13]  753 	ld	a,(#_c_max_bolts + 0)
   040B 32r00r00      [13]  754 	ld	(#_gpit + 0),a
   040E 11r00r00      [10]  755 	ld	de,#_lkact+0
   0411                     756 00138$:
   0411 21r00r00      [10]  757 	ld	hl,#_gpit + 0
   0414 46            [ 7]  758 	ld	b, (hl)
   0415 21r00r00      [10]  759 	ld	hl, #_gpit+0
   0418 35            [11]  760 	dec	(hl)
   0419 78            [ 4]  761 	ld	a,b
   041A B7            [ 4]  762 	or	a, a
   041B 28 3F         [12]  763 	jr	Z,00140$
                            764 ;./engine/../engine/mapmods/map_renderer_complex.h:149: rdb = *gp_gen ++;
   041D 2Ar00r00      [16]  765 	ld	hl,(_gp_gen)
   0420 7E            [ 7]  766 	ld	a,(hl)
   0421 32r00r00      [13]  767 	ld	(#_rdb + 0),a
   0424 21r00r00      [10]  768 	ld	hl, #_gp_gen+0
   0427 34            [11]  769 	inc	(hl)
   0428 20 04         [12]  770 	jr	NZ,00283$
   042A 21r01r00      [10]  771 	ld	hl, #_gp_gen+1
   042D 34            [11]  772 	inc	(hl)
   042E                     773 00283$:
                            774 ;./engine/../engine/mapmods/map_renderer_complex.h:150: rdm = *gp_gen ++;
   042E 2Ar00r00      [16]  775 	ld	hl,(_gp_gen)
   0431 7E            [ 7]  776 	ld	a,(hl)
   0432 32r00r00      [13]  777 	ld	(#_rdm + 0),a
   0435 21r00r00      [10]  778 	ld	hl, #_gp_gen+0
   0438 34            [11]  779 	inc	(hl)
   0439 20 04         [12]  780 	jr	NZ,00284$
   043B 21r01r00      [10]  781 	ld	hl, #_gp_gen+1
   043E 34            [11]  782 	inc	(hl)
   043F                     783 00284$:
                            784 ;./engine/../engine/mapmods/map_renderer_complex.h:151: if (n_pant == rdb) {
   043F 3Ar00r00      [13]  785 	ld	a,(#_n_pant + 0)
   0442 FD 21r00r00   [14]  786 	ld	iy,#_rdb
   0446 FD 96 00      [19]  787 	sub	a, 0 (iy)
   0449 20 C6         [12]  788 	jr	NZ,00138$
                            789 ;./engine/../engine/mapmods/map_renderer_complex.h:152: if (!lkact [gpit]) add_tile ();
   044B 2Ar00r00      [16]  790 	ld	hl,(_gpit)
   044E 26 00         [ 7]  791 	ld	h,#0x00
   0450 19            [11]  792 	add	hl,de
   0451 7E            [ 7]  793 	ld	a,(hl)
   0452 B7            [ 4]  794 	or	a, a
   0453 20 BC         [12]  795 	jr	NZ,00138$
   0455 D5            [11]  796 	push	de
   0456 CDr93r02      [17]  797 	call	_add_tile
   0459 D1            [10]  798 	pop	de
   045A 18 B5         [12]  799 	jr	00138$
   045C                     800 00140$:
                            801 ;./engine/../engine/mapmods/map_renderer_complex.h:160: rdd = 0;
   045C 21r00r00      [10]  802 	ld	hl,#_rdd + 0
   045F 36 00         [10]  803 	ld	(hl), #0x00
                            804 ;./engine/../engine/mapmods/map_renderer_complex.h:163: _x = 0; _y = TOP_ADJUST; gp_ram = map_buff;
   0461 21r00r00      [10]  805 	ld	hl,#__x + 0
   0464 36 00         [10]  806 	ld	(hl), #0x00
   0466 21r00r00      [10]  807 	ld	hl,#__y + 0
   0469 36 01         [10]  808 	ld	(hl), #0x01
   046B 21r00r00      [10]  809 	ld	hl,#_map_buff+0
   046E 22r00r00      [16]  810 	ld	(_gp_ram),hl
                            811 ;./engine/../engine/mapmods/map_renderer_complex.h:164: for (rdm = 0; rdm < 192; rdm ++) {
   0471 21r00r00      [10]  812 	ld	hl,#_rdm + 0
   0474 36 00         [10]  813 	ld	(hl), #0x00
   0476                     814 00148$:
                            815 ;./engine/../engine/mapmods/map_renderer_complex.h:165: rdt = *gp_ram ++;
   0476 2Ar00r00      [16]  816 	ld	hl,(_gp_ram)
   0479 7E            [ 7]  817 	ld	a,(hl)
   047A 32r00r00      [13]  818 	ld	(#_rdt + 0),a
   047D 21r00r00      [10]  819 	ld	hl, #_gp_ram+0
   0480 34            [11]  820 	inc	(hl)
   0481 20 04         [12]  821 	jr	NZ,00287$
   0483 21r01r00      [10]  822 	ld	hl, #_gp_ram+1
   0486 34            [11]  823 	inc	(hl)
   0487                     824 00287$:
                            825 ;./engine/../engine/mapmods/map_renderer_complex.h:168: if (tile_got [rdd] & bits [rdm & 7]) rdt = 0;
   0487 FD 21r00r00   [14]  826 	ld	iy,#_tile_got
   048B ED 5Br00r00   [20]  827 	ld	de,(_rdd)
   048F 16 00         [ 7]  828 	ld	d,#0x00
   0491 FD 19         [15]  829 	add	iy, de
   0493 FD 46 00      [19]  830 	ld	b, 0 (iy)
   0496 3Ar00r00      [13]  831 	ld	a,(#_rdm + 0)
   0499 E6 07         [ 7]  832 	and	a, #0x07
   049B 5F            [ 4]  833 	ld	e,a
   049C 21r00r00      [10]  834 	ld	hl,#_bits
   049F 16 00         [ 7]  835 	ld	d,#0x00
   04A1 19            [11]  836 	add	hl, de
   04A2 7E            [ 7]  837 	ld	a,(hl)
   04A3 A0            [ 4]  838 	and	a,b
   04A4 28 05         [12]  839 	jr	Z,00142$
   04A6 21r00r00      [10]  840 	ld	hl,#_rdt + 0
   04A9 36 00         [10]  841 	ld	(hl), #0x00
   04AB                     842 00142$:
                            843 ;./engine/../engine/mapmods/map_renderer_complex.h:169: if ((rdm & 7) == 7) ++ rdd;
   04AB 7B            [ 4]  844 	ld	a,e
   04AC D6 07         [ 7]  845 	sub	a, #0x07
   04AE 20 04         [12]  846 	jr	NZ,00144$
   04B0 21r00r00      [10]  847 	ld	hl, #_rdd+0
   04B3 34            [11]  848 	inc	(hl)
   04B4                     849 00144$:
                            850 ;./engine/../engine/mapmods/map_renderer_complex.h:178: DISABLE_INTERRUPTS;
   04B4 F3            [ 4]  851 	di 
                            852 ;./engine/../engine/mapmods/map_renderer_complex.h:179: _t = rdt; draw_tile ();
   04B5 3Ar00r00      [13]  853 	ld	a,(#_rdt + 0)
   04B8 32r00r00      [13]  854 	ld	(#__t + 0),a
   04BB CDr02r01      [17]  855 	call	_draw_tile
                            856 ;./engine/../engine/mapmods/map_renderer_complex.h:180: _x = (_x + 2) & 0x1f; if (!_x) _y += 2;
   04BE 3Ar00r00      [13]  857 	ld	a,(#__x + 0)
   04C1 C6 02         [ 7]  858 	add	a, #0x02
   04C3 E6 1F         [ 7]  859 	and	a, #0x1F
   04C5 32r00r00      [13]  860 	ld	(#__x + 0),a
   04C8 B7            [ 4]  861 	or	a, a
   04C9 20 08         [12]  862 	jr	NZ,00146$
   04CB 21r00r00      [10]  863 	ld	hl, #__y+0
   04CE 34            [11]  864 	inc	(hl)
   04CF 21r00r00      [10]  865 	ld	hl, #__y+0
   04D2 34            [11]  866 	inc	(hl)
   04D3                     867 00146$:
                            868 ;./engine/../engine/mapmods/map_renderer_complex.h:181: ENABLE_INTERRUPTS;
   04D3 FB            [ 4]  869 	ei 
                            870 ;./engine/../engine/mapmods/map_renderer_complex.h:164: for (rdm = 0; rdm < 192; rdm ++) {
   04D4 21r00r00      [10]  871 	ld	hl, #_rdm+0
   04D7 34            [11]  872 	inc	(hl)
   04D8 3Ar00r00      [13]  873 	ld	a,(#_rdm + 0)
   04DB D6 C0         [ 7]  874 	sub	a, #0xC0
   04DD 38 97         [12]  875 	jr	C,00148$
                            876 ;./engine/../engine/mapmods/map_renderer_complex.h:210: ENABLE_INTERRUPTS;
   04DF FB            [ 4]  877 	ei 
   04E0 C9            [10]  878 	ret
                            879 ;./engine/printer.c:122: void pr_str (const unsigned char *s) {
                            880 ;	---------------------------------
                            881 ; Function pr_str
                            882 ; ---------------------------------
   04E1                     883 _pr_str::
                            884 ;./engine/printer.c:123: HW_setNextTileatXY (_x, _y);
   04E1 3Ar00r00      [13]  885 	ld	a,(__y)
   04E4 F5            [11]  886 	push	af
   04E5 33            [ 6]  887 	inc	sp
   04E6 3Ar00r00      [13]  888 	ld	a,(__x)
   04E9 F5            [11]  889 	push	af
   04EA 33            [ 6]  890 	inc	sp
   04EB CDr00r00      [17]  891 	call	_SG_setNextTileatXY
   04EE F1            [10]  892 	pop	af
                            893 ;./engine/printer.c:124: while (gpit = *s++) {
   04EF C1            [10]  894 	pop	bc
   04F0 D1            [10]  895 	pop	de
   04F1 D5            [11]  896 	push	de
   04F2 C5            [11]  897 	push	bc
   04F3                     898 00104$:
   04F3 1A            [ 7]  899 	ld	a,(de)
   04F4 13            [ 6]  900 	inc	de
                            901 ;./engine/printer.c:125: if (gpit == '%') {
   04F5 32r00r00      [13]  902 	ld	(#_gpit + 0),a
   04F8 B7            [ 4]  903 	or	a,a
   04F9 C8            [11]  904 	ret	Z
   04FA D6 25         [ 7]  905 	sub	a, #0x25
   04FC 20 16         [12]  906 	jr	NZ,00102$
                            907 ;./engine/printer.c:126: ++ _y; HW_setNextTileatXY (_x, _y);
   04FE 21r00r00      [10]  908 	ld	hl, #__y+0
   0501 34            [11]  909 	inc	(hl)
   0502 D5            [11]  910 	push	de
   0503 3Ar00r00      [13]  911 	ld	a,(__y)
   0506 F5            [11]  912 	push	af
   0507 33            [ 6]  913 	inc	sp
   0508 3Ar00r00      [13]  914 	ld	a,(__x)
   050B F5            [11]  915 	push	af
   050C 33            [ 6]  916 	inc	sp
   050D CDr00r00      [17]  917 	call	_SG_setNextTileatXY
   0510 F1            [10]  918 	pop	af
   0511 D1            [10]  919 	pop	de
   0512 18 DF         [12]  920 	jr	00104$
   0514                     921 00102$:
                            922 ;./engine/printer.c:128: else HW_setTile (gpit - 32); 
   0514 3Ar00r00      [13]  923 	ld	a,(#_gpit + 0)
   0517 C6 E0         [ 7]  924 	add	a,#0xE0
   0519 D5            [11]  925 	push	de
   051A F5            [11]  926 	push	af
   051B 33            [ 6]  927 	inc	sp
   051C CDr00r00      [17]  928 	call	_SG_setTile
   051F 33            [ 6]  929 	inc	sp
   0520 D1            [10]  930 	pop	de
   0521 18 D0         [12]  931 	jr	00104$
                            932 	.area _CODE
                            933 	.area _INITIALIZER
                            934 	.area _CABS (ABS)
