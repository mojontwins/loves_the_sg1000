                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.2 #9293 (MINGW32)
                              4 ; This file was generated Wed Sep 11 14:35:22 2019
                              5 ;--------------------------------------------------------
                              6 	.module player
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _player_move
                             13 	.globl _player_process_tile
                             14 	.globl _player_kill
                             15 	.globl _player_to_pixels
                             16 	.globl _player_render
                             17 	.globl _player_init
                             18 	.globl _player_stop
                             19 	.globl _player_register_safe_spot
                             20 	.globl _update_cycle
                             21 	.globl _jump_start
                             22 	.globl _run_fire_script
                             23 	.globl _cm_two_points
                             24 	.globl _map_set
                             25 	.globl _delay
                             26 	.globl _PSGSFXPlay
                             27 	.globl _music_pause
                             28 	.globl _SG_resetPauseRequest
                             29 	.globl _SG_setStp
                             30 	.globl _SG_addMetaSprite
                             31 ;--------------------------------------------------------
                             32 ; special function registers
                             33 ;--------------------------------------------------------
                     00BF    34 _VDPControlPort	=	0x00bf
                     00BF    35 _VDPStatusPort	=	0x00bf
                     00BE    36 _VDPDataPort	=	0x00be
                     007E    37 _VDPVCounterPort	=	0x007e
                     007F    38 _VDPHCounterPort	=	0x007f
                     00DC    39 _IOPortL	=	0x00dc
                     00DD    40 _IOPortH	=	0x00dd
                             41 ;--------------------------------------------------------
                             42 ; ram data
                             43 ;--------------------------------------------------------
                             44 	.area _DATA
                             45 ;--------------------------------------------------------
                             46 ; ram data
                             47 ;--------------------------------------------------------
                             48 	.area _INITIALIZED
                             49 ;--------------------------------------------------------
                             50 ; absolute external ram data
                             51 ;--------------------------------------------------------
                             52 	.area _DABS (ABS)
                             53 ;--------------------------------------------------------
                             54 ; global & static initialisations
                             55 ;--------------------------------------------------------
                             56 	.area _HOME
                             57 	.area _GSINIT
                             58 	.area _GSFINAL
                             59 	.area _GSINIT
                             60 ;--------------------------------------------------------
                             61 ; Home
                             62 ;--------------------------------------------------------
                             63 	.area _HOME
                             64 	.area _HOME
                             65 ;--------------------------------------------------------
                             66 ; code
                             67 ;--------------------------------------------------------
                             68 	.area _CODE
                             69 ;./engine/player.c:32: void player_register_safe_spot (void) {
                             70 ;	---------------------------------
                             71 ; Function player_register_safe_spot
                             72 ; ---------------------------------
   0000                      73 _player_register_safe_spot::
                             74 ;./engine/player.c:33: px_safe = px;
   0000 2Ar00r00      [16]   75 	ld	hl,(_px)
   0003 22r00r00      [16]   76 	ld	(_px_safe),hl
                             77 ;./engine/player.c:34: py_safe = py;
   0006 2Ar00r00      [16]   78 	ld	hl,(_py)
   0009 22r00r00      [16]   79 	ld	(_py_safe),hl
                             80 ;./engine/player.c:35: n_pant_safe = n_pant;
   000C 3Ar00r00      [13]   81 	ld	a,(#_n_pant + 0)
   000F 32r00r00      [13]   82 	ld	(#_n_pant_safe + 0),a
   0012 C9            [10]   83 	ret
                             84 ;./engine/player.c:39: void player_stop (void) {
                             85 ;	---------------------------------
                             86 ; Function player_stop
                             87 ; ---------------------------------
   0013                      88 _player_stop::
                             89 ;./engine/player.c:40: pvx = pvy = 0;
   0013 21 00 00      [10]   90 	ld	hl,#0x0000
   0016 22r00r00      [16]   91 	ld	(_pvy),hl
   0019 2E 00         [ 7]   92 	ld	l, #0x00
   001B 22r00r00      [16]   93 	ld	(_pvx),hl
   001E C9            [10]   94 	ret
                             95 ;./engine/player.c:43: void player_init (void) {
                             96 ;	---------------------------------
                             97 ; Function player_init
                             98 ; ---------------------------------
   001F                      99 _player_init::
                            100 ;./engine/player.c:46: if (!warp_to_level) player_stop ();
   001F 3Ar00r00      [13]  101 	ld	a,(#_warp_to_level + 0)
   0022 B7            [ 4]  102 	or	a, a
   0023 20 03         [12]  103 	jr	NZ,00102$
   0025 CDr13r00      [17]  104 	call	_player_stop
   0028                     105 00102$:
                            106 ;./engine/player.c:51: pfacing = 0;
   0028 21r00r00      [10]  107 	ld	hl,#_pfacing + 0
   002B 36 00         [10]  108 	ld	(hl), #0x00
                            109 ;./engine/player.c:54: pfr = pctfr = 0;
   002D 21r00r00      [10]  110 	ld	hl,#_pctfr + 0
   0030 36 00         [10]  111 	ld	(hl), #0x00
   0032 21r00r00      [10]  112 	ld	hl,#_pfr + 0
   0035 36 00         [10]  113 	ld	(hl), #0x00
                            114 ;./engine/player.c:55: pj = pctj = 0;
   0037 21r00r00      [10]  115 	ld	hl,#_pctj + 0
   003A 36 00         [10]  116 	ld	(hl), #0x00
   003C 21r00r00      [10]  117 	ld	hl,#_pj + 0
   003F 36 00         [10]  118 	ld	(hl), #0x00
                            119 ;./engine/player.c:56: psprid = 0;
   0041 21r00r00      [10]  120 	ld	hl,#_psprid + 0
   0044 36 00         [10]  121 	ld	(hl), #0x00
                            122 ;./engine/player.c:59: pobjs = 0;
   0046 21r00r00      [10]  123 	ld	hl,#_pobjs + 0
   0049 36 00         [10]  124 	ld	(hl), #0x00
                            125 ;./engine/player.c:63: pkeys = 0;
   004B 21r00r00      [10]  126 	ld	hl,#_pkeys + 0
   004E 36 00         [10]  127 	ld	(hl), #0x00
                            128 ;./engine/player.c:66: pgotten = 0;
   0050 21r00r00      [10]  129 	ld	hl,#_pgotten + 0
   0053 36 00         [10]  130 	ld	(hl), #0x00
                            131 ;./engine/player.c:67: pfiring = 0;
   0055 21r00r00      [10]  132 	ld	hl,#_pfiring + 0
   0058 36 00         [10]  133 	ld	(hl), #0x00
                            134 ;./engine/player.c:70: pkilled = 0;
   005A 21r00r00      [10]  135 	ld	hl,#_pkilled + 0
   005D 36 00         [10]  136 	ld	(hl), #0x00
                            137 ;./engine/player.c:86: pflickering = pbouncing = 0;
   005F 21r00r00      [10]  138 	ld	hl,#_pbouncing + 0
   0062 36 00         [10]  139 	ld	(hl), #0x00
   0064 21r00r00      [10]  140 	ld	hl,#_pflickering + 0
   0067 36 00         [10]  141 	ld	(hl), #0x00
                            142 ;./engine/player.c:89: player_register_safe_spot ();
   0069 CDr00r00      [17]  143 	call	_player_register_safe_spot
                            144 ;./engine/player.c:99: vertical_engine_type = ENGINE_TYPE_JUMP;
   006C 21r00r00      [10]  145 	ld	hl,#_vertical_engine_type + 0
   006F 36 00         [10]  146 	ld	(hl), #0x00
   0071 C9            [10]  147 	ret
                            148 ;./engine/player.c:118: void player_render (void) {
                            149 ;	---------------------------------
                            150 ; Function player_render
                            151 ; ---------------------------------
   0072                     152 _player_render::
                            153 ;./engine/player.c:119: if (0 == pflickering || half_life) 
   0072 3Ar00r00      [13]  154 	ld	a,(#_pflickering + 0)
   0075 B7            [ 4]  155 	or	a, a
   0076 28 05         [12]  156 	jr	Z,00101$
   0078 3Ar00r00      [13]  157 	ld	a,(#_half_life + 0)
   007B B7            [ 4]  158 	or	a, a
   007C C8            [11]  159 	ret	Z
   007D                     160 00101$:
                            161 ;./engine/player.c:122: spr_player [psprid]
   007D 11r00r00      [10]  162 	ld	de,#_spr_player+0
   0080 FD 21r00r00   [14]  163 	ld	iy,#_psprid
   0084 FD 6E 00      [19]  164 	ld	l,0 (iy)
   0087 26 00         [ 7]  165 	ld	h,#0x00
   0089 29            [11]  166 	add	hl, hl
   008A 19            [11]  167 	add	hl,de
   008B 5E            [ 7]  168 	ld	e,(hl)
   008C 23            [ 6]  169 	inc	hl
   008D 56            [ 7]  170 	ld	d,(hl)
                            171 ;./engine/player.c:121: prx - 4, pry + SPRITE_ADJUST, 
   008E 3Ar00r00      [13]  172 	ld	a,(#_pry + 0)
   0091 C6 F7         [ 7]  173 	add	a, #0xF7
   0093 47            [ 4]  174 	ld	b,a
   0094 3Ar00r00      [13]  175 	ld	a,(#_prx + 0)
   0097 C6 FC         [ 7]  176 	add	a,#0xFC
   0099 4F            [ 4]  177 	ld	c,a
   009A D5            [11]  178 	push	de
   009B C5            [11]  179 	push	bc
   009C CDr00r00      [17]  180 	call	_SG_addMetaSprite
   009F F1            [10]  181 	pop	af
   00A0 F1            [10]  182 	pop	af
   00A1 C9            [10]  183 	ret
                            184 ;./engine/player.c:126: void player_to_pixels (void) {
                            185 ;	---------------------------------
                            186 ; Function player_to_pixels
                            187 ; ---------------------------------
   00A2                     188 _player_to_pixels::
                            189 ;./engine/player.c:127: prx = px >> FIXBITS;
   00A2 2Ar00r00      [16]  190 	ld	hl,(_px)
   00A5 CB 2C         [ 8]  191 	sra	h
   00A7 CB 1D         [ 8]  192 	rr	l
   00A9 CB 2C         [ 8]  193 	sra	h
   00AB CB 1D         [ 8]  194 	rr	l
   00AD CB 2C         [ 8]  195 	sra	h
   00AF CB 1D         [ 8]  196 	rr	l
   00B1 CB 2C         [ 8]  197 	sra	h
   00B3 CB 1D         [ 8]  198 	rr	l
   00B5 CB 2C         [ 8]  199 	sra	h
   00B7 CB 1D         [ 8]  200 	rr	l
   00B9 CB 2C         [ 8]  201 	sra	h
   00BB CB 1D         [ 8]  202 	rr	l
   00BD FD 21r00r00   [14]  203 	ld	iy,#_prx
   00C1 FD 75 00      [19]  204 	ld	0 (iy),l
                            205 ;./engine/player.c:128: pry = py >> FIXBITS;
   00C4 2Ar00r00      [16]  206 	ld	hl,(_py)
   00C7 CB 2C         [ 8]  207 	sra	h
   00C9 CB 1D         [ 8]  208 	rr	l
   00CB CB 2C         [ 8]  209 	sra	h
   00CD CB 1D         [ 8]  210 	rr	l
   00CF CB 2C         [ 8]  211 	sra	h
   00D1 CB 1D         [ 8]  212 	rr	l
   00D3 CB 2C         [ 8]  213 	sra	h
   00D5 CB 1D         [ 8]  214 	rr	l
   00D7 CB 2C         [ 8]  215 	sra	h
   00D9 CB 1D         [ 8]  216 	rr	l
   00DB CB 2C         [ 8]  217 	sra	h
   00DD CB 1D         [ 8]  218 	rr	l
   00DF FD 21r00r00   [14]  219 	ld	iy,#_pry
   00E3 FD 75 00      [19]  220 	ld	0 (iy),l
   00E6 C9            [10]  221 	ret
                            222 ;./engine/player.c:131: void player_kill (void) {
                            223 ;	---------------------------------
                            224 ; Function player_kill
                            225 ; ---------------------------------
   00E7                     226 _player_kill::
                            227 ;./engine/player.c:132: HW_setStp (cur_stp);
   00E7 2Ar00r00      [16]  228 	ld	hl,(_cur_stp)
   00EA E5            [11]  229 	push	hl
   00EB CDr00r00      [17]  230 	call	_SG_setStp
   00EE F1            [10]  231 	pop	af
                            232 ;./engine/player.c:133: player_render ();
   00EF CDr72r00      [17]  233 	call	_player_render
                            234 ;./engine/player.c:134: update_cycle ();
   00F2 CDr00r00      [17]  235 	call	_update_cycle
                            236 ;./engine/player.c:136: pkill = phit = 0;
   00F5 21r00r00      [10]  237 	ld	hl,#_phit + 0
   00F8 36 00         [10]  238 	ld	(hl), #0x00
   00FA 21r00r00      [10]  239 	ld	hl,#_pkill + 0
   00FD 36 00         [10]  240 	ld	(hl), #0x00
                            241 ;./engine/player.c:137: PSGSFXPlay (SFX_PHIT, 3);
   00FF 11r00r00      [10]  242 	ld	de,#_s_05_phit3_psg+0
   0102 3E 03         [ 7]  243 	ld	a,#0x03
   0104 F5            [11]  244 	push	af
   0105 33            [ 6]  245 	inc	sp
   0106 D5            [11]  246 	push	de
   0107 CDr00r00      [17]  247 	call	_PSGSFXPlay
   010A F1            [10]  248 	pop	af
   010B 33            [ 6]  249 	inc	sp
                            250 ;./engine/player.c:139: if (plife) -- plife; else game_over = 1;
   010C 3Ar00r00      [13]  251 	ld	a,(#_plife + 0)
   010F B7            [ 4]  252 	or	a, a
   0110 28 06         [12]  253 	jr	Z,00102$
   0112 21r00r00      [10]  254 	ld	hl, #_plife+0
   0115 35            [11]  255 	dec	(hl)
   0116 18 05         [12]  256 	jr	00103$
   0118                     257 00102$:
   0118 21r00r00      [10]  258 	ld	hl,#_game_over + 0
   011B 36 01         [10]  259 	ld	(hl), #0x01
   011D                     260 00103$:
                            261 ;./engine/player.c:142: pflickering = PLAYER_FLICKERS;
   011D 21r00r00      [10]  262 	ld	hl,#_pflickering + 0
   0120 36 64         [10]  263 	ld	(hl), #0x64
                            264 ;./engine/player.c:154: music_pause (1);
   0122 3E 01         [ 7]  265 	ld	a,#0x01
   0124 F5            [11]  266 	push	af
   0125 33            [ 6]  267 	inc	sp
   0126 CDr00r00      [17]  268 	call	_music_pause
   0129 33            [ 6]  269 	inc	sp
                            270 ;./engine/player.c:155: delay (60);
   012A 3E 3C         [ 7]  271 	ld	a,#0x3C
   012C F5            [11]  272 	push	af
   012D 33            [ 6]  273 	inc	sp
   012E CDr00r00      [17]  274 	call	_delay
   0131 33            [ 6]  275 	inc	sp
                            276 ;./engine/player.c:160: px = px_safe; 
   0132 2Ar00r00      [16]  277 	ld	hl,(_px_safe)
   0135 22r00r00      [16]  278 	ld	(_px),hl
                            279 ;./engine/player.c:161: py = py_safe; 
   0138 2Ar00r00      [16]  280 	ld	hl,(_py_safe)
   013B 22r00r00      [16]  281 	ld	(_py),hl
                            282 ;./engine/player.c:162: player_to_pixels ();
   013E CDrA2r00      [17]  283 	call	_player_to_pixels
                            284 ;./engine/player.c:163: n_pant = n_pant_safe;		
   0141 3Ar00r00      [13]  285 	ld	a,(#_n_pant_safe + 0)
   0144 32r00r00      [13]  286 	ld	(#_n_pant + 0),a
                            287 ;./engine/player.c:164: player_stop ();
   0147 CDr13r00      [17]  288 	call	_player_stop
                            289 ;./engine/player.c:165: music_pause (0);
   014A AF            [ 4]  290 	xor	a, a
   014B F5            [11]  291 	push	af
   014C 33            [ 6]  292 	inc	sp
   014D CDr00r00      [17]  293 	call	_music_pause
   0150 33            [ 6]  294 	inc	sp
                            295 ;./engine/player.c:167: HW_resetPauseRequest ();
   0151 C3r00r00      [10]  296 	jp  _SG_resetPauseRequest
                            297 ;./engine/../engine/playermods/process_tile.h:4: void player_process_tile (unsigned char at, unsigned char x0, unsigned char y0, unsigned char x1, unsigned char y1) {
                            298 ;	---------------------------------
                            299 ; Function player_process_tile
                            300 ; ---------------------------------
   0154                     301 _player_process_tile::
   0154 DD E5         [15]  302 	push	ix
   0156 DD 21 00 00   [14]  303 	ld	ix,#0
   015A DD 39         [15]  304 	add	ix,sp
                            305 ;./engine/../engine/playermods/process_tile.h:5: if (y0) -- y0;
   015C DD 7E 06      [19]  306 	ld	a,6 (ix)
   015F B7            [ 4]  307 	or	a, a
   0160 28 03         [12]  308 	jr	Z,00102$
   0162 DD 35 06      [23]  309 	dec	6 (ix)
   0165                     310 00102$:
                            311 ;./engine/../engine/playermods/process_tile.h:46: at == 10 &&
   0165 DD 7E 04      [19]  312 	ld	a,4 (ix)
   0168 D6 0A         [ 7]  313 	sub	a, #0x0A
   016A C2r10r02      [10]  314 	jp	NZ,00112$
                            315 ;./engine/../engine/playermods/process_tile.h:47: pkeys
   016D 3Ar00r00      [13]  316 	ld	a,(#_pkeys + 0)
   0170 B7            [ 4]  317 	or	a, a
   0171 CAr10r02      [10]  318 	jp	Z,00112$
                            319 ;./engine/../engine/playermods/process_tile.h:49: _x = x0; _y = y0; _t = 0; map_set ();
   0174 DD 7E 05      [19]  320 	ld	a,5 (ix)
   0177 32r00r00      [13]  321 	ld	(#__x + 0),a
   017A DD 7E 06      [19]  322 	ld	a,6 (ix)
   017D 32r00r00      [13]  323 	ld	(#__y + 0),a
   0180 21r00r00      [10]  324 	ld	hl,#__t + 0
   0183 36 00         [10]  325 	ld	(hl), #0x00
   0185 CDr00r00      [17]  326 	call	_map_set
                            327 ;./engine/../engine/playermods/process_tile.h:52: gp_gen = (unsigned char *) c_locks;
   0188 2Ar00r00      [16]  328 	ld	hl,(_c_locks)
   018B 22r00r00      [16]  329 	ld	(_gp_gen),hl
                            330 ;./engine/../engine/playermods/process_tile.h:53: gpit = c_max_bolts; while (gpit --) {
   018E 3Ar00r00      [13]  331 	ld	a,(#_c_max_bolts + 0)
   0191 32r00r00      [13]  332 	ld	(#_gpit + 0),a
   0194                     333 00106$:
   0194 21r00r00      [10]  334 	ld	hl,#_gpit + 0
   0197 5E            [ 7]  335 	ld	e, (hl)
   0198 21r00r00      [10]  336 	ld	hl, #_gpit+0
   019B 35            [11]  337 	dec	(hl)
   019C 7B            [ 4]  338 	ld	a,e
   019D B7            [ 4]  339 	or	a, a
   019E 28 5F         [12]  340 	jr	Z,00108$
                            341 ;./engine/../engine/playermods/process_tile.h:54: rda = *gp_gen ++; rdb = *gp_gen ++;
   01A0 2Ar00r00      [16]  342 	ld	hl,(_gp_gen)
   01A3 7E            [ 7]  343 	ld	a,(hl)
   01A4 32r00r00      [13]  344 	ld	(#_rda + 0),a
   01A7 21r00r00      [10]  345 	ld	hl, #_gp_gen+0
   01AA 34            [11]  346 	inc	(hl)
   01AB 20 04         [12]  347 	jr	NZ,00144$
   01AD 21r01r00      [10]  348 	ld	hl, #_gp_gen+1
   01B0 34            [11]  349 	inc	(hl)
   01B1                     350 00144$:
   01B1 2Ar00r00      [16]  351 	ld	hl,(_gp_gen)
   01B4 7E            [ 7]  352 	ld	a,(hl)
   01B5 32r00r00      [13]  353 	ld	(#_rdb + 0),a
   01B8 21r00r00      [10]  354 	ld	hl, #_gp_gen+0
   01BB 34            [11]  355 	inc	(hl)
   01BC 20 04         [12]  356 	jr	NZ,00145$
   01BE 21r01r00      [10]  357 	ld	hl, #_gp_gen+1
   01C1 34            [11]  358 	inc	(hl)
   01C2                     359 00145$:
                            360 ;./engine/../engine/playermods/process_tile.h:55: if (n_pant == rda && COORDS (x0, y0) == rdb) {
   01C2 3Ar00r00      [13]  361 	ld	a,(#_n_pant + 0)
   01C5 FD 21r00r00   [14]  362 	ld	iy,#_rda
   01C9 FD 96 00      [19]  363 	sub	a, 0 (iy)
   01CC 20 C6         [12]  364 	jr	NZ,00106$
   01CE DD 6E 06      [19]  365 	ld	l,6 (ix)
   01D1 26 00         [ 7]  366 	ld	h,#0x00
   01D3 29            [11]  367 	add	hl, hl
   01D4 29            [11]  368 	add	hl, hl
   01D5 29            [11]  369 	add	hl, hl
   01D6 29            [11]  370 	add	hl, hl
   01D7 DD 7E 05      [19]  371 	ld	a, 5 (ix)
   01DA 16 00         [ 7]  372 	ld	d, #0x00
   01DC B5            [ 4]  373 	or	a, l
   01DD 5F            [ 4]  374 	ld	e,a
   01DE 7A            [ 4]  375 	ld	a,d
   01DF B4            [ 4]  376 	or	a, h
   01E0 57            [ 4]  377 	ld	d,a
   01E1 21r00r00      [10]  378 	ld	hl,#_rdb + 0
   01E4 4E            [ 7]  379 	ld	c, (hl)
   01E5 06 00         [ 7]  380 	ld	b,#0x00
   01E7 7B            [ 4]  381 	ld	a,e
   01E8 91            [ 4]  382 	sub	a, c
   01E9 20 A9         [12]  383 	jr	NZ,00106$
   01EB 7A            [ 4]  384 	ld	a,d
   01EC 90            [ 4]  385 	sub	a, b
   01ED 20 A5         [12]  386 	jr	NZ,00106$
                            387 ;./engine/../engine/playermods/process_tile.h:56: lkact [gpit] = 0;
   01EF 3Er00         [ 7]  388 	ld	a,#<(_lkact)
   01F1 21r00r00      [10]  389 	ld	hl,#_gpit
   01F4 86            [ 7]  390 	add	a, (hl)
   01F5 5F            [ 4]  391 	ld	e,a
   01F6 3Es00         [ 7]  392 	ld	a,#>(_lkact)
   01F8 CE 00         [ 7]  393 	adc	a, #0x00
   01FA 57            [ 4]  394 	ld	d,a
   01FB AF            [ 4]  395 	xor	a, a
   01FC 12            [ 7]  396 	ld	(de),a
   01FD 18 95         [12]  397 	jr	00106$
   01FF                     398 00108$:
                            399 ;./engine/../engine/playermods/process_tile.h:60: -- pkeys;
   01FF 21r00r00      [10]  400 	ld	hl, #_pkeys+0
   0202 35            [11]  401 	dec	(hl)
                            402 ;./engine/../engine/playermods/process_tile.h:61: PSGSFXPlay (SFX_TILE, 2);
   0203 11r00r00      [10]  403 	ld	de,#_s_01_tile3_psg+0
   0206 3E 02         [ 7]  404 	ld	a,#0x02
   0208 F5            [11]  405 	push	af
   0209 33            [ 6]  406 	inc	sp
   020A D5            [11]  407 	push	de
   020B CDr00r00      [17]  408 	call	_PSGSFXPlay
   020E F1            [10]  409 	pop	af
   020F 33            [ 6]  410 	inc	sp
   0210                     411 00112$:
   0210 DD E1         [14]  412 	pop	ix
   0212 C9            [10]  413 	ret
                            414 ;./engine/player.c:188: void player_move (void) {
                            415 ;	---------------------------------
                            416 ; Function player_move
                            417 ; ---------------------------------
   0213                     418 _player_move::
   0213 DD E5         [15]  419 	push	ix
   0215 DD 21 00 00   [14]  420 	ld	ix,#0
   0219 DD 39         [15]  421 	add	ix,sp
   021B F5            [11]  422 	push	af
   021C F5            [11]  423 	push	af
                            424 ;./engine/player.c:189: if (pflickering) -- pflickering;
   021D 3Ar00r00      [13]  425 	ld	a,(#_pflickering + 0)
   0220 B7            [ 4]  426 	or	a, a
   0221 28 04         [12]  427 	jr	Z,00102$
   0223 21r00r00      [10]  428 	ld	hl, #_pflickering+0
   0226 35            [11]  429 	dec	(hl)
   0227                     430 00102$:
                            431 ;./engine/player.c:190: if (pbouncing) -- pbouncing;
   0227 3Ar00r00      [13]  432 	ld	a,(#_pbouncing + 0)
   022A B7            [ 4]  433 	or	a, a
   022B 28 04         [12]  434 	jr	Z,00104$
   022D 21r00r00      [10]  435 	ld	hl, #_pbouncing+0
   0230 35            [11]  436 	dec	(hl)
   0231                     437 00104$:
                            438 ;./engine/player.c:226: hitv = hith = 0;
   0231 21r00r00      [10]  439 	ld	hl,#_hith + 0
   0234 36 00         [10]  440 	ld	(hl), #0x00
   0236 21r00r00      [10]  441 	ld	hl,#_hitv + 0
   0239 36 00         [10]  442 	ld	(hl), #0x00
                            443 ;./engine/player.c:227: pcx = prx; pcy = pry;
   023B 3Ar00r00      [13]  444 	ld	a,(#_prx + 0)
   023E 32r00r00      [13]  445 	ld	(#_pcx + 0),a
   0241 3Ar00r00      [13]  446 	ld	a,(#_pry + 0)
   0244 32r00r00      [13]  447 	ld	(#_pcy + 0),a
                            448 ;./engine/player.c:228: pnotsafe = 0;
   0247 21r00r00      [10]  449 	ld	hl,#_pnotsafe + 0
   024A 36 00         [10]  450 	ld	(hl), #0x00
                            451 ;./engine/player.c:238: cx1 = prx >> 4; cx2 = (prx + 7) >> 4;
   024C 3Ar00r00      [13]  452 	ld	a,(#_prx + 0)
   024F 07            [ 4]  453 	rlca
   0250 07            [ 4]  454 	rlca
   0251 07            [ 4]  455 	rlca
   0252 07            [ 4]  456 	rlca
   0253 E6 0F         [ 7]  457 	and	a,#0x0F
   0255 32r00r00      [13]  458 	ld	(#_cx1 + 0),a
   0258 FD 21r00r00   [14]  459 	ld	iy,#_prx
   025C FD 6E 00      [19]  460 	ld	l,0 (iy)
   025F 26 00         [ 7]  461 	ld	h,#0x00
   0261 01 07 00      [10]  462 	ld	bc,#0x0007
   0264 09            [11]  463 	add	hl,bc
   0265 CB 2C         [ 8]  464 	sra	h
   0267 CB 1D         [ 8]  465 	rr	l
   0269 CB 2C         [ 8]  466 	sra	h
   026B CB 1D         [ 8]  467 	rr	l
   026D CB 2C         [ 8]  468 	sra	h
   026F CB 1D         [ 8]  469 	rr	l
   0271 CB 2C         [ 8]  470 	sra	h
   0273 CB 1D         [ 8]  471 	rr	l
   0275 FD 21r00r00   [14]  472 	ld	iy,#_cx2
   0279 FD 75 00      [19]  473 	ld	0 (iy),l
                            474 ;./engine/player.c:239: cy1 = cy2 = (pry + 15) >> 4;
   027C FD 21r00r00   [14]  475 	ld	iy,#_pry
   0280 FD 6E 00      [19]  476 	ld	l,0 (iy)
   0283 26 00         [ 7]  477 	ld	h,#0x00
   0285 01 0F 00      [10]  478 	ld	bc,#0x000F
   0288 09            [11]  479 	add	hl,bc
   0289 CB 2C         [ 8]  480 	sra	h
   028B CB 1D         [ 8]  481 	rr	l
   028D CB 2C         [ 8]  482 	sra	h
   028F CB 1D         [ 8]  483 	rr	l
   0291 CB 2C         [ 8]  484 	sra	h
   0293 CB 1D         [ 8]  485 	rr	l
   0295 CB 2C         [ 8]  486 	sra	h
   0297 CB 1D         [ 8]  487 	rr	l
   0299 7D            [ 4]  488 	ld	a,l
   029A 32r00r00      [13]  489 	ld	(#_cy2 + 0),a
   029D 32r00r00      [13]  490 	ld	(#_cy1 + 0),a
                            491 ;./engine/player.c:240: cm_two_points ();
   02A0 CDr00r00      [17]  492 	call	_cm_two_points
                            493 ;./engine/player.c:255: if (springs_on && cy1 < 12) {
   02A3 3Ar00r00      [13]  494 	ld	a,(#_springs_on + 0)
   02A6 B7            [ 4]  495 	or	a, a
   02A7 CAr8Er03      [10]  496 	jp	Z,00116$
                            497 ;./engine/player.c:256: if (cy1) -- cy1;
   02AA 3Ar00r00      [13]  498 	ld	a,(#_cy1 + 0)
   02AD FE 0C         [ 7]  499 	cp	a,#0x0C
   02AF D2r8Er03      [10]  500 	jp	NC,00116$
   02B2 B7            [ 4]  501 	or	a, a
   02B3 28 04         [12]  502 	jr	Z,00106$
   02B5 21r00r00      [10]  503 	ld	hl, #_cy1+0
   02B8 35            [11]  504 	dec	(hl)
   02B9                     505 00106$:
                            506 ;./engine/player.c:257: _t = SPRING_SPIKE_TILE; 
   02B9 21r00r00      [10]  507 	ld	hl,#__t + 0
   02BC 36 0D         [10]  508 	ld	(hl), #0x0D
                            509 ;./engine/player.c:259: if (ppossee)
   02BE 3Ar00r00      [13]  510 	ld	a,(#_ppossee + 0)
   02C1 B7            [ 4]  511 	or	a, a
   02C2 CAr8Er03      [10]  512 	jp	Z,00116$
                            513 ;./engine/player.c:262: if (QTILE (cx1, cy1 + 1) == SPRING_TILE && QTILE (cx1, cy1) != SPRING_SPIKE_TILE) { _x = cx1; _y = cy1; map_set (); PSGSFXPlay (SFX_SPRING, 1); }
   02C5 3Ar00r00      [13]  514 	ld	a,(#_cy1 + 0)
   02C8 DD 77 FE      [19]  515 	ld	-2 (ix),a
   02CB DD 36 FF 00   [19]  516 	ld	-1 (ix),#0x00
   02CF DD 6E FE      [19]  517 	ld	l,-2 (ix)
   02D2 DD 66 FF      [19]  518 	ld	h,-1 (ix)
   02D5 23            [ 6]  519 	inc	hl
   02D6 29            [11]  520 	add	hl, hl
   02D7 29            [11]  521 	add	hl, hl
   02D8 29            [11]  522 	add	hl, hl
   02D9 29            [11]  523 	add	hl, hl
   02DA 55            [ 4]  524 	ld	d,l
   02DB 5C            [ 4]  525 	ld	e,h
   02DC 3Ar00r00      [13]  526 	ld	a,(#_cx1 + 0)
   02DF DD 77 FC      [19]  527 	ld	-4 (ix),a
   02E2 DD 36 FD 00   [19]  528 	ld	-3 (ix),#0x00
   02E6 DD 7E FC      [19]  529 	ld	a,-4 (ix)
   02E9 B2            [ 4]  530 	or	a, d
   02EA 6F            [ 4]  531 	ld	l,a
   02EB DD 7E FD      [19]  532 	ld	a,-3 (ix)
   02EE B3            [ 4]  533 	or	a, e
   02EF 67            [ 4]  534 	ld	h,a
   02F0 11r00r00      [10]  535 	ld	de,#_map_buff
   02F3 19            [11]  536 	add	hl,de
   02F4 7E            [ 7]  537 	ld	a,(hl)
   02F5 D6 17         [ 7]  538 	sub	a, #0x17
   02F7 20 37         [12]  539 	jr	NZ,00108$
   02F9 C1            [10]  540 	pop	bc
   02FA E1            [10]  541 	pop	hl
   02FB E5            [11]  542 	push	hl
   02FC C5            [11]  543 	push	bc
   02FD 29            [11]  544 	add	hl, hl
   02FE 29            [11]  545 	add	hl, hl
   02FF 29            [11]  546 	add	hl, hl
   0300 29            [11]  547 	add	hl, hl
   0301 7D            [ 4]  548 	ld	a,l
   0302 DD B6 FC      [19]  549 	or	a, -4 (ix)
   0305 6F            [ 4]  550 	ld	l,a
   0306 7C            [ 4]  551 	ld	a,h
   0307 DD B6 FD      [19]  552 	or	a, -3 (ix)
   030A 67            [ 4]  553 	ld	h,a
   030B 11r00r00      [10]  554 	ld	de,#_map_buff
   030E 19            [11]  555 	add	hl,de
   030F 7E            [ 7]  556 	ld	a,(hl)
   0310 D6 0D         [ 7]  557 	sub	a, #0x0D
   0312 28 1C         [12]  558 	jr	Z,00108$
   0314 3Ar00r00      [13]  559 	ld	a,(#_cx1 + 0)
   0317 32r00r00      [13]  560 	ld	(#__x + 0),a
   031A 3Ar00r00      [13]  561 	ld	a,(#_cy1 + 0)
   031D 32r00r00      [13]  562 	ld	(#__y + 0),a
   0320 CDr00r00      [17]  563 	call	_map_set
   0323 11r00r00      [10]  564 	ld	de,#_s_11_spring2_psg+0
   0326 3E 01         [ 7]  565 	ld	a,#0x01
   0328 F5            [11]  566 	push	af
   0329 33            [ 6]  567 	inc	sp
   032A D5            [11]  568 	push	de
   032B CDr00r00      [17]  569 	call	_PSGSFXPlay
   032E F1            [10]  570 	pop	af
   032F 33            [ 6]  571 	inc	sp
   0330                     572 00108$:
                            573 ;./engine/player.c:263: if (QTILE (cx2, cy1 + 1) == SPRING_TILE && QTILE (cx2, cy1) != SPRING_SPIKE_TILE) { _x = cx2; _y = cy1; map_set (); PSGSFXPlay (SFX_SPRING, 1);	}
   0330 FD 21r00r00   [14]  574 	ld	iy,#_cy1
   0334 FD 5E 00      [19]  575 	ld	e,0 (iy)
   0337 16 00         [ 7]  576 	ld	d,#0x00
   0339 6B            [ 4]  577 	ld	l, e
   033A 62            [ 4]  578 	ld	h, d
   033B 23            [ 6]  579 	inc	hl
   033C 29            [11]  580 	add	hl, hl
   033D 29            [11]  581 	add	hl, hl
   033E 29            [11]  582 	add	hl, hl
   033F 29            [11]  583 	add	hl, hl
   0340 E3            [19]  584 	ex	(sp), hl
   0341 21r00r00      [10]  585 	ld	hl,#_cx2 + 0
   0344 4E            [ 7]  586 	ld	c, (hl)
   0345 06 00         [ 7]  587 	ld	b,#0x00
   0347 79            [ 4]  588 	ld	a,c
   0348 DD B6 FC      [19]  589 	or	a, -4 (ix)
   034B 6F            [ 4]  590 	ld	l,a
   034C 78            [ 4]  591 	ld	a,b
   034D DD B6 FD      [19]  592 	or	a, -3 (ix)
   0350 67            [ 4]  593 	ld	h,a
   0351 3Er00         [ 7]  594 	ld	a,#<(_map_buff)
   0353 85            [ 4]  595 	add	a, l
   0354 6F            [ 4]  596 	ld	l,a
   0355 3Es00         [ 7]  597 	ld	a,#>(_map_buff)
   0357 8C            [ 4]  598 	adc	a, h
   0358 67            [ 4]  599 	ld	h,a
   0359 7E            [ 7]  600 	ld	a,(hl)
   035A D6 17         [ 7]  601 	sub	a, #0x17
   035C 20 30         [12]  602 	jr	NZ,00116$
   035E EB            [ 4]  603 	ex	de,hl
   035F 29            [11]  604 	add	hl, hl
   0360 29            [11]  605 	add	hl, hl
   0361 29            [11]  606 	add	hl, hl
   0362 29            [11]  607 	add	hl, hl
   0363 7D            [ 4]  608 	ld	a,l
   0364 B1            [ 4]  609 	or	a, c
   0365 6F            [ 4]  610 	ld	l,a
   0366 7C            [ 4]  611 	ld	a,h
   0367 B0            [ 4]  612 	or	a, b
   0368 67            [ 4]  613 	ld	h,a
   0369 11r00r00      [10]  614 	ld	de,#_map_buff
   036C 19            [11]  615 	add	hl,de
   036D 7E            [ 7]  616 	ld	a,(hl)
   036E D6 0D         [ 7]  617 	sub	a, #0x0D
   0370 28 1C         [12]  618 	jr	Z,00116$
   0372 3Ar00r00      [13]  619 	ld	a,(#_cx2 + 0)
   0375 32r00r00      [13]  620 	ld	(#__x + 0),a
   0378 3Ar00r00      [13]  621 	ld	a,(#_cy1 + 0)
   037B 32r00r00      [13]  622 	ld	(#__y + 0),a
   037E CDr00r00      [17]  623 	call	_map_set
   0381 11r00r00      [10]  624 	ld	de,#_s_11_spring2_psg+0
   0384 3E 01         [ 7]  625 	ld	a,#0x01
   0386 F5            [11]  626 	push	af
   0387 33            [ 6]  627 	inc	sp
   0388 D5            [11]  628 	push	de
   0389 CDr00r00      [17]  629 	call	_PSGSFXPlay
   038C F1            [10]  630 	pop	af
   038D 33            [ 6]  631 	inc	sp
   038E                     632 00116$:
                            633 ;./engine/player.c:268: oppossee = ppossee;
   038E 3Ar00r00      [13]  634 	ld	a,(#_ppossee + 0)
   0391 32r00r00      [13]  635 	ld	(#_oppossee + 0),a
                            636 ;./engine/player.c:269: ppossee = 0;
   0394 21r00r00      [10]  637 	ld	hl,#_ppossee + 0
   0397 36 00         [10]  638 	ld	(hl), #0x00
                            639 ;./engine/player.c:341: if (vertical_engine_type != ENGINE_TYPE_SWIM) {
   0399 3Ar00r00      [13]  640 	ld	a,(#_vertical_engine_type + 0)
   039C D6 02         [ 7]  641 	sub	a, #0x02
   039E 28 31         [12]  642 	jr	Z,00123$
                            643 ;./engine/player.c:352: if (!pj) {
   03A0 3Ar00r00      [13]  644 	ld	a,(#_pj + 0)
   03A3 B7            [ 4]  645 	or	a, a
   03A4 20 2B         [12]  646 	jr	NZ,00123$
                            647 ;./engine/player.c:353: pvy += PLAYER_G;
   03A6 21r00r00      [10]  648 	ld	hl,#_pvy
   03A9 7E            [ 7]  649 	ld	a,(hl)
   03AA C6 10         [ 7]  650 	add	a, #0x10
   03AC 77            [ 7]  651 	ld	(hl),a
   03AD 23            [ 6]  652 	inc	hl
   03AE 7E            [ 7]  653 	ld	a,(hl)
   03AF CE 00         [ 7]  654 	adc	a, #0x00
   03B1 77            [ 7]  655 	ld	(hl),a
                            656 ;./engine/player.c:354: if (pvy > PLAYER_VY_FALLING_MAX) pvy = PLAYER_VY_FALLING_MAX; 
   03B2 AF            [ 4]  657 	xor	a, a
   03B3 FD 21r00r00   [14]  658 	ld	iy,#_pvy
   03B7 FD BE 00      [19]  659 	cp	a, 0 (iy)
   03BA 3E 01         [ 7]  660 	ld	a,#0x01
   03BC FD 21r00r00   [14]  661 	ld	iy,#_pvy
   03C0 FD 9E 01      [19]  662 	sbc	a, 1 (iy)
   03C3 E2rC8r03      [10]  663 	jp	PO, 00565$
   03C6 EE 80         [ 7]  664 	xor	a, #0x80
   03C8                     665 00565$:
   03C8 F2rD1r03      [10]  666 	jp	P,00123$
   03CB 21 00 01      [10]  667 	ld	hl,#0x0100
   03CE 22r00r00      [16]  668 	ld	(_pvy),hl
   03D1                     669 00123$:
                            670 ;./engine/player.c:361: if (pgotten) pvy = 0;			
   03D1 3Ar00r00      [13]  671 	ld	a,(#_pgotten + 0)
   03D4 B7            [ 4]  672 	or	a, a
   03D5 28 06         [12]  673 	jr	Z,00125$
   03D7 21 00 00      [10]  674 	ld	hl,#0x0000
   03DA 22r00r00      [16]  675 	ld	(_pvy),hl
   03DD                     676 00125$:
                            677 ;./engine/player.c:401: py += pvy;
   03DD 21r00r00      [10]  678 	ld	hl,#_pvy
   03E0 D5            [11]  679 	push	de
   03E1 FD 21r00r00   [14]  680 	ld	iy,#_py
   03E5 FD E5         [15]  681 	push	iy
   03E7 D1            [10]  682 	pop	de
   03E8 1A            [ 7]  683 	ld	a,(de)
   03E9 86            [ 7]  684 	add	a, (hl)
   03EA 12            [ 7]  685 	ld	(de),a
   03EB 13            [ 6]  686 	inc	de
   03EC 1A            [ 7]  687 	ld	a,(de)
   03ED 23            [ 6]  688 	inc	hl
   03EE 8E            [ 7]  689 	adc	a, (hl)
   03EF 12            [ 7]  690 	ld	(de),a
   03F0 D1            [10]  691 	pop	de
                            692 ;./engine/player.c:402: if (py < 0) py = 0;
   03F1 3Ar01r00      [13]  693 	ld	a,(#_py + 1)
   03F4 CB 7F         [ 8]  694 	bit	7,a
   03F6 28 06         [12]  695 	jr	Z,00127$
   03F8 21 00 00      [10]  696 	ld	hl,#0x0000
   03FB 22r00r00      [16]  697 	ld	(_py),hl
   03FE                     698 00127$:
                            699 ;./engine/player.c:403: pry = py >> FIXBITS;
   03FE 2Ar00r00      [16]  700 	ld	hl,(_py)
   0401 CB 2C         [ 8]  701 	sra	h
   0403 CB 1D         [ 8]  702 	rr	l
   0405 CB 2C         [ 8]  703 	sra	h
   0407 CB 1D         [ 8]  704 	rr	l
   0409 CB 2C         [ 8]  705 	sra	h
   040B CB 1D         [ 8]  706 	rr	l
   040D CB 2C         [ 8]  707 	sra	h
   040F CB 1D         [ 8]  708 	rr	l
   0411 CB 2C         [ 8]  709 	sra	h
   0413 CB 1D         [ 8]  710 	rr	l
   0415 CB 2C         [ 8]  711 	sra	h
   0417 CB 1D         [ 8]  712 	rr	l
   0419 FD 21r00r00   [14]  713 	ld	iy,#_pry
   041D FD 75 00      [19]  714 	ld	0 (iy),l
                            715 ;./engine/player.c:406: player_to_pixels ();
   0420 CDrA2r00      [17]  716 	call	_player_to_pixels
                            717 ;./engine/player.c:408: cx1 = prx >> 4;
   0423 3Ar00r00      [13]  718 	ld	a,(#_prx + 0)
   0426 07            [ 4]  719 	rlca
   0427 07            [ 4]  720 	rlca
   0428 07            [ 4]  721 	rlca
   0429 07            [ 4]  722 	rlca
   042A E6 0F         [ 7]  723 	and	a,#0x0F
   042C 32r00r00      [13]  724 	ld	(#_cx1 + 0),a
                            725 ;./engine/player.c:409: cx2 = (prx + 7) >> 4;
   042F FD 21r00r00   [14]  726 	ld	iy,#_prx
   0433 FD 6E 00      [19]  727 	ld	l,0 (iy)
   0436 26 00         [ 7]  728 	ld	h,#0x00
   0438 01 07 00      [10]  729 	ld	bc,#0x0007
   043B 09            [11]  730 	add	hl,bc
   043C CB 2C         [ 8]  731 	sra	h
   043E CB 1D         [ 8]  732 	rr	l
   0440 CB 2C         [ 8]  733 	sra	h
   0442 CB 1D         [ 8]  734 	rr	l
   0444 CB 2C         [ 8]  735 	sra	h
   0446 CB 1D         [ 8]  736 	rr	l
   0448 CB 2C         [ 8]  737 	sra	h
   044A CB 1D         [ 8]  738 	rr	l
   044C FD 21r00r00   [14]  739 	ld	iy,#_cx2
   0450 FD 75 00      [19]  740 	ld	0 (iy),l
                            741 ;./engine/player.c:414: rds16 = pvy + pgtmy;
   0453 21r00r00      [10]  742 	ld	hl,#_pgtmy
   0456 D5            [11]  743 	push	de
   0457 FD 21r00r00   [14]  744 	ld	iy,#_rds16
   045B FD E5         [15]  745 	push	iy
   045D D1            [10]  746 	pop	de
   045E 3Ar00r00      [13]  747 	ld	a,(#_pvy + 0)
   0461 86            [ 7]  748 	add	a, (hl)
   0462 12            [ 7]  749 	ld	(de),a
   0463 3Ar01r00      [13]  750 	ld	a,(#_pvy + 1)
   0466 23            [ 6]  751 	inc	hl
   0467 8E            [ 7]  752 	adc	a, (hl)
   0468 13            [ 6]  753 	inc	de
   0469 12            [ 7]  754 	ld	(de),a
   046A D1            [10]  755 	pop	de
                            756 ;./engine/player.c:239: cy1 = cy2 = (pry + 15) >> 4;
   046B FD 21r00r00   [14]  757 	ld	iy,#_pry
   046F FD 5E 00      [19]  758 	ld	e,0 (iy)
   0472 16 00         [ 7]  759 	ld	d,#0x00
                            760 ;./engine/player.c:415: if (rds16 < 0)
   0474 3Ar01r00      [13]  761 	ld	a,(#_rds16 + 1)
   0477 CB 7F         [ 8]  762 	bit	7,a
   0479 CAr0Er05      [10]  763 	jp	Z,00151$
                            764 ;./engine/player.c:418: cy1 = cy2 = (pry - PLAYER_COLLISION_VSTRETCH_BG) >> 4;			
   047C 7B            [ 4]  765 	ld	a,e
   047D C6 04         [ 7]  766 	add	a,#0x04
   047F 5F            [ 4]  767 	ld	e,a
   0480 7A            [ 4]  768 	ld	a,d
   0481 CE 00         [ 7]  769 	adc	a,#0x00
   0483 57            [ 4]  770 	ld	d,a
   0484 CB 2A         [ 8]  771 	sra	d
   0486 CB 1B         [ 8]  772 	rr	e
   0488 CB 2A         [ 8]  773 	sra	d
   048A CB 1B         [ 8]  774 	rr	e
   048C CB 2A         [ 8]  775 	sra	d
   048E CB 1B         [ 8]  776 	rr	e
   0490 CB 2A         [ 8]  777 	sra	d
   0492 CB 1B         [ 8]  778 	rr	e
   0494 21r00r00      [10]  779 	ld	hl,#_cy2 + 0
   0497 73            [ 7]  780 	ld	(hl), e
   0498 21r00r00      [10]  781 	ld	hl,#_cy1 + 0
   049B 73            [ 7]  782 	ld	(hl), e
                            783 ;./engine/player.c:419: cm_two_points ();
   049C CDr00r00      [17]  784 	call	_cm_two_points
                            785 ;./engine/player.c:423: if ((at1 & 8) || (at2 & 8)) 
   049F FD 21r00r00   [14]  786 	ld	iy,#_at1
   04A3 FD CB 00 5E   [20]  787 	bit	3, 0 (iy)
   04A7 20 0A         [12]  788 	jr	NZ,00131$
   04A9 FD 21r00r00   [14]  789 	ld	iy,#_at2
   04AD FD CB 00 5E   [20]  790 	bit	3, 0 (iy)
   04B1 28 3B         [12]  791 	jr	Z,00132$
   04B3                     792 00131$:
                            793 ;./engine/player.c:426: pry = ((cy1 + 1) << 4) + PLAYER_COLLISION_VSTRETCH_BG;
   04B3 3Ar00r00      [13]  794 	ld	a,(#_cy1 + 0)
   04B6 3C            [ 4]  795 	inc	a
   04B7 07            [ 4]  796 	rlca
   04B8 07            [ 4]  797 	rlca
   04B9 07            [ 4]  798 	rlca
   04BA 07            [ 4]  799 	rlca
   04BB E6 F0         [ 7]  800 	and	a,#0xF0
   04BD 21r00r00      [10]  801 	ld	hl,#_pry
   04C0 C6 FC         [ 7]  802 	add	a, #0xFC
   04C2 77            [ 7]  803 	ld	(hl),a
                            804 ;./engine/player.c:427: pvy = 0; py = pry << FIXBITS;
   04C3 21 00 00      [10]  805 	ld	hl,#0x0000
   04C6 22r00r00      [16]  806 	ld	(_pvy),hl
   04C9 FD 21r00r00   [14]  807 	ld	iy,#_pry
   04CD FD 6E 00      [19]  808 	ld	l,0 (iy)
   04D0 26 00         [ 7]  809 	ld	h,#0x00
   04D2 29            [11]  810 	add	hl, hl
   04D3 29            [11]  811 	add	hl, hl
   04D4 29            [11]  812 	add	hl, hl
   04D5 29            [11]  813 	add	hl, hl
   04D6 29            [11]  814 	add	hl, hl
   04D7 29            [11]  815 	add	hl, hl
   04D8 22r00r00      [16]  816 	ld	(_py),hl
                            817 ;./engine/player.c:428: pgotten = 0;
   04DB FD 21r00r00   [14]  818 	ld	iy,#_pgotten
   04DF FD 36 00 00   [19]  819 	ld	0 (iy),#0x00
                            820 ;./engine/player.c:429: pfiring = 1;
   04E3 FD 21r00r00   [14]  821 	ld	iy,#_pfiring
   04E7 FD 36 00 01   [19]  822 	ld	0 (iy),#0x01
   04EB C3r00r06      [10]  823 	jp	00152$
   04EE                     824 00132$:
                            825 ;./engine/player.c:435: } else if ((at1 & 1) || (at2 & 1)) {
   04EE FD 21r00r00   [14]  826 	ld	iy,#_at1
   04F2 FD CB 00 46   [20]  827 	bit	0, 0 (iy)
   04F6 20 0B         [12]  828 	jr	NZ,00128$
   04F8 FD 21r00r00   [14]  829 	ld	iy,#_at2
   04FC FD CB 00 46   [20]  830 	bit	0, 0 (iy)
   0500 CAr00r06      [10]  831 	jp	Z,00152$
   0503                     832 00128$:
                            833 ;./engine/player.c:436: hitv = 1;
   0503 FD 21r00r00   [14]  834 	ld	iy,#_hitv
   0507 FD 36 00 01   [19]  835 	ld	0 (iy),#0x01
   050B C3r00r06      [10]  836 	jp	00152$
   050E                     837 00151$:
                            838 ;./engine/player.c:447: } else if (rds16 > 0)
   050E AF            [ 4]  839 	xor	a, a
   050F FD 21r00r00   [14]  840 	ld	iy,#_rds16
   0513 FD BE 00      [19]  841 	cp	a, 0 (iy)
   0516 FD 21r00r00   [14]  842 	ld	iy,#_rds16
   051A FD 9E 01      [19]  843 	sbc	a, 1 (iy)
   051D E2r22r05      [10]  844 	jp	PO, 00572$
   0520 EE 80         [ 7]  845 	xor	a, #0x80
   0522                     846 00572$:
   0522 F2r00r06      [10]  847 	jp	P,00152$
                            848 ;./engine/player.c:450: cy1 = cy2 = (pry + 16) >> 4; 
   0525 21 10 00      [10]  849 	ld	hl,#0x0010
   0528 19            [11]  850 	add	hl,de
   0529 CB 2C         [ 8]  851 	sra	h
   052B CB 1D         [ 8]  852 	rr	l
   052D CB 2C         [ 8]  853 	sra	h
   052F CB 1D         [ 8]  854 	rr	l
   0531 CB 2C         [ 8]  855 	sra	h
   0533 CB 1D         [ 8]  856 	rr	l
   0535 CB 2C         [ 8]  857 	sra	h
   0537 CB 1D         [ 8]  858 	rr	l
   0539 7D            [ 4]  859 	ld	a,l
   053A 32r00r00      [13]  860 	ld	(#_cy2 + 0),a
   053D 32r00r00      [13]  861 	ld	(#_cy1 + 0),a
                            862 ;./engine/player.c:451: cm_two_points (); 
   0540 CDr00r00      [17]  863 	call	_cm_two_points
                            864 ;./engine/player.c:456: pry < ((cy1 - 1) << 4) + 4 && 
   0543 FD 21r00r00   [14]  865 	ld	iy,#_cy1
   0547 FD 6E 00      [19]  866 	ld	l,0 (iy)
   054A 26 00         [ 7]  867 	ld	h,#0x00
   054C 2B            [ 6]  868 	dec	hl
   054D 29            [11]  869 	add	hl, hl
   054E 29            [11]  870 	add	hl, hl
   054F 29            [11]  871 	add	hl, hl
   0550 29            [11]  872 	add	hl, hl
   0551 5D            [ 4]  873 	ld	e, l
   0552 54            [ 4]  874 	ld	d, h
   0553 13            [ 6]  875 	inc	de
   0554 13            [ 6]  876 	inc	de
   0555 13            [ 6]  877 	inc	de
   0556 13            [ 6]  878 	inc	de
   0557 3Ar00r00      [13]  879 	ld	a,(#_pry + 0)
   055A DD 77 FC      [19]  880 	ld	-4 (ix),a
   055D DD 36 FD 00   [19]  881 	ld	-3 (ix),#0x00
                            882 ;./engine/player.c:435: } else if ((at1 & 1) || (at2 & 1)) {
   0561 3Ar00r00      [13]  883 	ld	a,(#_at1 + 0)
   0564 E6 01         [ 7]  884 	and	a, #0x01
   0566 4F            [ 4]  885 	ld	c,a
   0567 FD 21r00r00   [14]  886 	ld	iy,#_at2
   056B FD 7E 00      [19]  887 	ld	a,0 (iy)
   056E E6 01         [ 7]  888 	and	a, #0x01
   0570 DD 77 FE      [19]  889 	ld	-2 (ix),a
                            890 ;./engine/player.c:456: pry < ((cy1 - 1) << 4) + 4 && 
   0573 DD 7E FC      [19]  891 	ld	a,-4 (ix)
   0576 93            [ 4]  892 	sub	a, e
   0577 DD 7E FD      [19]  893 	ld	a,-3 (ix)
   057A 9A            [ 4]  894 	sbc	a, d
   057B E2r80r05      [10]  895 	jp	PO, 00573$
   057E EE 80         [ 7]  896 	xor	a, #0x80
   0580                     897 00573$:
   0580 F2rE3r05      [10]  898 	jp	P,00144$
                            899 ;./engine/player.c:458: (at1 & 12) || (at2 & 12)
   0583 3Ar00r00      [13]  900 	ld	a,(#_at1 + 0)
   0586 E6 0C         [ 7]  901 	and	a, #0x0C
   0588 20 07         [12]  902 	jr	NZ,00143$
   058A 3Ar00r00      [13]  903 	ld	a,(#_at2 + 0)
   058D E6 0C         [ 7]  904 	and	a, #0x0C
   058F 28 52         [12]  905 	jr	Z,00144$
   0591                     906 00143$:
                            907 ;./engine/player.c:466: pvy = 0; pry = ((cy1 - 1) << 4);py = pry << FIXBITS;
   0591 21 00 00      [10]  908 	ld	hl,#0x0000
   0594 22r00r00      [16]  909 	ld	(_pvy),hl
   0597 3Ar00r00      [13]  910 	ld	a,(#_cy1 + 0)
   059A C6 FF         [ 7]  911 	add	a,#0xFF
   059C 07            [ 4]  912 	rlca
   059D 07            [ 4]  913 	rlca
   059E 07            [ 4]  914 	rlca
   059F 07            [ 4]  915 	rlca
   05A0 E6 F0         [ 7]  916 	and	a,#0xF0
   05A2 32r00r00      [13]  917 	ld	(#_pry + 0),a
   05A5 FD 21r00r00   [14]  918 	ld	iy,#_pry
   05A9 FD 6E 00      [19]  919 	ld	l,0 (iy)
   05AC 26 00         [ 7]  920 	ld	h,#0x00
   05AE 29            [11]  921 	add	hl, hl
   05AF 29            [11]  922 	add	hl, hl
   05B0 29            [11]  923 	add	hl, hl
   05B1 29            [11]  924 	add	hl, hl
   05B2 29            [11]  925 	add	hl, hl
   05B3 29            [11]  926 	add	hl, hl
   05B4 22r00r00      [16]  927 	ld	(_py),hl
                            928 ;./engine/player.c:467: pgotten = 0;
   05B7 FD 21r00r00   [14]  929 	ld	iy,#_pgotten
   05BB FD 36 00 00   [19]  930 	ld	0 (iy),#0x00
                            931 ;./engine/player.c:468: pfiring = 1;
   05BF FD 21r00r00   [14]  932 	ld	iy,#_pfiring
   05C3 FD 36 00 01   [19]  933 	ld	0 (iy),#0x01
                            934 ;./engine/player.c:469: ppossee = 1;
   05C7 FD 21r00r00   [14]  935 	ld	iy,#_ppossee
   05CB FD 36 00 01   [19]  936 	ld	0 (iy),#0x01
                            937 ;./engine/player.c:503: if ((at1 & 1) || (at2 & 1)) pnotsafe = 1; 
   05CF 79            [ 4]  938 	ld	a,c
   05D0 B7            [ 4]  939 	or	a, a
   05D1 20 06         [12]  940 	jr	NZ,00135$
   05D3 DD 7E FE      [19]  941 	ld	a,-2 (ix)
   05D6 B7            [ 4]  942 	or	a, a
   05D7 28 27         [12]  943 	jr	Z,00152$
   05D9                     944 00135$:
   05D9 FD 21r00r00   [14]  945 	ld	iy,#_pnotsafe
   05DD FD 36 00 01   [19]  946 	ld	0 (iy),#0x01
   05E1 18 1D         [12]  947 	jr	00152$
   05E3                     948 00144$:
                            949 ;./engine/player.c:509: if ((at1 & 1) || (at2 & 1)) {
   05E3 79            [ 4]  950 	ld	a,c
   05E4 B7            [ 4]  951 	or	a, a
   05E5 20 06         [12]  952 	jr	NZ,00140$
   05E7 DD 7E FE      [19]  953 	ld	a,-2 (ix)
   05EA B7            [ 4]  954 	or	a, a
   05EB 28 13         [12]  955 	jr	Z,00152$
   05ED                     956 00140$:
                            957 ;./engine/player.c:510: if ((pry & 15) > 4) hitv = 1;
   05ED 3Ar00r00      [13]  958 	ld	a,(#_pry + 0)
   05F0 E6 0F         [ 7]  959 	and	a, #0x0F
   05F2 67            [ 4]  960 	ld	h,a
   05F3 3E 04         [ 7]  961 	ld	a,#0x04
   05F5 94            [ 4]  962 	sub	a, h
   05F6 30 08         [12]  963 	jr	NC,00152$
   05F8 FD 21r00r00   [14]  964 	ld	iy,#_hitv
   05FC FD 36 00 01   [19]  965 	ld	0 (iy),#0x01
   0600                     966 00152$:
                            967 ;./engine/player.c:528: if (vertical_engine_type == ENGINE_TYPE_JUMP) {
   0600 3Ar00r00      [13]  968 	ld	a,(#_vertical_engine_type + 0)
   0603 B7            [ 4]  969 	or	a, a
   0604 C2rB7r06      [10]  970 	jp	NZ,00178$
                            971 ;./engine/player.c:576: if (pad0 & PAD_A) {
   0607 FD 21r00r00   [14]  972 	ld	iy,#_pad0
   060B FD CB 00 6E   [20]  973 	bit	5, 0 (iy)
   060F 28 40         [12]  974 	jr	Z,00164$
                            975 ;./engine/player.c:578: !pjb  
   0611 3Ar00r00      [13]  976 	ld	a,(#_pjb + 0)
   0614 B7            [ 4]  977 	or	a, a
   0615 20 30         [12]  978 	jr	NZ,00158$
                            979 ;./engine/player.c:579: && !pj
   0617 3Ar00r00      [13]  980 	ld	a,(#_pj + 0)
   061A B7            [ 4]  981 	or	a, a
   061B 20 2A         [12]  982 	jr	NZ,00158$
                            983 ;./engine/player.c:581: pgotten || ppossee || hitv
   061D 3Ar00r00      [13]  984 	ld	a,(#_pgotten + 0)
   0620 B7            [ 4]  985 	or	a, a
   0621 20 0C         [12]  986 	jr	NZ,00157$
   0623 3Ar00r00      [13]  987 	ld	a,(#_ppossee + 0)
   0626 B7            [ 4]  988 	or	a, a
   0627 20 06         [12]  989 	jr	NZ,00157$
   0629 3Ar00r00      [13]  990 	ld	a,(#_hitv + 0)
   062C B7            [ 4]  991 	or	a, a
   062D 28 18         [12]  992 	jr	Z,00158$
   062F                     993 00157$:
                            994 ;./engine/player.c:587: jump_start ();
   062F CDr00r00      [17]  995 	call	_jump_start
                            996 ;./engine/player.c:590: if (!(pgotten || hitv || pnotsafe)) {
   0632 3Ar00r00      [13]  997 	ld	a,(#_pgotten + 0)
   0635 B7            [ 4]  998 	or	a, a
   0636 20 0F         [12]  999 	jr	NZ,00158$
   0638 3Ar00r00      [13] 1000 	ld	a,(#_hitv + 0)
   063B B7            [ 4] 1001 	or	a, a
   063C 20 09         [12] 1002 	jr	NZ,00158$
   063E 3Ar00r00      [13] 1003 	ld	a,(#_pnotsafe + 0)
   0641 B7            [ 4] 1004 	or	a, a
   0642 20 03         [12] 1005 	jr	NZ,00158$
                           1006 ;./engine/player.c:591: player_register_safe_spot ();
   0644 CDr00r00      [17] 1007 	call	_player_register_safe_spot
   0647                    1008 00158$:
                           1009 ;./engine/player.c:603: pjb = 1;
   0647 FD 21r00r00   [14] 1010 	ld	iy,#_pjb
   064B FD 36 00 01   [19] 1011 	ld	0 (iy),#0x01
   064F 18 08         [12] 1012 	jr	00165$
   0651                    1013 00164$:
                           1014 ;./engine/player.c:604: } else pjb = 0;
   0651 FD 21r00r00   [14] 1015 	ld	iy,#_pjb
   0655 FD 36 00 00   [19] 1016 	ld	0 (iy),#0x00
   0659                    1017 00165$:
                           1018 ;./engine/player.c:613: if (pad0 & PAD_A) {
   0659 FD 21r00r00   [14] 1019 	ld	iy,#_pad0
   065D FD CB 00 6E   [20] 1020 	bit	5, 0 (iy)
   0661 28 4C         [12] 1021 	jr	Z,00175$
                           1022 ;./engine/player.c:614: if (pj) {
   0663 3Ar00r00      [13] 1023 	ld	a,(#_pj + 0)
   0666 B7            [ 4] 1024 	or	a, a
   0667 28 4E         [12] 1025 	jr	Z,00178$
                           1026 ;./engine/player.c:615: if (pctj < PLAYER_AY_JUMP) pvy -= (PLAYER_AY_JUMP - (pctj));
   0669 3Ar00r00      [13] 1027 	ld	a,(#_pctj + 0)
   066C D6 10         [ 7] 1028 	sub	a, #0x10
   066E 30 18         [12] 1029 	jr	NC,00167$
   0670 21r00r00      [10] 1030 	ld	hl,#_pctj + 0
   0673 66            [ 7] 1031 	ld	h, (hl)
   0674 2E 00         [ 7] 1032 	ld	l,#0x00
   0676 3E 10         [ 7] 1033 	ld	a,#0x10
   0678 94            [ 4] 1034 	sub	a, h
   0679 57            [ 4] 1035 	ld	d,a
   067A 3E 00         [ 7] 1036 	ld	a,#0x00
   067C 9D            [ 4] 1037 	sbc	a, l
   067D 5F            [ 4] 1038 	ld	e,a
   067E 21r00r00      [10] 1039 	ld	hl,#_pvy
   0681 7E            [ 7] 1040 	ld	a,(hl)
   0682 92            [ 4] 1041 	sub	a, d
   0683 77            [ 7] 1042 	ld	(hl),a
   0684 23            [ 6] 1043 	inc	hl
   0685 7E            [ 7] 1044 	ld	a,(hl)
   0686 9B            [ 4] 1045 	sbc	a, e
   0687 77            [ 7] 1046 	ld	(hl),a
   0688                    1047 00167$:
                           1048 ;./engine/player.c:616: if (pvy < -PLAYER_VY_JUMP_MAX) pvy = -PLAYER_VY_JUMP_MAX;
   0688 3Ar01r00      [13] 1049 	ld	a,(#_pvy + 1)
   068B EE 80         [ 7] 1050 	xor	a, #0x80
   068D D6 7F         [ 7] 1051 	sub	a, #0x7F
   068F 30 06         [12] 1052 	jr	NC,00169$
   0691 21 00 FF      [10] 1053 	ld	hl,#0xFF00
   0694 22r00r00      [16] 1054 	ld	(_pvy),hl
   0697                    1055 00169$:
                           1056 ;./engine/player.c:617: ++ pctj; if (pctj == 16) pj = 0;	
   0697 FD 21r00r00   [14] 1057 	ld	iy,#_pctj
   069B FD 34 00      [23] 1058 	inc	0 (iy)
   069E 3Ar00r00      [13] 1059 	ld	a,(#_pctj + 0)
   06A1 D6 10         [ 7] 1060 	sub	a, #0x10
   06A3 20 12         [12] 1061 	jr	NZ,00178$
   06A5 FD 21r00r00   [14] 1062 	ld	iy,#_pj
   06A9 FD 36 00 00   [19] 1063 	ld	0 (iy),#0x00
   06AD 18 08         [12] 1064 	jr	00178$
   06AF                    1065 00175$:
                           1066 ;./engine/player.c:620: pj = 0; 
   06AF FD 21r00r00   [14] 1067 	ld	iy,#_pj
   06B3 FD 36 00 00   [19] 1068 	ld	0 (iy),#0x00
   06B7                    1069 00178$:
                           1070 ;./engine/player.c:672: if (!(pad0 & PAD_LEFT || pad0 & PAD_RIGHT)) {
   06B7 3Ar00r00      [13] 1071 	ld	a,(#_pad0 + 0)
   06BA E6 04         [ 7] 1072 	and	a, #0x04
   06BC 57            [ 4] 1073 	ld	d,a
   06BD 3Ar00r00      [13] 1074 	ld	a,(#_pad0 + 0)
   06C0 E6 08         [ 7] 1075 	and	a, #0x08
   06C2 5F            [ 4] 1076 	ld	e,a
   06C3 7A            [ 4] 1077 	ld	a,d
   06C4 B7            [ 4] 1078 	or	a,a
   06C5 20 65         [12] 1079 	jr	NZ,00189$
   06C7 B3            [ 4] 1080 	or	a,e
   06C8 20 62         [12] 1081 	jr	NZ,00189$
                           1082 ;./engine/player.c:680: if (pvx > 0) {
   06CA AF            [ 4] 1083 	xor	a, a
   06CB FD 21r00r00   [14] 1084 	ld	iy,#_pvx
   06CF FD BE 00      [19] 1085 	cp	a, 0 (iy)
   06D2 FD 21r00r00   [14] 1086 	ld	iy,#_pvx
   06D6 FD 9E 01      [19] 1087 	sbc	a, 1 (iy)
   06D9 E2rDEr06      [10] 1088 	jp	PO, 00581$
   06DC EE 80         [ 7] 1089 	xor	a, #0x80
   06DE                    1090 00581$:
   06DE F2rFCr06      [10] 1091 	jp	P,00186$
                           1092 ;./engine/player.c:685: pvx -= PLAYER_RX;
   06E1 21r00r00      [10] 1093 	ld	hl,#_pvx
   06E4 7E            [ 7] 1094 	ld	a,(hl)
   06E5 C6 F8         [ 7] 1095 	add	a,#0xF8
   06E7 77            [ 7] 1096 	ld	(hl),a
   06E8 23            [ 6] 1097 	inc	hl
   06E9 7E            [ 7] 1098 	ld	a,(hl)
   06EA CE FF         [ 7] 1099 	adc	a,#0xFF
   06EC 77            [ 7] 1100 	ld	(hl),a
                           1101 ;./engine/player.c:688: if (pvx < 0) pvx = 0;
   06ED 3Ar01r00      [13] 1102 	ld	a,(#_pvx + 1)
   06F0 CB 7F         [ 8] 1103 	bit	7,a
   06F2 28 38         [12] 1104 	jr	Z,00189$
   06F4 21 00 00      [10] 1105 	ld	hl,#0x0000
   06F7 22r00r00      [16] 1106 	ld	(_pvx),hl
   06FA 18 30         [12] 1107 	jr	00189$
   06FC                    1108 00186$:
                           1109 ;./engine/player.c:689: } else if (pvx < 0) {
   06FC 3Ar01r00      [13] 1110 	ld	a,(#_pvx + 1)
   06FF CB 7F         [ 8] 1111 	bit	7,a
   0701 28 29         [12] 1112 	jr	Z,00189$
                           1113 ;./engine/player.c:694: pvx += PLAYER_RX;
   0703 21r00r00      [10] 1114 	ld	hl,#_pvx
   0706 7E            [ 7] 1115 	ld	a,(hl)
   0707 C6 08         [ 7] 1116 	add	a, #0x08
   0709 77            [ 7] 1117 	ld	(hl),a
   070A 23            [ 6] 1118 	inc	hl
   070B 7E            [ 7] 1119 	ld	a,(hl)
   070C CE 00         [ 7] 1120 	adc	a, #0x00
   070E 77            [ 7] 1121 	ld	(hl),a
                           1122 ;./engine/player.c:697: if (pvx > 0) pvx = 0;
   070F AF            [ 4] 1123 	xor	a, a
   0710 FD 21r00r00   [14] 1124 	ld	iy,#_pvx
   0714 FD BE 00      [19] 1125 	cp	a, 0 (iy)
   0717 FD 21r00r00   [14] 1126 	ld	iy,#_pvx
   071B FD 9E 01      [19] 1127 	sbc	a, 1 (iy)
   071E E2r23r07      [10] 1128 	jp	PO, 00582$
   0721 EE 80         [ 7] 1129 	xor	a, #0x80
   0723                    1130 00582$:
   0723 F2r2Cr07      [10] 1131 	jp	P,00189$
   0726 21 00 00      [10] 1132 	ld	hl,#0x0000
   0729 22r00r00      [16] 1133 	ld	(_pvx),hl
   072C                    1134 00189$:
                           1135 ;./engine/player.c:702: if (pad0 & PAD_LEFT) {
   072C 7A            [ 4] 1136 	ld	a,d
   072D B7            [ 4] 1137 	or	a, a
   072E 28 2E         [12] 1138 	jr	Z,00194$
                           1139 ;./engine/player.c:706: pfacing = CELL_FACING_LEFT;		
   0730 FD 21r00r00   [14] 1140 	ld	iy,#_pfacing
   0734 FD 36 00 05   [19] 1141 	ld	0 (iy),#0x05
                           1142 ;./engine/player.c:709: if (pvx > -PLAYER_VX_MAX) {
   0738 3E 80         [ 7] 1143 	ld	a,#0x80
   073A FD 21r00r00   [14] 1144 	ld	iy,#_pvx
   073E FD BE 00      [19] 1145 	cp	a, 0 (iy)
   0741 3E FF         [ 7] 1146 	ld	a,#0xFF
   0743 FD 21r00r00   [14] 1147 	ld	iy,#_pvx
   0747 FD 9E 01      [19] 1148 	sbc	a, 1 (iy)
   074A E2r4Fr07      [10] 1149 	jp	PO, 00583$
   074D EE 80         [ 7] 1150 	xor	a, #0x80
   074F                    1151 00583$:
   074F F2r5Er07      [10] 1152 	jp	P,00194$
                           1153 ;./engine/player.c:714: pvx -= PLAYER_AX;
   0752 21r00r00      [10] 1154 	ld	hl,#_pvx
   0755 7E            [ 7] 1155 	ld	a,(hl)
   0756 C6 F0         [ 7] 1156 	add	a,#0xF0
   0758 77            [ 7] 1157 	ld	(hl),a
   0759 23            [ 6] 1158 	inc	hl
   075A 7E            [ 7] 1159 	ld	a,(hl)
   075B CE FF         [ 7] 1160 	adc	a,#0xFF
   075D 77            [ 7] 1161 	ld	(hl),a
   075E                    1162 00194$:
                           1163 ;./engine/player.c:719: if (pad0 & PAD_RIGHT) {
   075E 7B            [ 4] 1164 	ld	a,e
   075F B7            [ 4] 1165 	or	a, a
   0760 28 20         [12] 1166 	jr	Z,00198$
                           1167 ;./engine/player.c:723: pfacing = CELL_FACING_RIGHT;
   0762 21r00r00      [10] 1168 	ld	hl,#_pfacing + 0
   0765 36 00         [10] 1169 	ld	(hl), #0x00
                           1170 ;./engine/player.c:726: if (pvx < PLAYER_VX_MAX) {
   0767 3Ar00r00      [13] 1171 	ld	a,(#_pvx + 0)
   076A D6 80         [ 7] 1172 	sub	a, #0x80
   076C 3Ar01r00      [13] 1173 	ld	a,(#_pvx + 1)
   076F 17            [ 4] 1174 	rla
   0770 3F            [ 4] 1175 	ccf
   0771 1F            [ 4] 1176 	rra
   0772 DE 80         [ 7] 1177 	sbc	a, #0x80
   0774 30 0C         [12] 1178 	jr	NC,00198$
                           1179 ;./engine/player.c:731: pvx += PLAYER_AX;
   0776 21r00r00      [10] 1180 	ld	hl,#_pvx
   0779 7E            [ 7] 1181 	ld	a,(hl)
   077A C6 10         [ 7] 1182 	add	a, #0x10
   077C 77            [ 7] 1183 	ld	(hl),a
   077D 23            [ 6] 1184 	inc	hl
   077E 7E            [ 7] 1185 	ld	a,(hl)
   077F CE 00         [ 7] 1186 	adc	a, #0x00
   0781 77            [ 7] 1187 	ld	(hl),a
   0782                    1188 00198$:
                           1189 ;./engine/player.c:737: px += pvx;
   0782 21r00r00      [10] 1190 	ld	hl,#_pvx
   0785 D5            [11] 1191 	push	de
   0786 FD 21r00r00   [14] 1192 	ld	iy,#_px
   078A FD E5         [15] 1193 	push	iy
   078C D1            [10] 1194 	pop	de
   078D 1A            [ 7] 1195 	ld	a,(de)
   078E 86            [ 7] 1196 	add	a, (hl)
   078F 12            [ 7] 1197 	ld	(de),a
   0790 13            [ 6] 1198 	inc	de
   0791 1A            [ 7] 1199 	ld	a,(de)
   0792 23            [ 6] 1200 	inc	hl
   0793 8E            [ 7] 1201 	adc	a, (hl)
   0794 12            [ 7] 1202 	ld	(de),a
   0795 D1            [10] 1203 	pop	de
                           1204 ;./engine/player.c:739: if (pgotten) px += pgtmx;
   0796 3Ar00r00      [13] 1205 	ld	a,(#_pgotten + 0)
   0799 B7            [ 4] 1206 	or	a, a
   079A 28 14         [12] 1207 	jr	Z,00200$
   079C 21r00r00      [10] 1208 	ld	hl,#_pgtmx
   079F D5            [11] 1209 	push	de
   07A0 FD 21r00r00   [14] 1210 	ld	iy,#_px
   07A4 FD E5         [15] 1211 	push	iy
   07A6 D1            [10] 1212 	pop	de
   07A7 1A            [ 7] 1213 	ld	a,(de)
   07A8 86            [ 7] 1214 	add	a, (hl)
   07A9 12            [ 7] 1215 	ld	(de),a
   07AA 13            [ 6] 1216 	inc	de
   07AB 1A            [ 7] 1217 	ld	a,(de)
   07AC 23            [ 6] 1218 	inc	hl
   07AD 8E            [ 7] 1219 	adc	a, (hl)
   07AE 12            [ 7] 1220 	ld	(de),a
   07AF D1            [10] 1221 	pop	de
   07B0                    1222 00200$:
                           1223 ;./engine/player.c:742: if (px < (4<<FIXBITS)) { px = 4 << FIXBITS; prx = 4;}
   07B0 3Ar01r00      [13] 1224 	ld	a,(#_px + 1)
   07B3 EE 80         [ 7] 1225 	xor	a, #0x80
   07B5 D6 81         [ 7] 1226 	sub	a, #0x81
   07B7 30 0D         [12] 1227 	jr	NC,00205$
   07B9 21 00 01      [10] 1228 	ld	hl,#0x0100
   07BC 22r00r00      [16] 1229 	ld	(_px),hl
   07BF 21r00r00      [10] 1230 	ld	hl,#_prx + 0
   07C2 36 04         [10] 1231 	ld	(hl), #0x04
   07C4 18 29         [12] 1232 	jr	00206$
   07C6                    1233 00205$:
                           1234 ;./engine/player.c:743: else if (px > (244<<FIXBITS)) { px = 244 << FIXBITS; prx = 244; }
   07C6 AF            [ 4] 1235 	xor	a, a
   07C7 FD 21r00r00   [14] 1236 	ld	iy,#_px
   07CB FD BE 00      [19] 1237 	cp	a, 0 (iy)
   07CE 3E 3D         [ 7] 1238 	ld	a,#0x3D
   07D0 FD 21r00r00   [14] 1239 	ld	iy,#_px
   07D4 FD 9E 01      [19] 1240 	sbc	a, 1 (iy)
   07D7 E2rDCr07      [10] 1241 	jp	PO, 00584$
   07DA EE 80         [ 7] 1242 	xor	a, #0x80
   07DC                    1243 00584$:
   07DC F2rECr07      [10] 1244 	jp	P,00202$
   07DF 21 00 3D      [10] 1245 	ld	hl,#0x3D00
   07E2 22r00r00      [16] 1246 	ld	(_px),hl
   07E5 21r00r00      [10] 1247 	ld	hl,#_prx + 0
   07E8 36 F4         [10] 1248 	ld	(hl), #0xF4
   07EA 18 03         [12] 1249 	jr	00206$
   07EC                    1250 00202$:
                           1251 ;./engine/player.c:744: else player_to_pixels ();
   07EC CDrA2r00      [17] 1252 	call	_player_to_pixels
   07EF                    1253 00206$:
                           1254 ;./engine/player.c:749: cy1 = (pry - PLAYER_COLLISION_VSTRETCH_BG) >> 4;
   07EF 21r00r00      [10] 1255 	ld	hl,#_pry + 0
   07F2 5E            [ 7] 1256 	ld	e, (hl)
   07F3 16 00         [ 7] 1257 	ld	d,#0x00
   07F5 7B            [ 4] 1258 	ld	a,e
   07F6 C6 04         [ 7] 1259 	add	a,#0x04
   07F8 6F            [ 4] 1260 	ld	l,a
   07F9 7A            [ 4] 1261 	ld	a,d
   07FA CE 00         [ 7] 1262 	adc	a,#0x00
   07FC 67            [ 4] 1263 	ld	h,a
   07FD CB 2C         [ 8] 1264 	sra	h
   07FF CB 1D         [ 8] 1265 	rr	l
   0801 CB 2C         [ 8] 1266 	sra	h
   0803 CB 1D         [ 8] 1267 	rr	l
   0805 CB 2C         [ 8] 1268 	sra	h
   0807 CB 1D         [ 8] 1269 	rr	l
   0809 CB 2C         [ 8] 1270 	sra	h
   080B CB 1D         [ 8] 1271 	rr	l
   080D FD 21r00r00   [14] 1272 	ld	iy,#_cy1
   0811 FD 75 00      [19] 1273 	ld	0 (iy),l
                           1274 ;./engine/player.c:750: cy2 = (pry + 15) >> 4;
   0814 21 0F 00      [10] 1275 	ld	hl,#0x000F
   0817 19            [11] 1276 	add	hl,de
   0818 CB 2C         [ 8] 1277 	sra	h
   081A CB 1D         [ 8] 1278 	rr	l
   081C CB 2C         [ 8] 1279 	sra	h
   081E CB 1D         [ 8] 1280 	rr	l
   0820 CB 2C         [ 8] 1281 	sra	h
   0822 CB 1D         [ 8] 1282 	rr	l
   0824 CB 2C         [ 8] 1283 	sra	h
   0826 CB 1D         [ 8] 1284 	rr	l
   0828 FD 21r00r00   [14] 1285 	ld	iy,#_cy2
   082C FD 75 00      [19] 1286 	ld	0 (iy),l
                           1287 ;./engine/player.c:753: rds16 = pvx + pgtmx;
   082F 21r00r00      [10] 1288 	ld	hl,#_pgtmx
   0832 D5            [11] 1289 	push	de
   0833 FD 21r00r00   [14] 1290 	ld	iy,#_rds16
   0837 FD E5         [15] 1291 	push	iy
   0839 D1            [10] 1292 	pop	de
   083A 3Ar00r00      [13] 1293 	ld	a,(#_pvx + 0)
   083D 86            [ 7] 1294 	add	a, (hl)
   083E 12            [ 7] 1295 	ld	(de),a
   083F 3Ar01r00      [13] 1296 	ld	a,(#_pvx + 1)
   0842 23            [ 6] 1297 	inc	hl
   0843 8E            [ 7] 1298 	adc	a, (hl)
   0844 13            [ 6] 1299 	inc	de
   0845 12            [ 7] 1300 	ld	(de),a
   0846 D1            [10] 1301 	pop	de
                           1302 ;./engine/player.c:754: if (rds16) 	{
   0847 3Ar01r00      [13] 1303 	ld	a,(#_rds16 + 1)
   084A 21r00r00      [10] 1304 	ld	hl,#_rds16 + 0
   084D B6            [ 7] 1305 	or	a,(hl)
   084E CArA0r09      [10] 1306 	jp	Z,00223$
                           1307 ;./engine/player.c:755: if (rds16 < 0) {
   0851 3Ar01r00      [13] 1308 	ld	a,(#_rds16 + 1)
   0854 CB 7F         [ 8] 1309 	bit	7,a
   0856 28 24         [12] 1310 	jr	Z,00208$
                           1311 ;./engine/player.c:756: cx1 = cx2 = prx >> 4; 
   0858 3Ar00r00      [13] 1312 	ld	a,(#_prx + 0)
   085B 07            [ 4] 1313 	rlca
   085C 07            [ 4] 1314 	rlca
   085D 07            [ 4] 1315 	rlca
   085E 07            [ 4] 1316 	rlca
   085F E6 0F         [ 7] 1317 	and	a,#0x0F
   0861 32r00r00      [13] 1318 	ld	(#_cx2 + 0),a
                           1319 ;./engine/player.c:757: rda = (cx1 + 1) << 4;
   0864 32r00r00      [13] 1320 	ld	(#_cx1 + 0),a
   0867 3C            [ 4] 1321 	inc	a
   0868 07            [ 4] 1322 	rlca
   0869 07            [ 4] 1323 	rlca
   086A 07            [ 4] 1324 	rlca
   086B 07            [ 4] 1325 	rlca
   086C E6 F0         [ 7] 1326 	and	a,#0xF0
   086E 32r00r00      [13] 1327 	ld	(#_rda + 0),a
                           1328 ;./engine/player.c:758: rdm = cx1 - 1;
   0871 21r00r00      [10] 1329 	ld	hl,#_rdm
   0874 3Ar00r00      [13] 1330 	ld	a,(#_cx1 + 0)
   0877 C6 FF         [ 7] 1331 	add	a,#0xFF
   0879 77            [ 7] 1332 	ld	(hl),a
   087A 18 3A         [12] 1333 	jr	00209$
   087C                    1334 00208$:
                           1335 ;./engine/player.c:760: cx1 = cx2 = (prx + 8) >> 4;
   087C FD 21r00r00   [14] 1336 	ld	iy,#_prx
   0880 FD 6E 00      [19] 1337 	ld	l,0 (iy)
   0883 26 00         [ 7] 1338 	ld	h,#0x00
   0885 01 08 00      [10] 1339 	ld	bc,#0x0008
   0888 09            [11] 1340 	add	hl,bc
   0889 CB 2C         [ 8] 1341 	sra	h
   088B CB 1D         [ 8] 1342 	rr	l
   088D CB 2C         [ 8] 1343 	sra	h
   088F CB 1D         [ 8] 1344 	rr	l
   0891 CB 2C         [ 8] 1345 	sra	h
   0893 CB 1D         [ 8] 1346 	rr	l
   0895 CB 2C         [ 8] 1347 	sra	h
   0897 CB 1D         [ 8] 1348 	rr	l
   0899 7D            [ 4] 1349 	ld	a,l
   089A 32r00r00      [13] 1350 	ld	(#_cx2 + 0),a
                           1351 ;./engine/player.c:761: rda = ((cx1 - 1) << 4) + 8;
   089D 32r00r00      [13] 1352 	ld	(#_cx1 + 0),a
   08A0 C6 FF         [ 7] 1353 	add	a,#0xFF
   08A2 07            [ 4] 1354 	rlca
   08A3 07            [ 4] 1355 	rlca
   08A4 07            [ 4] 1356 	rlca
   08A5 07            [ 4] 1357 	rlca
   08A6 E6 F0         [ 7] 1358 	and	a,#0xF0
   08A8 21r00r00      [10] 1359 	ld	hl,#_rda
   08AB C6 08         [ 7] 1360 	add	a, #0x08
   08AD 77            [ 7] 1361 	ld	(hl),a
                           1362 ;./engine/player.c:762: rdm = cx1 + 1;
   08AE 21r00r00      [10] 1363 	ld	hl,#_rdm
   08B1 3Ar00r00      [13] 1364 	ld	a,(#_cx1 + 0)
   08B4 3C            [ 4] 1365 	inc	a
   08B5 77            [ 7] 1366 	ld	(hl),a
   08B6                    1367 00209$:
                           1368 ;./engine/player.c:783: cm_two_points ();
   08B6 CDr00r00      [17] 1369 	call	_cm_two_points
                           1370 ;./engine/player.c:787: if ((at1 & 8) || (at2 & 8)) 
   08B9 FD 21r00r00   [14] 1371 	ld	iy,#_at1
   08BD FD CB 00 5E   [20] 1372 	bit	3, 0 (iy)
   08C1 20 0B         [12] 1373 	jr	NZ,00216$
   08C3 FD 21r00r00   [14] 1374 	ld	iy,#_at2
   08C7 FD CB 00 5E   [20] 1375 	bit	3, 0 (iy)
   08CB CAr54r09      [10] 1376 	jp	Z,00217$
   08CE                    1377 00216$:
                           1378 ;./engine/player.c:790: pvx = 0; prx = rda; px = prx << FIXBITS; pfiring = 1;
   08CE 21 00 00      [10] 1379 	ld	hl,#0x0000
   08D1 22r00r00      [16] 1380 	ld	(_pvx),hl
   08D4 3Ar00r00      [13] 1381 	ld	a,(#_rda + 0)
   08D7 32r00r00      [13] 1382 	ld	(#_prx + 0),a
   08DA FD 21r00r00   [14] 1383 	ld	iy,#_prx
   08DE FD 6E 00      [19] 1384 	ld	l,0 (iy)
   08E1 26 00         [ 7] 1385 	ld	h,#0x00
   08E3 29            [11] 1386 	add	hl, hl
   08E4 29            [11] 1387 	add	hl, hl
   08E5 29            [11] 1388 	add	hl, hl
   08E6 29            [11] 1389 	add	hl, hl
   08E7 29            [11] 1390 	add	hl, hl
   08E8 29            [11] 1391 	add	hl, hl
   08E9 22r00r00      [16] 1392 	ld	(_px),hl
   08EC FD 21r00r00   [14] 1393 	ld	iy,#_pfiring
   08F0 FD 36 00 01   [19] 1394 	ld	0 (iy),#0x01
                           1395 ;./engine/player.c:794: if (at1 & 2) player_process_tile (at1, cx1, cy1, rdm, cy1);
   08F4 FD 21r00r00   [14] 1396 	ld	iy,#_at1
   08F8 FD CB 00 4E   [20] 1397 	bit	1, 0 (iy)
   08FC 28 1F         [12] 1398 	jr	Z,00211$
   08FE 3Ar00r00      [13] 1399 	ld	a,(_cy1)
   0901 F5            [11] 1400 	push	af
   0902 33            [ 6] 1401 	inc	sp
   0903 3Ar00r00      [13] 1402 	ld	a,(_rdm)
   0906 F5            [11] 1403 	push	af
   0907 33            [ 6] 1404 	inc	sp
   0908 3Ar00r00      [13] 1405 	ld	a,(_cy1)
   090B F5            [11] 1406 	push	af
   090C 33            [ 6] 1407 	inc	sp
   090D 3Ar00r00      [13] 1408 	ld	a,(_cx1)
   0910 F5            [11] 1409 	push	af
   0911 33            [ 6] 1410 	inc	sp
   0912 3Ar00r00      [13] 1411 	ld	a,(_at1)
   0915 F5            [11] 1412 	push	af
   0916 33            [ 6] 1413 	inc	sp
   0917 CDr54r01      [17] 1414 	call	_player_process_tile
   091A F1            [10] 1415 	pop	af
   091B F1            [10] 1416 	pop	af
   091C 33            [ 6] 1417 	inc	sp
   091D                    1418 00211$:
                           1419 ;./engine/player.c:795: if (cy1 != cy2) if (at2 & 2) player_process_tile (at2, cx1, cy2, rdm, cy2);
   091D 3Ar00r00      [13] 1420 	ld	a,(#_cy1 + 0)
   0920 FD 21r00r00   [14] 1421 	ld	iy,#_cy2
   0924 FD 96 00      [19] 1422 	sub	a, 0 (iy)
   0927 28 4C         [12] 1423 	jr	Z,00218$
   0929 FD 21r00r00   [14] 1424 	ld	iy,#_at2
   092D FD CB 00 4E   [20] 1425 	bit	1, 0 (iy)
   0931 28 42         [12] 1426 	jr	Z,00218$
   0933 3Ar00r00      [13] 1427 	ld	a,(_cy2)
   0936 F5            [11] 1428 	push	af
   0937 33            [ 6] 1429 	inc	sp
   0938 3Ar00r00      [13] 1430 	ld	a,(_rdm)
   093B F5            [11] 1431 	push	af
   093C 33            [ 6] 1432 	inc	sp
   093D 3Ar00r00      [13] 1433 	ld	a,(_cy2)
   0940 F5            [11] 1434 	push	af
   0941 33            [ 6] 1435 	inc	sp
   0942 3Ar00r00      [13] 1436 	ld	a,(_cx1)
   0945 F5            [11] 1437 	push	af
   0946 33            [ 6] 1438 	inc	sp
   0947 3Ar00r00      [13] 1439 	ld	a,(_at2)
   094A F5            [11] 1440 	push	af
   094B 33            [ 6] 1441 	inc	sp
   094C CDr54r01      [17] 1442 	call	_player_process_tile
   094F F1            [10] 1443 	pop	af
   0950 F1            [10] 1444 	pop	af
   0951 33            [ 6] 1445 	inc	sp
   0952 18 21         [12] 1446 	jr	00218$
   0954                    1447 00217$:
                           1448 ;./engine/player.c:802: hith = ((at1 & 1) || (at2 & 1));
   0954 FD 21r00r00   [14] 1449 	ld	iy,#_at1
   0958 FD CB 00 46   [20] 1450 	bit	0, 0 (iy)
   095C 20 0E         [12] 1451 	jr	NZ,00248$
   095E FD 21r00r00   [14] 1452 	ld	iy,#_at2
   0962 FD CB 00 46   [20] 1453 	bit	0, 0 (iy)
   0966 20 04         [12] 1454 	jr	NZ,00248$
   0968 3E 00         [ 7] 1455 	ld	a,#0x00
   096A 18 02         [12] 1456 	jr	00249$
   096C                    1457 00248$:
   096C 3E 01         [ 7] 1458 	ld	a,#0x01
   096E                    1459 00249$:
   096E FD 21r00r00   [14] 1460 	ld	iy,#_hith
   0972 FD 77 00      [19] 1461 	ld	0 (iy),a
   0975                    1462 00218$:
                           1463 ;./engine/player.c:805: if (pvy > 0) hith &= ((pry & 15) > 4);
   0975 AF            [ 4] 1464 	xor	a, a
   0976 FD 21r00r00   [14] 1465 	ld	iy,#_pvy
   097A FD BE 00      [19] 1466 	cp	a, 0 (iy)
   097D FD 21r00r00   [14] 1467 	ld	iy,#_pvy
   0981 FD 9E 01      [19] 1468 	sbc	a, 1 (iy)
   0984 E2r89r09      [10] 1469 	jp	PO, 00595$
   0987 EE 80         [ 7] 1470 	xor	a, #0x80
   0989                    1471 00595$:
   0989 F2rA0r09      [10] 1472 	jp	P,00223$
   098C 3Ar00r00      [13] 1473 	ld	a,(#_pry + 0)
   098F E6 0F         [ 7] 1474 	and	a, #0x0F
   0991 67            [ 4] 1475 	ld	h,a
   0992 3E 04         [ 7] 1476 	ld	a,#0x04
   0994 94            [ 4] 1477 	sub	a, h
   0995 3E 00         [ 7] 1478 	ld	a,#0x00
   0997 17            [ 4] 1479 	rla
   0998 57            [ 4] 1480 	ld	d,a
   0999 3Ar00r00      [13] 1481 	ld	a,(#_hith + 0)
   099C A2            [ 4] 1482 	and	a, d
   099D 32r00r00      [13] 1483 	ld	(#_hith + 0),a
   09A0                    1484 00223$:
                           1485 ;./engine/player.c:833: phit = 0;
   09A0 21r00r00      [10] 1486 	ld	hl,#_phit + 0
   09A3 36 00         [10] 1487 	ld	(hl), #0x00
                           1488 ;./engine/player.c:835: if (pgotten == 0) {
   09A5 3Ar00r00      [13] 1489 	ld	a,(#_pgotten + 0)
   09A8 B7            [ 4] 1490 	or	a, a
   09A9 C2r75r0A      [10] 1491 	jp	NZ,00235$
                           1492 ;./engine/player.c:843: if (hitv) { phit = 1; pvy = ADD_SIGN (-pvy, PLAYER_V_REBOUND); pry = pcy; py = pry << FIXBITS; } 
   09AC 3Ar00r00      [13] 1493 	ld	a,(#_hitv + 0)
   09AF B7            [ 4] 1494 	or	a, a
   09B0 28 50         [12] 1495 	jr	Z,00227$
   09B2 21r00r00      [10] 1496 	ld	hl,#_phit + 0
   09B5 36 01         [10] 1497 	ld	(hl), #0x01
   09B7 AF            [ 4] 1498 	xor	a, a
   09B8 FD 21r00r00   [14] 1499 	ld	iy,#_pvy
   09BC FD 96 00      [19] 1500 	sub	a, 0 (iy)
   09BF 67            [ 4] 1501 	ld	h,a
   09C0 3E 00         [ 7] 1502 	ld	a, #0x00
   09C2 FD 21r00r00   [14] 1503 	ld	iy,#_pvy
   09C6 FD 9E 01      [19] 1504 	sbc	a, 1 (iy)
   09C9 6F            [ 4] 1505 	ld	l,a
   09CA B4            [ 4] 1506 	or	a,h
   09CB 28 15         [12] 1507 	jr	Z,00250$
   09CD AF            [ 4] 1508 	xor	a, a
   09CE BC            [ 4] 1509 	cp	a, h
   09CF 9D            [ 4] 1510 	sbc	a, l
   09D0 E2rD5r09      [10] 1511 	jp	PO, 00596$
   09D3 EE 80         [ 7] 1512 	xor	a, #0x80
   09D5                    1513 00596$:
   09D5 F2rDDr09      [10] 1514 	jp	P,00252$
   09D8 21 E0 00      [10] 1515 	ld	hl,#0x00E0
   09DB 18 08         [12] 1516 	jr	00251$
   09DD                    1517 00252$:
   09DD 21 20 FF      [10] 1518 	ld	hl,#0xFF20
   09E0 18 03         [12] 1519 	jr	00251$
   09E2                    1520 00250$:
   09E2 21 00 00      [10] 1521 	ld	hl,#0x0000
   09E5                    1522 00251$:
   09E5 22r00r00      [16] 1523 	ld	(_pvy),hl
   09E8 3Ar00r00      [13] 1524 	ld	a,(#_pcy + 0)
   09EB 32r00r00      [13] 1525 	ld	(#_pry + 0),a
   09EE FD 21r00r00   [14] 1526 	ld	iy,#_pry
   09F2 FD 6E 00      [19] 1527 	ld	l,0 (iy)
   09F5 26 00         [ 7] 1528 	ld	h,#0x00
   09F7 29            [11] 1529 	add	hl, hl
   09F8 29            [11] 1530 	add	hl, hl
   09F9 29            [11] 1531 	add	hl, hl
   09FA 29            [11] 1532 	add	hl, hl
   09FB 29            [11] 1533 	add	hl, hl
   09FC 29            [11] 1534 	add	hl, hl
   09FD 22r00r00      [16] 1535 	ld	(_py),hl
   0A00 18 54         [12] 1536 	jr	00228$
   0A02                    1537 00227$:
                           1538 ;./engine/player.c:847: if (hith) { phit = 1; pvx = ADD_SIGN (-pvx, PLAYER_V_REBOUND); prx = pcx; px = prx << FIXBITS; }
   0A02 3Ar00r00      [13] 1539 	ld	a,(#_hith + 0)
   0A05 B7            [ 4] 1540 	or	a, a
   0A06 28 4E         [12] 1541 	jr	Z,00228$
   0A08 21r00r00      [10] 1542 	ld	hl,#_phit + 0
   0A0B 36 01         [10] 1543 	ld	(hl), #0x01
   0A0D AF            [ 4] 1544 	xor	a, a
   0A0E FD 21r00r00   [14] 1545 	ld	iy,#_pvx
   0A12 FD 96 00      [19] 1546 	sub	a, 0 (iy)
   0A15 67            [ 4] 1547 	ld	h,a
   0A16 3E 00         [ 7] 1548 	ld	a, #0x00
   0A18 FD 21r00r00   [14] 1549 	ld	iy,#_pvx
   0A1C FD 9E 01      [19] 1550 	sbc	a, 1 (iy)
   0A1F 6F            [ 4] 1551 	ld	l,a
   0A20 B4            [ 4] 1552 	or	a,h
   0A21 28 15         [12] 1553 	jr	Z,00254$
   0A23 AF            [ 4] 1554 	xor	a, a
   0A24 BC            [ 4] 1555 	cp	a, h
   0A25 9D            [ 4] 1556 	sbc	a, l
   0A26 E2r2Br0A      [10] 1557 	jp	PO, 00597$
   0A29 EE 80         [ 7] 1558 	xor	a, #0x80
   0A2B                    1559 00597$:
   0A2B F2r33r0A      [10] 1560 	jp	P,00256$
   0A2E 21 E0 00      [10] 1561 	ld	hl,#0x00E0
   0A31 18 08         [12] 1562 	jr	00255$
   0A33                    1563 00256$:
   0A33 21 20 FF      [10] 1564 	ld	hl,#0xFF20
   0A36 18 03         [12] 1565 	jr	00255$
   0A38                    1566 00254$:
   0A38 21 00 00      [10] 1567 	ld	hl,#0x0000
   0A3B                    1568 00255$:
   0A3B 22r00r00      [16] 1569 	ld	(_pvx),hl
   0A3E 3Ar00r00      [13] 1570 	ld	a,(#_pcx + 0)
   0A41 32r00r00      [13] 1571 	ld	(#_prx + 0),a
   0A44 FD 21r00r00   [14] 1572 	ld	iy,#_prx
   0A48 FD 6E 00      [19] 1573 	ld	l,0 (iy)
   0A4B 26 00         [ 7] 1574 	ld	h,#0x00
   0A4D 29            [11] 1575 	add	hl, hl
   0A4E 29            [11] 1576 	add	hl, hl
   0A4F 29            [11] 1577 	add	hl, hl
   0A50 29            [11] 1578 	add	hl, hl
   0A51 29            [11] 1579 	add	hl, hl
   0A52 29            [11] 1580 	add	hl, hl
   0A53 22r00r00      [16] 1581 	ld	(_px),hl
   0A56                    1582 00228$:
                           1583 ;./engine/player.c:857: if (!pflickering && !pbouncing) if (phit) { 
   0A56 3Ar00r00      [13] 1584 	ld	a,(#_pflickering + 0)
   0A59 B7            [ 4] 1585 	or	a, a
   0A5A 20 19         [12] 1586 	jr	NZ,00235$
   0A5C 3Ar00r00      [13] 1587 	ld	a,(#_pbouncing + 0)
   0A5F B7            [ 4] 1588 	or	a, a
   0A60 20 13         [12] 1589 	jr	NZ,00235$
   0A62 3Ar00r00      [13] 1590 	ld	a,(#_phit + 0)
   0A65 B7            [ 4] 1591 	or	a, a
   0A66 28 0D         [12] 1592 	jr	Z,00235$
                           1593 ;./engine/player.c:858: player_to_pixels ();
   0A68 CDrA2r00      [17] 1594 	call	_player_to_pixels
                           1595 ;./engine/player.c:859: en_sg_2 = 1;
   0A6B 21r00r00      [10] 1596 	ld	hl,#_en_sg_2 + 0
   0A6E 36 01         [10] 1597 	ld	(hl), #0x01
                           1598 ;./engine/player.c:866: pkill = en_sg_2;
   0A70 21r00r00      [10] 1599 	ld	hl,#_pkill + 0
   0A73 36 01         [10] 1600 	ld	(hl), #0x01
   0A75                    1601 00235$:
                           1602 ;./engine/player.c:879: cx1 = cx2 = (prx + 4) >> 4;
   0A75 21r00r00      [10] 1603 	ld	hl,#_prx + 0
   0A78 5E            [ 7] 1604 	ld	e, (hl)
   0A79 16 00         [ 7] 1605 	ld	d,#0x00
   0A7B 13            [ 6] 1606 	inc	de
   0A7C 13            [ 6] 1607 	inc	de
   0A7D 13            [ 6] 1608 	inc	de
   0A7E 13            [ 6] 1609 	inc	de
   0A7F CB 2A         [ 8] 1610 	sra	d
   0A81 CB 1B         [ 8] 1611 	rr	e
   0A83 CB 2A         [ 8] 1612 	sra	d
   0A85 CB 1B         [ 8] 1613 	rr	e
   0A87 CB 2A         [ 8] 1614 	sra	d
   0A89 CB 1B         [ 8] 1615 	rr	e
   0A8B CB 2A         [ 8] 1616 	sra	d
   0A8D CB 1B         [ 8] 1617 	rr	e
   0A8F 21r00r00      [10] 1618 	ld	hl,#_cx2 + 0
   0A92 73            [ 7] 1619 	ld	(hl), e
   0A93 21r00r00      [10] 1620 	ld	hl,#_cx1 + 0
   0A96 73            [ 7] 1621 	ld	(hl), e
                           1622 ;./engine/player.c:880: cy1 = cy2 = (pry + 8) >> 4;
   0A97 FD 21r00r00   [14] 1623 	ld	iy,#_pry
   0A9B FD 6E 00      [19] 1624 	ld	l,0 (iy)
   0A9E 26 00         [ 7] 1625 	ld	h,#0x00
   0AA0 01 08 00      [10] 1626 	ld	bc,#0x0008
   0AA3 09            [11] 1627 	add	hl,bc
   0AA4 CB 2C         [ 8] 1628 	sra	h
   0AA6 CB 1D         [ 8] 1629 	rr	l
   0AA8 CB 2C         [ 8] 1630 	sra	h
   0AAA CB 1D         [ 8] 1631 	rr	l
   0AAC CB 2C         [ 8] 1632 	sra	h
   0AAE CB 1D         [ 8] 1633 	rr	l
   0AB0 CB 2C         [ 8] 1634 	sra	h
   0AB2 CB 1D         [ 8] 1635 	rr	l
   0AB4 7D            [ 4] 1636 	ld	a,l
   0AB5 32r00r00      [13] 1637 	ld	(#_cy2 + 0),a
   0AB8 32r00r00      [13] 1638 	ld	(#_cy1 + 0),a
                           1639 ;./engine/player.c:881: cm_two_points ();
   0ABB CDr00r00      [17] 1640 	call	_cm_two_points
                           1641 ;./engine/player.c:887: if (cy1 && at1 == 34) {
   0ABE 3Ar00r00      [13] 1642 	ld	a,(#_cy1 + 0)
   0AC1 B7            [ 4] 1643 	or	a, a
   0AC2 28 65         [12] 1644 	jr	Z,00237$
   0AC4 3Ar00r00      [13] 1645 	ld	a,(#_at1 + 0)
   0AC7 D6 22         [ 7] 1646 	sub	a, #0x22
   0AC9 20 5E         [12] 1647 	jr	NZ,00237$
                           1648 ;./engine/player.c:888: -- cy1;
   0ACB 21r00r00      [10] 1649 	ld	hl, #_cy1+0
   0ACE 35            [11] 1650 	dec	(hl)
                           1651 ;./engine/player.c:890: _x = cx1; _y = cy1; _t = 0; map_set ();
   0ACF 3Ar00r00      [13] 1652 	ld	a,(#_cx1 + 0)
   0AD2 32r00r00      [13] 1653 	ld	(#__x + 0),a
   0AD5 3Ar00r00      [13] 1654 	ld	a,(#_cy1 + 0)
   0AD8 32r00r00      [13] 1655 	ld	(#__y + 0),a
   0ADB 21r00r00      [10] 1656 	ld	hl,#__t + 0
   0ADE 36 00         [10] 1657 	ld	(hl), #0x00
   0AE0 CDr00r00      [17] 1658 	call	_map_set
                           1659 ;./engine/player.c:891: PSGSFXPlay (SFX_RING, 1);
   0AE3 11r00r00      [10] 1660 	ld	de,#_s_18_ring2_psg+0
   0AE6 3E 01         [ 7] 1661 	ld	a,#0x01
   0AE8 F5            [11] 1662 	push	af
   0AE9 33            [ 6] 1663 	inc	sp
   0AEA D5            [11] 1664 	push	de
   0AEB CDr00r00      [17] 1665 	call	_PSGSFXPlay
   0AEE F1            [10] 1666 	pop	af
   0AEF 33            [ 6] 1667 	inc	sp
                           1668 ;./engine/player.c:896: tile_got [(cy1 << 1) | (cx1 > 7)] |= bits [cx1 & 7];
   0AF0 11r00r00      [10] 1669 	ld	de,#_tile_got+0
   0AF3 FD 21r00r00   [14] 1670 	ld	iy,#_cy1
   0AF7 FD 6E 00      [19] 1671 	ld	l,0 (iy)
   0AFA 26 00         [ 7] 1672 	ld	h,#0x00
   0AFC 29            [11] 1673 	add	hl, hl
   0AFD 4D            [ 4] 1674 	ld	c, l
   0AFE 44            [ 4] 1675 	ld	b, h
   0AFF 3E 07         [ 7] 1676 	ld	a,#0x07
   0B01 FD 21r00r00   [14] 1677 	ld	iy,#_cx1
   0B05 FD 96 00      [19] 1678 	sub	a, 0 (iy)
   0B08 3E 00         [ 7] 1679 	ld	a,#0x00
   0B0A 17            [ 4] 1680 	rla
   0B0B 6F            [ 4] 1681 	ld	l,a
   0B0C 17            [ 4] 1682 	rla
   0B0D 9F            [ 4] 1683 	sbc	a, a
   0B0E 67            [ 4] 1684 	ld	h,a
   0B0F 7D            [ 4] 1685 	ld	a,l
   0B10 B1            [ 4] 1686 	or	a, c
   0B11 6F            [ 4] 1687 	ld	l,a
   0B12 7C            [ 4] 1688 	ld	a,h
   0B13 B0            [ 4] 1689 	or	a, b
   0B14 67            [ 4] 1690 	ld	h,a
   0B15 19            [11] 1691 	add	hl,de
   0B16 EB            [ 4] 1692 	ex	de,hl
   0B17 1A            [ 7] 1693 	ld	a,(de)
   0B18 47            [ 4] 1694 	ld	b,a
   0B19 3Ar00r00      [13] 1695 	ld	a,(#_cx1 + 0)
   0B1C E6 07         [ 7] 1696 	and	a, #0x07
   0B1E C6r00         [ 7] 1697 	add	a,#<(_bits)
   0B20 6F            [ 4] 1698 	ld	l,a
   0B21 3Es00         [ 7] 1699 	ld	a,#>(_bits)
   0B23 CE 00         [ 7] 1700 	adc	a, #0x00
   0B25 67            [ 4] 1701 	ld	h,a
   0B26 7E            [ 7] 1702 	ld	a,(hl)
   0B27 B0            [ 4] 1703 	or	a, b
   0B28 12            [ 7] 1704 	ld	(de),a
   0B29                    1705 00237$:
                           1706 ;./engine/player.c:924: b_button
   0B29 3Ar00r00      [13] 1707 	ld	a,(#_b_button + 0)
   0B2C B7            [ 4] 1708 	or	a, a
   0B2D 28 14         [12] 1709 	jr	Z,00244$
                           1710 ;./engine/../engine/playermods/scripting.h:14: if (b_button) {
   0B2F 3Ar00r00      [13] 1711 	ld	a,(#_b_button + 0)
   0B32 B7            [ 4] 1712 	or	a, a
   0B33 28 0E         [12] 1713 	jr	Z,00244$
                           1714 ;./engine/../engine/playermods/scripting.h:15: run_fire_script ();
   0B35 CDr00r00      [17] 1715 	call	_run_fire_script
                           1716 ;./engine/../engine/playermods/scripting.h:16: if (fire_script_success) b_button = 0;
   0B38 3Ar00r00      [13] 1717 	ld	a,(#_fire_script_success + 0)
   0B3B B7            [ 4] 1718 	or	a, a
   0B3C 28 05         [12] 1719 	jr	Z,00244$
   0B3E 21r00r00      [10] 1720 	ld	hl,#_b_button + 0
   0B41 36 00         [10] 1721 	ld	(hl), #0x00
   0B43                    1722 00244$:
                           1723 ;./engine/player.c:981: prx_old = prx;
   0B43 3Ar00r00      [13] 1724 	ld	a,(#_prx + 0)
   0B46 32r00r00      [13] 1725 	ld	(#_prx_old + 0),a
                           1726 ;./engine/player.c:982: pry_old = pry;
   0B49 3Ar00r00      [13] 1727 	ld	a,(#_pry + 0)
   0B4C 32r00r00      [13] 1728 	ld	(#_pry_old + 0),a
   0B4F DD F9         [10] 1729 	ld	sp, ix
   0B51 DD E1         [14] 1730 	pop	ix
   0B53 C9            [10] 1731 	ret
                           1732 	.area _CODE
                           1733 	.area _INITIALIZER
                           1734 	.area _CABS (ABS)
