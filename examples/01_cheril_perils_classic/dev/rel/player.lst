                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.2 #9293 (MINGW32)
                              4 ; This file was generated Thu Nov 22 08:52:20 2018
                              5 ;--------------------------------------------------------
                              6 	.module player
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _player_move
                             13 	.globl _player_process_tile
                             14 	.globl _player_kill
                             15 	.globl _player_to_pixels
                             16 	.globl _player_render
                             17 	.globl _player_init
                             18 	.globl _player_stop
                             19 	.globl _player_register_safe_spot
                             20 	.globl _update_cycle
                             21 	.globl _jump_start
                             22 	.globl _cm_two_points
                             23 	.globl _map_set
                             24 	.globl _delay
                             25 	.globl _PSGSFXPlay
                             26 	.globl _SG_setStp
                             27 	.globl _SG_addMetaSprite1x1
                             28 ;--------------------------------------------------------
                             29 ; special function registers
                             30 ;--------------------------------------------------------
                     00BF    31 _VDPControlPort	=	0x00bf
                     00BF    32 _VDPStatusPort	=	0x00bf
                     00BE    33 _VDPDataPort	=	0x00be
                     007E    34 _VDPVCounterPort	=	0x007e
                     007F    35 _VDPHCounterPort	=	0x007f
                     00DC    36 _IOPortL	=	0x00dc
                     00DD    37 _IOPortH	=	0x00dd
                             38 ;--------------------------------------------------------
                             39 ; ram data
                             40 ;--------------------------------------------------------
                             41 	.area _DATA
                             42 ;--------------------------------------------------------
                             43 ; ram data
                             44 ;--------------------------------------------------------
                             45 	.area _INITIALIZED
                             46 ;--------------------------------------------------------
                             47 ; absolute external ram data
                             48 ;--------------------------------------------------------
                             49 	.area _DABS (ABS)
                             50 ;--------------------------------------------------------
                             51 ; global & static initialisations
                             52 ;--------------------------------------------------------
                             53 	.area _HOME
                             54 	.area _GSINIT
                             55 	.area _GSFINAL
                             56 	.area _GSINIT
                             57 ;--------------------------------------------------------
                             58 ; Home
                             59 ;--------------------------------------------------------
                             60 	.area _HOME
                             61 	.area _HOME
                             62 ;--------------------------------------------------------
                             63 ; code
                             64 ;--------------------------------------------------------
                             65 	.area _CODE
                             66 ;engine/player.c:24: void player_register_safe_spot (void) {
                             67 ;	---------------------------------
                             68 ; Function player_register_safe_spot
                             69 ; ---------------------------------
   0000                      70 _player_register_safe_spot::
                             71 ;engine/player.c:25: px_safe = px;
   0000 2Ar00r00      [16]   72 	ld	hl,(_px)
   0003 22r00r00      [16]   73 	ld	(_px_safe),hl
                             74 ;engine/player.c:26: py_safe = py;
   0006 2Ar00r00      [16]   75 	ld	hl,(_py)
   0009 22r00r00      [16]   76 	ld	(_py_safe),hl
                             77 ;engine/player.c:27: n_pant_safe = n_pant;
   000C 3Ar00r00      [13]   78 	ld	a,(#_n_pant + 0)
   000F 32r00r00      [13]   79 	ld	(#_n_pant_safe + 0),a
   0012 C9            [10]   80 	ret
                             81 ;engine/player.c:31: void player_stop (void) {
                             82 ;	---------------------------------
                             83 ; Function player_stop
                             84 ; ---------------------------------
   0013                      85 _player_stop::
                             86 ;engine/player.c:32: pvx = pvy = 0;
   0013 21 00 00      [10]   87 	ld	hl,#0x0000
   0016 22r00r00      [16]   88 	ld	(_pvy),hl
   0019 2E 00         [ 7]   89 	ld	l, #0x00
   001B 22r00r00      [16]   90 	ld	(_pvx),hl
   001E C9            [10]   91 	ret
                             92 ;engine/player.c:35: void player_init (void) {
                             93 ;	---------------------------------
                             94 ; Function player_init
                             95 ; ---------------------------------
   001F                      96 _player_init::
                             97 ;engine/player.c:38: if (!warp_to_level) player_stop ();
   001F 3Ar00r00      [13]   98 	ld	a,(#_warp_to_level + 0)
   0022 B7            [ 4]   99 	or	a, a
   0023 20 03         [12]  100 	jr	NZ,00102$
   0025 CDr13r00      [17]  101 	call	_player_stop
   0028                     102 00102$:
                            103 ;engine/player.c:43: pfacing = 0;
   0028 21r00r00      [10]  104 	ld	hl,#_pfacing + 0
   002B 36 00         [10]  105 	ld	(hl), #0x00
                            106 ;engine/player.c:46: pfr = pctfr = 0;
   002D 21r00r00      [10]  107 	ld	hl,#_pctfr + 0
   0030 36 00         [10]  108 	ld	(hl), #0x00
   0032 21r00r00      [10]  109 	ld	hl,#_pfr + 0
   0035 36 00         [10]  110 	ld	(hl), #0x00
                            111 ;engine/player.c:47: pj = pctj = 0;
   0037 21r00r00      [10]  112 	ld	hl,#_pctj + 0
   003A 36 00         [10]  113 	ld	(hl), #0x00
   003C 21r00r00      [10]  114 	ld	hl,#_pj + 0
   003F 36 00         [10]  115 	ld	(hl), #0x00
                            116 ;engine/player.c:48: psprid = 0;
   0041 21r00r00      [10]  117 	ld	hl,#_psprid + 0
   0044 36 00         [10]  118 	ld	(hl), #0x00
                            119 ;engine/player.c:55: pkeys = 0;
   0046 21r00r00      [10]  120 	ld	hl,#_pkeys + 0
   0049 36 00         [10]  121 	ld	(hl), #0x00
                            122 ;engine/player.c:58: pgotten = 0;
   004B 21r00r00      [10]  123 	ld	hl,#_pgotten + 0
   004E 36 00         [10]  124 	ld	(hl), #0x00
                            125 ;engine/player.c:59: pfiring = 0;
   0050 21r00r00      [10]  126 	ld	hl,#_pfiring + 0
   0053 36 00         [10]  127 	ld	(hl), #0x00
                            128 ;engine/player.c:62: pkilled = 0;
   0055 21r00r00      [10]  129 	ld	hl,#_pkilled + 0
   0058 36 00         [10]  130 	ld	(hl), #0x00
                            131 ;engine/player.c:78: pflickering = pbouncing = 0;
   005A 21r00r00      [10]  132 	ld	hl,#_pbouncing + 0
   005D 36 00         [10]  133 	ld	(hl), #0x00
   005F 21r00r00      [10]  134 	ld	hl,#_pflickering + 0
   0062 36 00         [10]  135 	ld	(hl), #0x00
                            136 ;engine/player.c:81: player_register_safe_spot ();
   0064 CDr00r00      [17]  137 	call	_player_register_safe_spot
                            138 ;engine/player.c:91: vertical_engine_type = ENGINE_TYPE_JUMP;
   0067 21r00r00      [10]  139 	ld	hl,#_vertical_engine_type + 0
   006A 36 00         [10]  140 	ld	(hl), #0x00
   006C C9            [10]  141 	ret
                            142 ;engine/player.c:110: void player_render (void) {
                            143 ;	---------------------------------
                            144 ; Function player_render
                            145 ; ---------------------------------
   006D                     146 _player_render::
                            147 ;engine/player.c:111: if (0 == pflickering || half_life) 
   006D 3Ar00r00      [13]  148 	ld	a,(#_pflickering + 0)
   0070 B7            [ 4]  149 	or	a, a
   0071 28 05         [12]  150 	jr	Z,00101$
   0073 3Ar00r00      [13]  151 	ld	a,(#_half_life + 0)
   0076 B7            [ 4]  152 	or	a, a
   0077 C8            [11]  153 	ret	Z
   0078                     154 00101$:
                            155 ;engine/player.c:114: spr_player [psprid]
   0078 11r00r00      [10]  156 	ld	de,#_spr_player+0
   007B FD 21r00r00   [14]  157 	ld	iy,#_psprid
   007F FD 6E 00      [19]  158 	ld	l,0 (iy)
   0082 26 00         [ 7]  159 	ld	h,#0x00
   0084 29            [11]  160 	add	hl, hl
   0085 19            [11]  161 	add	hl,de
   0086 5E            [ 7]  162 	ld	e,(hl)
   0087 23            [ 6]  163 	inc	hl
   0088 56            [ 7]  164 	ld	d,(hl)
                            165 ;engine/player.c:113: prx - 4, pry + SPRITE_ADJUST, 
   0089 3Ar00r00      [13]  166 	ld	a,(#_pry + 0)
   008C C6 F7         [ 7]  167 	add	a, #0xF7
   008E 47            [ 4]  168 	ld	b,a
   008F 3Ar00r00      [13]  169 	ld	a,(#_prx + 0)
   0092 C6 FC         [ 7]  170 	add	a,#0xFC
   0094 4F            [ 4]  171 	ld	c,a
   0095 D5            [11]  172 	push	de
   0096 C5            [11]  173 	push	bc
   0097 CDr00r00      [17]  174 	call	_SG_addMetaSprite1x1
   009A F1            [10]  175 	pop	af
   009B F1            [10]  176 	pop	af
   009C C9            [10]  177 	ret
                            178 ;engine/player.c:118: void player_to_pixels (void) {
                            179 ;	---------------------------------
                            180 ; Function player_to_pixels
                            181 ; ---------------------------------
   009D                     182 _player_to_pixels::
                            183 ;engine/player.c:119: prx = px >> FIXBITS;
   009D 2Ar00r00      [16]  184 	ld	hl,(_px)
   00A0 CB 2C         [ 8]  185 	sra	h
   00A2 CB 1D         [ 8]  186 	rr	l
   00A4 CB 2C         [ 8]  187 	sra	h
   00A6 CB 1D         [ 8]  188 	rr	l
   00A8 CB 2C         [ 8]  189 	sra	h
   00AA CB 1D         [ 8]  190 	rr	l
   00AC CB 2C         [ 8]  191 	sra	h
   00AE CB 1D         [ 8]  192 	rr	l
   00B0 CB 2C         [ 8]  193 	sra	h
   00B2 CB 1D         [ 8]  194 	rr	l
   00B4 CB 2C         [ 8]  195 	sra	h
   00B6 CB 1D         [ 8]  196 	rr	l
   00B8 FD 21r00r00   [14]  197 	ld	iy,#_prx
   00BC FD 75 00      [19]  198 	ld	0 (iy),l
                            199 ;engine/player.c:120: pry = py >> FIXBITS;
   00BF 2Ar00r00      [16]  200 	ld	hl,(_py)
   00C2 CB 2C         [ 8]  201 	sra	h
   00C4 CB 1D         [ 8]  202 	rr	l
   00C6 CB 2C         [ 8]  203 	sra	h
   00C8 CB 1D         [ 8]  204 	rr	l
   00CA CB 2C         [ 8]  205 	sra	h
   00CC CB 1D         [ 8]  206 	rr	l
   00CE CB 2C         [ 8]  207 	sra	h
   00D0 CB 1D         [ 8]  208 	rr	l
   00D2 CB 2C         [ 8]  209 	sra	h
   00D4 CB 1D         [ 8]  210 	rr	l
   00D6 CB 2C         [ 8]  211 	sra	h
   00D8 CB 1D         [ 8]  212 	rr	l
   00DA FD 21r00r00   [14]  213 	ld	iy,#_pry
   00DE FD 75 00      [19]  214 	ld	0 (iy),l
   00E1 C9            [10]  215 	ret
                            216 ;engine/player.c:123: void player_kill (void) {
                            217 ;	---------------------------------
                            218 ; Function player_kill
                            219 ; ---------------------------------
   00E2                     220 _player_kill::
                            221 ;engine/player.c:124: SG_setStp (cur_stp);
   00E2 2Ar00r00      [16]  222 	ld	hl,(_cur_stp)
   00E5 E5            [11]  223 	push	hl
   00E6 CDr00r00      [17]  224 	call	_SG_setStp
   00E9 F1            [10]  225 	pop	af
                            226 ;engine/player.c:125: player_render ();
   00EA CDr6Dr00      [17]  227 	call	_player_render
                            228 ;engine/player.c:126: update_cycle ();
   00ED CDr00r00      [17]  229 	call	_update_cycle
                            230 ;engine/player.c:128: pkill = phit = 0;
   00F0 21r00r00      [10]  231 	ld	hl,#_phit + 0
   00F3 36 00         [10]  232 	ld	(hl), #0x00
   00F5 21r00r00      [10]  233 	ld	hl,#_pkill + 0
   00F8 36 00         [10]  234 	ld	(hl), #0x00
                            235 ;engine/player.c:129: PSGSFXPlay (SFX_PHIT, 2);
   00FA 11r00r00      [10]  236 	ld	de,#_s_05_phit3_psg+0
   00FD 3E 02         [ 7]  237 	ld	a,#0x02
   00FF F5            [11]  238 	push	af
   0100 33            [ 6]  239 	inc	sp
   0101 D5            [11]  240 	push	de
   0102 CDr00r00      [17]  241 	call	_PSGSFXPlay
   0105 F1            [10]  242 	pop	af
   0106 33            [ 6]  243 	inc	sp
                            244 ;engine/player.c:131: if (plife) -- plife; else game_over = 1;
   0107 3Ar00r00      [13]  245 	ld	a,(#_plife + 0)
   010A B7            [ 4]  246 	or	a, a
   010B 28 06         [12]  247 	jr	Z,00102$
   010D 21r00r00      [10]  248 	ld	hl, #_plife+0
   0110 35            [11]  249 	dec	(hl)
   0111 18 05         [12]  250 	jr	00103$
   0113                     251 00102$:
   0113 21r00r00      [10]  252 	ld	hl,#_game_over + 0
   0116 36 01         [10]  253 	ld	(hl), #0x01
   0118                     254 00103$:
                            255 ;engine/player.c:134: pflickering = PLAYER_FLICKERS;
   0118 21r00r00      [10]  256 	ld	hl,#_pflickering + 0
   011B 36 64         [10]  257 	ld	(hl), #0x64
                            258 ;engine/player.c:147: delay (60);
   011D 3E 3C         [ 7]  259 	ld	a,#0x3C
   011F F5            [11]  260 	push	af
   0120 33            [ 6]  261 	inc	sp
   0121 CDr00r00      [17]  262 	call	_delay
   0124 33            [ 6]  263 	inc	sp
                            264 ;engine/player.c:152: px = px_safe; 
   0125 2Ar00r00      [16]  265 	ld	hl,(_px_safe)
   0128 22r00r00      [16]  266 	ld	(_px),hl
                            267 ;engine/player.c:153: py = py_safe; 
   012B 2Ar00r00      [16]  268 	ld	hl,(_py_safe)
   012E 22r00r00      [16]  269 	ld	(_py),hl
                            270 ;engine/player.c:154: player_to_pixels ();
   0131 CDr9Dr00      [17]  271 	call	_player_to_pixels
                            272 ;engine/player.c:155: n_pant = n_pant_safe;		
   0134 3Ar00r00      [13]  273 	ld	a,(#_n_pant_safe + 0)
   0137 32r00r00      [13]  274 	ld	(#_n_pant + 0),a
                            275 ;engine/player.c:156: player_stop ();
   013A C3r13r00      [10]  276 	jp  _player_stop
                            277 ;engine/../engine/playermods/process_tile.h:4: void player_process_tile (unsigned char at, unsigned char x0, unsigned char y0, unsigned char x1, unsigned char y1) {
                            278 ;	---------------------------------
                            279 ; Function player_process_tile
                            280 ; ---------------------------------
   013D                     281 _player_process_tile::
   013D DD E5         [15]  282 	push	ix
   013F DD 21 00 00   [14]  283 	ld	ix,#0
   0143 DD 39         [15]  284 	add	ix,sp
                            285 ;engine/../engine/playermods/process_tile.h:5: if (y0) -- y0;
   0145 DD 7E 06      [19]  286 	ld	a,6 (ix)
   0148 B7            [ 4]  287 	or	a, a
   0149 28 03         [12]  288 	jr	Z,00102$
   014B DD 35 06      [23]  289 	dec	6 (ix)
   014E                     290 00102$:
                            291 ;engine/../engine/playermods/process_tile.h:46: at == 10 &&
   014E DD 7E 04      [19]  292 	ld	a,4 (ix)
   0151 D6 0A         [ 7]  293 	sub	a, #0x0A
   0153 C2rFBr01      [10]  294 	jp	NZ,00110$
                            295 ;engine/../engine/playermods/process_tile.h:47: pkeys
   0156 3Ar00r00      [13]  296 	ld	a,(#_pkeys + 0)
   0159 B7            [ 4]  297 	or	a, a
   015A CArFBr01      [10]  298 	jp	Z,00110$
                            299 ;engine/../engine/playermods/process_tile.h:49: _x = x0; _y = y0; _t = 0; map_set ();
   015D DD 7E 05      [19]  300 	ld	a,5 (ix)
   0160 32r00r00      [13]  301 	ld	(#__x + 0),a
   0163 DD 7E 06      [19]  302 	ld	a,6 (ix)
   0166 32r00r00      [13]  303 	ld	(#__y + 0),a
   0169 21r00r00      [10]  304 	ld	hl,#__t + 0
   016C 36 00         [10]  305 	ld	(hl), #0x00
   016E CDr00r00      [17]  306 	call	_map_set
                            307 ;engine/../engine/playermods/process_tile.h:52: gp_gen = (unsigned char *) c_locks;
   0171 2Ar00r00      [16]  308 	ld	hl,(_c_locks)
   0174 22r00r00      [16]  309 	ld	(_gp_gen),hl
                            310 ;engine/../engine/playermods/process_tile.h:53: gpit = c_max_bolts; while (gpit --) {
   0177 3Ar00r00      [13]  311 	ld	a,(#_c_max_bolts + 0)
   017A 32r00r00      [13]  312 	ld	(#_gpit + 0),a
   017D                     313 00106$:
   017D 21r00r00      [10]  314 	ld	hl,#_gpit + 0
   0180 5E            [ 7]  315 	ld	e, (hl)
   0181 21r00r00      [10]  316 	ld	hl, #_gpit+0
   0184 35            [11]  317 	dec	(hl)
   0185 7B            [ 4]  318 	ld	a,e
   0186 B7            [ 4]  319 	or	a, a
   0187 28 5F         [12]  320 	jr	Z,00108$
                            321 ;engine/../engine/playermods/process_tile.h:54: rda = *gp_gen ++; rdb = *gp_gen ++;
   0189 2Ar00r00      [16]  322 	ld	hl,(_gp_gen)
   018C 7E            [ 7]  323 	ld	a,(hl)
   018D 32r00r00      [13]  324 	ld	(#_rda + 0),a
   0190 21r00r00      [10]  325 	ld	hl, #_gp_gen+0
   0193 34            [11]  326 	inc	(hl)
   0194 20 04         [12]  327 	jr	NZ,00145$
   0196 21r01r00      [10]  328 	ld	hl, #_gp_gen+1
   0199 34            [11]  329 	inc	(hl)
   019A                     330 00145$:
   019A 2Ar00r00      [16]  331 	ld	hl,(_gp_gen)
   019D 7E            [ 7]  332 	ld	a,(hl)
   019E 32r00r00      [13]  333 	ld	(#_rdb + 0),a
   01A1 21r00r00      [10]  334 	ld	hl, #_gp_gen+0
   01A4 34            [11]  335 	inc	(hl)
   01A5 20 04         [12]  336 	jr	NZ,00146$
   01A7 21r01r00      [10]  337 	ld	hl, #_gp_gen+1
   01AA 34            [11]  338 	inc	(hl)
   01AB                     339 00146$:
                            340 ;engine/../engine/playermods/process_tile.h:55: if (n_pant == rda && COORDS (x0, y0) == rdb) {
   01AB 3Ar00r00      [13]  341 	ld	a,(#_n_pant + 0)
   01AE FD 21r00r00   [14]  342 	ld	iy,#_rda
   01B2 FD 96 00      [19]  343 	sub	a, 0 (iy)
   01B5 20 C6         [12]  344 	jr	NZ,00106$
   01B7 DD 6E 06      [19]  345 	ld	l,6 (ix)
   01BA 26 00         [ 7]  346 	ld	h,#0x00
   01BC 29            [11]  347 	add	hl, hl
   01BD 29            [11]  348 	add	hl, hl
   01BE 29            [11]  349 	add	hl, hl
   01BF 29            [11]  350 	add	hl, hl
   01C0 DD 7E 05      [19]  351 	ld	a, 5 (ix)
   01C3 16 00         [ 7]  352 	ld	d, #0x00
   01C5 B5            [ 4]  353 	or	a, l
   01C6 5F            [ 4]  354 	ld	e,a
   01C7 7A            [ 4]  355 	ld	a,d
   01C8 B4            [ 4]  356 	or	a, h
   01C9 57            [ 4]  357 	ld	d,a
   01CA 21r00r00      [10]  358 	ld	hl,#_rdb + 0
   01CD 4E            [ 7]  359 	ld	c, (hl)
   01CE 06 00         [ 7]  360 	ld	b,#0x00
   01D0 7B            [ 4]  361 	ld	a,e
   01D1 91            [ 4]  362 	sub	a, c
   01D2 20 A9         [12]  363 	jr	NZ,00106$
   01D4 7A            [ 4]  364 	ld	a,d
   01D5 90            [ 4]  365 	sub	a, b
   01D6 20 A5         [12]  366 	jr	NZ,00106$
                            367 ;engine/../engine/playermods/process_tile.h:56: lkact [gpit] = 0;
   01D8 3Er00         [ 7]  368 	ld	a,#<(_lkact)
   01DA 21r00r00      [10]  369 	ld	hl,#_gpit
   01DD 86            [ 7]  370 	add	a, (hl)
   01DE 5F            [ 4]  371 	ld	e,a
   01DF 3Es00         [ 7]  372 	ld	a,#>(_lkact)
   01E1 CE 00         [ 7]  373 	adc	a, #0x00
   01E3 57            [ 4]  374 	ld	d,a
   01E4 AF            [ 4]  375 	xor	a, a
   01E5 12            [ 7]  376 	ld	(de),a
   01E6 18 95         [12]  377 	jr	00106$
   01E8                     378 00108$:
                            379 ;engine/../engine/playermods/process_tile.h:60: -- pkeys;
   01E8 21r00r00      [10]  380 	ld	hl, #_pkeys+0
   01EB 35            [11]  381 	dec	(hl)
                            382 ;engine/../engine/playermods/process_tile.h:61: PSGSFXPlay (SFX_TILE, 2);
   01EC 11r00r00      [10]  383 	ld	de,#_s_01_tile3_psg+0
   01EF 3E 02         [ 7]  384 	ld	a,#0x02
   01F1 F5            [11]  385 	push	af
   01F2 33            [ 6]  386 	inc	sp
   01F3 D5            [11]  387 	push	de
   01F4 CDr00r00      [17]  388 	call	_PSGSFXPlay
   01F7 F1            [10]  389 	pop	af
   01F8 33            [ 6]  390 	inc	sp
   01F9 18 05         [12]  391 	jr	00113$
   01FB                     392 00110$:
                            393 ;engine/../engine/playermods/process_tile.h:64: no_ct = 100;
   01FB 21r00r00      [10]  394 	ld	hl,#_no_ct + 0
   01FE 36 64         [10]  395 	ld	(hl), #0x64
   0200                     396 00113$:
   0200 DD E1         [14]  397 	pop	ix
   0202 C9            [10]  398 	ret
                            399 ;engine/player.c:179: void player_move (void) {
                            400 ;	---------------------------------
                            401 ; Function player_move
                            402 ; ---------------------------------
   0203                     403 _player_move::
   0203 DD E5         [15]  404 	push	ix
   0205 DD 21 00 00   [14]  405 	ld	ix,#0
   0209 DD 39         [15]  406 	add	ix,sp
   020B F5            [11]  407 	push	af
   020C F5            [11]  408 	push	af
                            409 ;engine/player.c:180: if (pflickering) -- pflickering;
   020D 3Ar00r00      [13]  410 	ld	a,(#_pflickering + 0)
   0210 B7            [ 4]  411 	or	a, a
   0211 28 04         [12]  412 	jr	Z,00102$
   0213 21r00r00      [10]  413 	ld	hl, #_pflickering+0
   0216 35            [11]  414 	dec	(hl)
   0217                     415 00102$:
                            416 ;engine/player.c:181: if (pbouncing) -- pbouncing;
   0217 3Ar00r00      [13]  417 	ld	a,(#_pbouncing + 0)
   021A B7            [ 4]  418 	or	a, a
   021B 28 04         [12]  419 	jr	Z,00104$
   021D 21r00r00      [10]  420 	ld	hl, #_pbouncing+0
   0220 35            [11]  421 	dec	(hl)
   0221                     422 00104$:
                            423 ;engine/player.c:217: hitv = hith = 0;
   0221 21r00r00      [10]  424 	ld	hl,#_hith + 0
   0224 36 00         [10]  425 	ld	(hl), #0x00
   0226 21r00r00      [10]  426 	ld	hl,#_hitv + 0
   0229 36 00         [10]  427 	ld	(hl), #0x00
                            428 ;engine/player.c:218: pcx = prx; pcy = pry;
   022B 3Ar00r00      [13]  429 	ld	a,(#_prx + 0)
   022E 32r00r00      [13]  430 	ld	(#_pcx + 0),a
   0231 3Ar00r00      [13]  431 	ld	a,(#_pry + 0)
   0234 32r00r00      [13]  432 	ld	(#_pcy + 0),a
                            433 ;engine/player.c:219: pnotsafe = 0;
   0237 21r00r00      [10]  434 	ld	hl,#_pnotsafe + 0
   023A 36 00         [10]  435 	ld	(hl), #0x00
                            436 ;engine/player.c:229: cx1 = prx >> 4; cx2 = (prx + 7) >> 4;
   023C 3Ar00r00      [13]  437 	ld	a,(#_prx + 0)
   023F 07            [ 4]  438 	rlca
   0240 07            [ 4]  439 	rlca
   0241 07            [ 4]  440 	rlca
   0242 07            [ 4]  441 	rlca
   0243 E6 0F         [ 7]  442 	and	a,#0x0F
   0245 32r00r00      [13]  443 	ld	(#_cx1 + 0),a
   0248 FD 21r00r00   [14]  444 	ld	iy,#_prx
   024C FD 6E 00      [19]  445 	ld	l,0 (iy)
   024F 26 00         [ 7]  446 	ld	h,#0x00
   0251 01 07 00      [10]  447 	ld	bc,#0x0007
   0254 09            [11]  448 	add	hl,bc
   0255 CB 2C         [ 8]  449 	sra	h
   0257 CB 1D         [ 8]  450 	rr	l
   0259 CB 2C         [ 8]  451 	sra	h
   025B CB 1D         [ 8]  452 	rr	l
   025D CB 2C         [ 8]  453 	sra	h
   025F CB 1D         [ 8]  454 	rr	l
   0261 CB 2C         [ 8]  455 	sra	h
   0263 CB 1D         [ 8]  456 	rr	l
   0265 FD 21r00r00   [14]  457 	ld	iy,#_cx2
   0269 FD 75 00      [19]  458 	ld	0 (iy),l
                            459 ;engine/player.c:230: cy1 = cy2 = (pry + 15) >> 4;
   026C FD 21r00r00   [14]  460 	ld	iy,#_pry
   0270 FD 6E 00      [19]  461 	ld	l,0 (iy)
   0273 26 00         [ 7]  462 	ld	h,#0x00
   0275 01 0F 00      [10]  463 	ld	bc,#0x000F
   0278 09            [11]  464 	add	hl,bc
   0279 CB 2C         [ 8]  465 	sra	h
   027B CB 1D         [ 8]  466 	rr	l
   027D CB 2C         [ 8]  467 	sra	h
   027F CB 1D         [ 8]  468 	rr	l
   0281 CB 2C         [ 8]  469 	sra	h
   0283 CB 1D         [ 8]  470 	rr	l
   0285 CB 2C         [ 8]  471 	sra	h
   0287 CB 1D         [ 8]  472 	rr	l
   0289 7D            [ 4]  473 	ld	a,l
   028A 32r00r00      [13]  474 	ld	(#_cy2 + 0),a
   028D 32r00r00      [13]  475 	ld	(#_cy1 + 0),a
                            476 ;engine/player.c:231: cm_two_points ();
   0290 CDr00r00      [17]  477 	call	_cm_two_points
                            478 ;engine/player.c:246: if (springs_on && cy1 < 12) {
   0293 3Ar00r00      [13]  479 	ld	a,(#_springs_on + 0)
   0296 B7            [ 4]  480 	or	a, a
   0297 CAr7Er03      [10]  481 	jp	Z,00116$
                            482 ;engine/player.c:247: if (cy1) -- cy1;
   029A 3Ar00r00      [13]  483 	ld	a,(#_cy1 + 0)
   029D FE 0C         [ 7]  484 	cp	a,#0x0C
   029F D2r7Er03      [10]  485 	jp	NC,00116$
   02A2 B7            [ 4]  486 	or	a, a
   02A3 28 04         [12]  487 	jr	Z,00106$
   02A5 21r00r00      [10]  488 	ld	hl, #_cy1+0
   02A8 35            [11]  489 	dec	(hl)
   02A9                     490 00106$:
                            491 ;engine/player.c:248: _t = SPRING_SPIKE_TILE; 
   02A9 21r00r00      [10]  492 	ld	hl,#__t + 0
   02AC 36 0A         [10]  493 	ld	(hl), #0x0A
                            494 ;engine/player.c:250: if (ppossee)
   02AE 3Ar00r00      [13]  495 	ld	a,(#_ppossee + 0)
   02B1 B7            [ 4]  496 	or	a, a
   02B2 CAr7Er03      [10]  497 	jp	Z,00116$
                            498 ;engine/player.c:253: if (QTILE (cx1, cy1 + 1) == SPRING_TILE && QTILE (cx1, cy1) != SPRING_SPIKE_TILE) { _x = cx1; _y = cy1; map_set (); PSGSFXPlay (SFX_SPRING, 1); }
   02B5 3Ar00r00      [13]  499 	ld	a,(#_cy1 + 0)
   02B8 DD 77 FE      [19]  500 	ld	-2 (ix),a
   02BB DD 36 FF 00   [19]  501 	ld	-1 (ix),#0x00
   02BF DD 6E FE      [19]  502 	ld	l,-2 (ix)
   02C2 DD 66 FF      [19]  503 	ld	h,-1 (ix)
   02C5 23            [ 6]  504 	inc	hl
   02C6 29            [11]  505 	add	hl, hl
   02C7 29            [11]  506 	add	hl, hl
   02C8 29            [11]  507 	add	hl, hl
   02C9 29            [11]  508 	add	hl, hl
   02CA 55            [ 4]  509 	ld	d,l
   02CB 5C            [ 4]  510 	ld	e,h
   02CC 3Ar00r00      [13]  511 	ld	a,(#_cx1 + 0)
   02CF DD 77 FC      [19]  512 	ld	-4 (ix),a
   02D2 DD 36 FD 00   [19]  513 	ld	-3 (ix),#0x00
   02D6 DD 7E FC      [19]  514 	ld	a,-4 (ix)
   02D9 B2            [ 4]  515 	or	a, d
   02DA 6F            [ 4]  516 	ld	l,a
   02DB DD 7E FD      [19]  517 	ld	a,-3 (ix)
   02DE B3            [ 4]  518 	or	a, e
   02DF 67            [ 4]  519 	ld	h,a
   02E0 11r00r00      [10]  520 	ld	de,#_map_buff
   02E3 19            [11]  521 	add	hl,de
   02E4 7E            [ 7]  522 	ld	a,(hl)
   02E5 D6 1F         [ 7]  523 	sub	a, #0x1F
   02E7 20 37         [12]  524 	jr	NZ,00108$
   02E9 C1            [10]  525 	pop	bc
   02EA E1            [10]  526 	pop	hl
   02EB E5            [11]  527 	push	hl
   02EC C5            [11]  528 	push	bc
   02ED 29            [11]  529 	add	hl, hl
   02EE 29            [11]  530 	add	hl, hl
   02EF 29            [11]  531 	add	hl, hl
   02F0 29            [11]  532 	add	hl, hl
   02F1 7D            [ 4]  533 	ld	a,l
   02F2 DD B6 FC      [19]  534 	or	a, -4 (ix)
   02F5 6F            [ 4]  535 	ld	l,a
   02F6 7C            [ 4]  536 	ld	a,h
   02F7 DD B6 FD      [19]  537 	or	a, -3 (ix)
   02FA 67            [ 4]  538 	ld	h,a
   02FB 11r00r00      [10]  539 	ld	de,#_map_buff
   02FE 19            [11]  540 	add	hl,de
   02FF 7E            [ 7]  541 	ld	a,(hl)
   0300 D6 0A         [ 7]  542 	sub	a, #0x0A
   0302 28 1C         [12]  543 	jr	Z,00108$
   0304 3Ar00r00      [13]  544 	ld	a,(#_cx1 + 0)
   0307 32r00r00      [13]  545 	ld	(#__x + 0),a
   030A 3Ar00r00      [13]  546 	ld	a,(#_cy1 + 0)
   030D 32r00r00      [13]  547 	ld	(#__y + 0),a
   0310 CDr00r00      [17]  548 	call	_map_set
   0313 11r00r00      [10]  549 	ld	de,#_s_11_spring2_psg+0
   0316 3E 01         [ 7]  550 	ld	a,#0x01
   0318 F5            [11]  551 	push	af
   0319 33            [ 6]  552 	inc	sp
   031A D5            [11]  553 	push	de
   031B CDr00r00      [17]  554 	call	_PSGSFXPlay
   031E F1            [10]  555 	pop	af
   031F 33            [ 6]  556 	inc	sp
   0320                     557 00108$:
                            558 ;engine/player.c:254: if (QTILE (cx2, cy1 + 1) == SPRING_TILE && QTILE (cx2, cy1) != SPRING_SPIKE_TILE) { _x = cx2; _y = cy1; map_set (); PSGSFXPlay (SFX_SPRING, 1);	}
   0320 FD 21r00r00   [14]  559 	ld	iy,#_cy1
   0324 FD 5E 00      [19]  560 	ld	e,0 (iy)
   0327 16 00         [ 7]  561 	ld	d,#0x00
   0329 6B            [ 4]  562 	ld	l, e
   032A 62            [ 4]  563 	ld	h, d
   032B 23            [ 6]  564 	inc	hl
   032C 29            [11]  565 	add	hl, hl
   032D 29            [11]  566 	add	hl, hl
   032E 29            [11]  567 	add	hl, hl
   032F 29            [11]  568 	add	hl, hl
   0330 E3            [19]  569 	ex	(sp), hl
   0331 21r00r00      [10]  570 	ld	hl,#_cx2 + 0
   0334 4E            [ 7]  571 	ld	c, (hl)
   0335 06 00         [ 7]  572 	ld	b,#0x00
   0337 79            [ 4]  573 	ld	a,c
   0338 DD B6 FC      [19]  574 	or	a, -4 (ix)
   033B 6F            [ 4]  575 	ld	l,a
   033C 78            [ 4]  576 	ld	a,b
   033D DD B6 FD      [19]  577 	or	a, -3 (ix)
   0340 67            [ 4]  578 	ld	h,a
   0341 3Er00         [ 7]  579 	ld	a,#<(_map_buff)
   0343 85            [ 4]  580 	add	a, l
   0344 6F            [ 4]  581 	ld	l,a
   0345 3Es00         [ 7]  582 	ld	a,#>(_map_buff)
   0347 8C            [ 4]  583 	adc	a, h
   0348 67            [ 4]  584 	ld	h,a
   0349 7E            [ 7]  585 	ld	a,(hl)
   034A D6 1F         [ 7]  586 	sub	a, #0x1F
   034C 20 30         [12]  587 	jr	NZ,00116$
   034E EB            [ 4]  588 	ex	de,hl
   034F 29            [11]  589 	add	hl, hl
   0350 29            [11]  590 	add	hl, hl
   0351 29            [11]  591 	add	hl, hl
   0352 29            [11]  592 	add	hl, hl
   0353 7D            [ 4]  593 	ld	a,l
   0354 B1            [ 4]  594 	or	a, c
   0355 6F            [ 4]  595 	ld	l,a
   0356 7C            [ 4]  596 	ld	a,h
   0357 B0            [ 4]  597 	or	a, b
   0358 67            [ 4]  598 	ld	h,a
   0359 11r00r00      [10]  599 	ld	de,#_map_buff
   035C 19            [11]  600 	add	hl,de
   035D 7E            [ 7]  601 	ld	a,(hl)
   035E D6 0A         [ 7]  602 	sub	a, #0x0A
   0360 28 1C         [12]  603 	jr	Z,00116$
   0362 3Ar00r00      [13]  604 	ld	a,(#_cx2 + 0)
   0365 32r00r00      [13]  605 	ld	(#__x + 0),a
   0368 3Ar00r00      [13]  606 	ld	a,(#_cy1 + 0)
   036B 32r00r00      [13]  607 	ld	(#__y + 0),a
   036E CDr00r00      [17]  608 	call	_map_set
   0371 11r00r00      [10]  609 	ld	de,#_s_11_spring2_psg+0
   0374 3E 01         [ 7]  610 	ld	a,#0x01
   0376 F5            [11]  611 	push	af
   0377 33            [ 6]  612 	inc	sp
   0378 D5            [11]  613 	push	de
   0379 CDr00r00      [17]  614 	call	_PSGSFXPlay
   037C F1            [10]  615 	pop	af
   037D 33            [ 6]  616 	inc	sp
   037E                     617 00116$:
                            618 ;engine/player.c:259: oppossee = ppossee;
   037E 3Ar00r00      [13]  619 	ld	a,(#_ppossee + 0)
   0381 32r00r00      [13]  620 	ld	(#_oppossee + 0),a
                            621 ;engine/player.c:260: ppossee = 0;
   0384 21r00r00      [10]  622 	ld	hl,#_ppossee + 0
   0387 36 00         [10]  623 	ld	(hl), #0x00
                            624 ;engine/player.c:332: if (vertical_engine_type != ENGINE_TYPE_SWIM) {
   0389 3Ar00r00      [13]  625 	ld	a,(#_vertical_engine_type + 0)
   038C D6 02         [ 7]  626 	sub	a, #0x02
   038E 28 45         [12]  627 	jr	Z,00126$
                            628 ;engine/player.c:335: !pgotten
   0390 3Ar00r00      [13]  629 	ld	a,(#_pgotten + 0)
   0393 B7            [ 4]  630 	or	a, a
   0394 20 3F         [12]  631 	jr	NZ,00126$
                            632 ;engine/player.c:337: if (!pj) {
   0396 3Ar00r00      [13]  633 	ld	a,(#_pj + 0)
   0399 B7            [ 4]  634 	or	a, a
   039A 20 0E         [12]  635 	jr	NZ,00119$
                            636 ;engine/player.c:338: pvy += PLAYER_G;
   039C 21r00r00      [10]  637 	ld	hl,#_pvy
   039F 7E            [ 7]  638 	ld	a,(hl)
   03A0 C6 0A         [ 7]  639 	add	a, #0x0A
   03A2 77            [ 7]  640 	ld	(hl),a
   03A3 23            [ 6]  641 	inc	hl
   03A4 7E            [ 7]  642 	ld	a,(hl)
   03A5 CE 00         [ 7]  643 	adc	a, #0x00
   03A7 77            [ 7]  644 	ld	(hl),a
   03A8 18 0C         [12]  645 	jr	00120$
   03AA                     646 00119$:
                            647 ;engine/player.c:339: } else pvy += PLAYER_G_MK2_JUMPING;
   03AA 21r00r00      [10]  648 	ld	hl,#_pvy
   03AD 7E            [ 7]  649 	ld	a,(hl)
   03AE C6 02         [ 7]  650 	add	a, #0x02
   03B0 77            [ 7]  651 	ld	(hl),a
   03B1 23            [ 6]  652 	inc	hl
   03B2 7E            [ 7]  653 	ld	a,(hl)
   03B3 CE 00         [ 7]  654 	adc	a, #0x00
   03B5 77            [ 7]  655 	ld	(hl),a
   03B6                     656 00120$:
                            657 ;engine/player.c:340: if (pvy > PLAYER_VY_FALLING_MAX) pvy = PLAYER_VY_FALLING_MAX; 
   03B6 AF            [ 4]  658 	xor	a, a
   03B7 FD 21r00r00   [14]  659 	ld	iy,#_pvy
   03BB FD BE 00      [19]  660 	cp	a, 0 (iy)
   03BE 3E 01         [ 7]  661 	ld	a,#0x01
   03C0 FD 21r00r00   [14]  662 	ld	iy,#_pvy
   03C4 FD 9E 01      [19]  663 	sbc	a, 1 (iy)
   03C7 E2rCCr03      [10]  664 	jp	PO, 00592$
   03CA EE 80         [ 7]  665 	xor	a, #0x80
   03CC                     666 00592$:
   03CC F2rD5r03      [10]  667 	jp	P,00126$
   03CF 21 00 01      [10]  668 	ld	hl,#0x0100
   03D2 22r00r00      [16]  669 	ld	(_pvy),hl
   03D5                     670 00126$:
                            671 ;engine/player.c:352: if (pgotten) pvy = 0;			
   03D5 3Ar00r00      [13]  672 	ld	a,(#_pgotten + 0)
   03D8 B7            [ 4]  673 	or	a, a
   03D9 28 06         [12]  674 	jr	Z,00128$
   03DB 21 00 00      [10]  675 	ld	hl,#0x0000
   03DE 22r00r00      [16]  676 	ld	(_pvy),hl
   03E1                     677 00128$:
                            678 ;engine/player.c:389: py += pvy;
   03E1 21r00r00      [10]  679 	ld	hl,#_pvy
   03E4 D5            [11]  680 	push	de
   03E5 FD 21r00r00   [14]  681 	ld	iy,#_py
   03E9 FD E5         [15]  682 	push	iy
   03EB D1            [10]  683 	pop	de
   03EC 1A            [ 7]  684 	ld	a,(de)
   03ED 86            [ 7]  685 	add	a, (hl)
   03EE 12            [ 7]  686 	ld	(de),a
   03EF 13            [ 6]  687 	inc	de
   03F0 1A            [ 7]  688 	ld	a,(de)
   03F1 23            [ 6]  689 	inc	hl
   03F2 8E            [ 7]  690 	adc	a, (hl)
   03F3 12            [ 7]  691 	ld	(de),a
   03F4 D1            [10]  692 	pop	de
                            693 ;engine/player.c:390: if (py < 0) py = 0;
   03F5 3Ar01r00      [13]  694 	ld	a,(#_py + 1)
   03F8 CB 7F         [ 8]  695 	bit	7,a
   03FA 28 06         [12]  696 	jr	Z,00130$
   03FC 21 00 00      [10]  697 	ld	hl,#0x0000
   03FF 22r00r00      [16]  698 	ld	(_py),hl
   0402                     699 00130$:
                            700 ;engine/player.c:391: pry = py >> FIXBITS;
   0402 2Ar00r00      [16]  701 	ld	hl,(_py)
   0405 CB 2C         [ 8]  702 	sra	h
   0407 CB 1D         [ 8]  703 	rr	l
   0409 CB 2C         [ 8]  704 	sra	h
   040B CB 1D         [ 8]  705 	rr	l
   040D CB 2C         [ 8]  706 	sra	h
   040F CB 1D         [ 8]  707 	rr	l
   0411 CB 2C         [ 8]  708 	sra	h
   0413 CB 1D         [ 8]  709 	rr	l
   0415 CB 2C         [ 8]  710 	sra	h
   0417 CB 1D         [ 8]  711 	rr	l
   0419 CB 2C         [ 8]  712 	sra	h
   041B CB 1D         [ 8]  713 	rr	l
   041D FD 21r00r00   [14]  714 	ld	iy,#_pry
   0421 FD 75 00      [19]  715 	ld	0 (iy),l
                            716 ;engine/player.c:394: player_to_pixels ();
   0424 CDr9Dr00      [17]  717 	call	_player_to_pixels
                            718 ;engine/player.c:396: cx1 = prx >> 4;
   0427 3Ar00r00      [13]  719 	ld	a,(#_prx + 0)
   042A 07            [ 4]  720 	rlca
   042B 07            [ 4]  721 	rlca
   042C 07            [ 4]  722 	rlca
   042D 07            [ 4]  723 	rlca
   042E E6 0F         [ 7]  724 	and	a,#0x0F
   0430 32r00r00      [13]  725 	ld	(#_cx1 + 0),a
                            726 ;engine/player.c:397: cx2 = (prx + 7) >> 4;
   0433 FD 21r00r00   [14]  727 	ld	iy,#_prx
   0437 FD 6E 00      [19]  728 	ld	l,0 (iy)
   043A 26 00         [ 7]  729 	ld	h,#0x00
   043C 01 07 00      [10]  730 	ld	bc,#0x0007
   043F 09            [11]  731 	add	hl,bc
   0440 CB 2C         [ 8]  732 	sra	h
   0442 CB 1D         [ 8]  733 	rr	l
   0444 CB 2C         [ 8]  734 	sra	h
   0446 CB 1D         [ 8]  735 	rr	l
   0448 CB 2C         [ 8]  736 	sra	h
   044A CB 1D         [ 8]  737 	rr	l
   044C CB 2C         [ 8]  738 	sra	h
   044E CB 1D         [ 8]  739 	rr	l
   0450 FD 21r00r00   [14]  740 	ld	iy,#_cx2
   0454 FD 75 00      [19]  741 	ld	0 (iy),l
                            742 ;engine/player.c:402: rds16 = pvy + pgtmy;
   0457 21r00r00      [10]  743 	ld	hl,#_pgtmy
   045A D5            [11]  744 	push	de
   045B FD 21r00r00   [14]  745 	ld	iy,#_rds16
   045F FD E5         [15]  746 	push	iy
   0461 D1            [10]  747 	pop	de
   0462 3Ar00r00      [13]  748 	ld	a,(#_pvy + 0)
   0465 86            [ 7]  749 	add	a, (hl)
   0466 12            [ 7]  750 	ld	(de),a
   0467 3Ar01r00      [13]  751 	ld	a,(#_pvy + 1)
   046A 23            [ 6]  752 	inc	hl
   046B 8E            [ 7]  753 	adc	a, (hl)
   046C 13            [ 6]  754 	inc	de
   046D 12            [ 7]  755 	ld	(de),a
   046E D1            [10]  756 	pop	de
                            757 ;engine/player.c:230: cy1 = cy2 = (pry + 15) >> 4;
   046F FD 21r00r00   [14]  758 	ld	iy,#_pry
   0473 FD 5E 00      [19]  759 	ld	e,0 (iy)
   0476 16 00         [ 7]  760 	ld	d,#0x00
                            761 ;engine/player.c:403: if (rds16 < 0)
   0478 3Ar01r00      [13]  762 	ld	a,(#_rds16 + 1)
   047B CB 7F         [ 8]  763 	bit	7,a
   047D CAr12r05      [10]  764 	jp	Z,00166$
                            765 ;engine/player.c:406: cy1 = cy2 = (pry - PLAYER_COLLISION_VSTRETCH_BG) >> 4;			
   0480 7B            [ 4]  766 	ld	a,e
   0481 C6 04         [ 7]  767 	add	a,#0x04
   0483 5F            [ 4]  768 	ld	e,a
   0484 7A            [ 4]  769 	ld	a,d
   0485 CE 00         [ 7]  770 	adc	a,#0x00
   0487 57            [ 4]  771 	ld	d,a
   0488 CB 2A         [ 8]  772 	sra	d
   048A CB 1B         [ 8]  773 	rr	e
   048C CB 2A         [ 8]  774 	sra	d
   048E CB 1B         [ 8]  775 	rr	e
   0490 CB 2A         [ 8]  776 	sra	d
   0492 CB 1B         [ 8]  777 	rr	e
   0494 CB 2A         [ 8]  778 	sra	d
   0496 CB 1B         [ 8]  779 	rr	e
   0498 21r00r00      [10]  780 	ld	hl,#_cy2 + 0
   049B 73            [ 7]  781 	ld	(hl), e
   049C 21r00r00      [10]  782 	ld	hl,#_cy1 + 0
   049F 73            [ 7]  783 	ld	(hl), e
                            784 ;engine/player.c:407: cm_two_points ();
   04A0 CDr00r00      [17]  785 	call	_cm_two_points
                            786 ;engine/player.c:408: if ((at1 & 8) || (at2 & 8)) {
   04A3 FD 21r00r00   [14]  787 	ld	iy,#_at1
   04A7 FD CB 00 5E   [20]  788 	bit	3, 0 (iy)
   04AB 20 0A         [12]  789 	jr	NZ,00134$
   04AD FD 21r00r00   [14]  790 	ld	iy,#_at2
   04B1 FD CB 00 5E   [20]  791 	bit	3, 0 (iy)
   04B5 28 3B         [12]  792 	jr	Z,00135$
   04B7                     793 00134$:
                            794 ;engine/player.c:409: pry = ((cy1 + 1) << 4) + PLAYER_COLLISION_VSTRETCH_BG;
   04B7 3Ar00r00      [13]  795 	ld	a,(#_cy1 + 0)
   04BA 3C            [ 4]  796 	inc	a
   04BB 07            [ 4]  797 	rlca
   04BC 07            [ 4]  798 	rlca
   04BD 07            [ 4]  799 	rlca
   04BE 07            [ 4]  800 	rlca
   04BF E6 F0         [ 7]  801 	and	a,#0xF0
   04C1 21r00r00      [10]  802 	ld	hl,#_pry
   04C4 C6 FC         [ 7]  803 	add	a, #0xFC
   04C6 77            [ 7]  804 	ld	(hl),a
                            805 ;engine/player.c:410: pvy = 0; py = pry << FIXBITS;
   04C7 21 00 00      [10]  806 	ld	hl,#0x0000
   04CA 22r00r00      [16]  807 	ld	(_pvy),hl
   04CD FD 21r00r00   [14]  808 	ld	iy,#_pry
   04D1 FD 6E 00      [19]  809 	ld	l,0 (iy)
   04D4 26 00         [ 7]  810 	ld	h,#0x00
   04D6 29            [11]  811 	add	hl, hl
   04D7 29            [11]  812 	add	hl, hl
   04D8 29            [11]  813 	add	hl, hl
   04D9 29            [11]  814 	add	hl, hl
   04DA 29            [11]  815 	add	hl, hl
   04DB 29            [11]  816 	add	hl, hl
   04DC 22r00r00      [16]  817 	ld	(_py),hl
                            818 ;engine/player.c:411: pgotten = 0;
   04DF FD 21r00r00   [14]  819 	ld	iy,#_pgotten
   04E3 FD 36 00 00   [19]  820 	ld	0 (iy),#0x00
                            821 ;engine/player.c:412: pfiring = 1;
   04E7 FD 21r00r00   [14]  822 	ld	iy,#_pfiring
   04EB FD 36 00 01   [19]  823 	ld	0 (iy),#0x01
   04EF C3r80r06      [10]  824 	jp	00167$
   04F2                     825 00135$:
                            826 ;engine/player.c:418: } else if ((at1 & 1) || (at2 & 1)) {
   04F2 FD 21r00r00   [14]  827 	ld	iy,#_at1
   04F6 FD CB 00 46   [20]  828 	bit	0, 0 (iy)
   04FA 20 0B         [12]  829 	jr	NZ,00131$
   04FC FD 21r00r00   [14]  830 	ld	iy,#_at2
   0500 FD CB 00 46   [20]  831 	bit	0, 0 (iy)
   0504 CAr80r06      [10]  832 	jp	Z,00167$
   0507                     833 00131$:
                            834 ;engine/player.c:419: hitv = 1;
   0507 FD 21r00r00   [14]  835 	ld	iy,#_hitv
   050B FD 36 00 01   [19]  836 	ld	0 (iy),#0x01
   050F C3r80r06      [10]  837 	jp	00167$
   0512                     838 00166$:
                            839 ;engine/player.c:430: } else if (rds16 > 0)
   0512 AF            [ 4]  840 	xor	a, a
   0513 FD 21r00r00   [14]  841 	ld	iy,#_rds16
   0517 FD BE 00      [19]  842 	cp	a, 0 (iy)
   051A FD 21r00r00   [14]  843 	ld	iy,#_rds16
   051E FD 9E 01      [19]  844 	sbc	a, 1 (iy)
   0521 E2r26r05      [10]  845 	jp	PO, 00599$
   0524 EE 80         [ 7]  846 	xor	a, #0x80
   0526                     847 00599$:
   0526 F2r80r06      [10]  848 	jp	P,00167$
                            849 ;engine/player.c:433: cy1 = cy2 = (pry + 16) >> 4; 
   0529 21 10 00      [10]  850 	ld	hl,#0x0010
   052C 19            [11]  851 	add	hl,de
   052D CB 2C         [ 8]  852 	sra	h
   052F CB 1D         [ 8]  853 	rr	l
   0531 CB 2C         [ 8]  854 	sra	h
   0533 CB 1D         [ 8]  855 	rr	l
   0535 CB 2C         [ 8]  856 	sra	h
   0537 CB 1D         [ 8]  857 	rr	l
   0539 CB 2C         [ 8]  858 	sra	h
   053B CB 1D         [ 8]  859 	rr	l
   053D 7D            [ 4]  860 	ld	a,l
   053E 32r00r00      [13]  861 	ld	(#_cy2 + 0),a
   0541 32r00r00      [13]  862 	ld	(#_cy1 + 0),a
                            863 ;engine/player.c:434: cm_two_points (); 
   0544 CDr00r00      [17]  864 	call	_cm_two_points
                            865 ;engine/player.c:439: pry < ((cy1 - 1) << 4) + 4 && 
   0547 FD 21r00r00   [14]  866 	ld	iy,#_cy1
   054B FD 6E 00      [19]  867 	ld	l,0 (iy)
   054E 26 00         [ 7]  868 	ld	h,#0x00
   0550 2B            [ 6]  869 	dec	hl
   0551 29            [11]  870 	add	hl, hl
   0552 29            [11]  871 	add	hl, hl
   0553 29            [11]  872 	add	hl, hl
   0554 29            [11]  873 	add	hl, hl
   0555 5D            [ 4]  874 	ld	e, l
   0556 54            [ 4]  875 	ld	d, h
   0557 13            [ 6]  876 	inc	de
   0558 13            [ 6]  877 	inc	de
   0559 13            [ 6]  878 	inc	de
   055A 13            [ 6]  879 	inc	de
   055B 3Ar00r00      [13]  880 	ld	a,(#_pry + 0)
   055E DD 77 FC      [19]  881 	ld	-4 (ix),a
   0561 DD 36 FD 00   [19]  882 	ld	-3 (ix),#0x00
                            883 ;engine/player.c:418: } else if ((at1 & 1) || (at2 & 1)) {
   0565 3Ar00r00      [13]  884 	ld	a,(#_at1 + 0)
   0568 E6 01         [ 7]  885 	and	a, #0x01
   056A 4F            [ 4]  886 	ld	c,a
   056B FD 21r00r00   [14]  887 	ld	iy,#_at2
   056F FD 7E 00      [19]  888 	ld	a,0 (iy)
   0572 E6 01         [ 7]  889 	and	a, #0x01
   0574 DD 77 FE      [19]  890 	ld	-2 (ix),a
                            891 ;engine/player.c:439: pry < ((cy1 - 1) << 4) + 4 && 
   0577 DD 7E FC      [19]  892 	ld	a,-4 (ix)
   057A 93            [ 4]  893 	sub	a, e
   057B DD 7E FD      [19]  894 	ld	a,-3 (ix)
   057E 9A            [ 4]  895 	sbc	a, d
   057F E2r84r05      [10]  896 	jp	PO, 00600$
   0582 EE 80         [ 7]  897 	xor	a, #0x80
   0584                     898 00600$:
   0584 F2r63r06      [10]  899 	jp	P,00159$
                            900 ;engine/player.c:441: (at1 & 12) || (at2 & 12)
   0587 3Ar00r00      [13]  901 	ld	a,(#_at1 + 0)
   058A E6 0C         [ 7]  902 	and	a, #0x0C
   058C 20 08         [12]  903 	jr	NZ,00158$
   058E 3Ar00r00      [13]  904 	ld	a,(#_at2 + 0)
   0591 E6 0C         [ 7]  905 	and	a, #0x0C
   0593 CAr63r06      [10]  906 	jp	Z,00159$
   0596                     907 00158$:
                            908 ;engine/player.c:449: pvy = 0; pry = ((cy1 - 1) << 4);py = pry << FIXBITS;
   0596 21 00 00      [10]  909 	ld	hl,#0x0000
   0599 22r00r00      [16]  910 	ld	(_pvy),hl
   059C 3Ar00r00      [13]  911 	ld	a,(#_cy1 + 0)
   059F C6 FF         [ 7]  912 	add	a,#0xFF
   05A1 07            [ 4]  913 	rlca
   05A2 07            [ 4]  914 	rlca
   05A3 07            [ 4]  915 	rlca
   05A4 07            [ 4]  916 	rlca
   05A5 E6 F0         [ 7]  917 	and	a,#0xF0
   05A7 32r00r00      [13]  918 	ld	(#_pry + 0),a
   05AA FD 21r00r00   [14]  919 	ld	iy,#_pry
   05AE FD 6E 00      [19]  920 	ld	l,0 (iy)
   05B1 26 00         [ 7]  921 	ld	h,#0x00
   05B3 29            [11]  922 	add	hl, hl
   05B4 29            [11]  923 	add	hl, hl
   05B5 29            [11]  924 	add	hl, hl
   05B6 29            [11]  925 	add	hl, hl
   05B7 29            [11]  926 	add	hl, hl
   05B8 29            [11]  927 	add	hl, hl
   05B9 22r00r00      [16]  928 	ld	(_py),hl
                            929 ;engine/player.c:450: pgotten = 0;
   05BC FD 21r00r00   [14]  930 	ld	iy,#_pgotten
   05C0 FD 36 00 00   [19]  931 	ld	0 (iy),#0x00
                            932 ;engine/player.c:451: pfiring = 1;
   05C4 FD 21r00r00   [14]  933 	ld	iy,#_pfiring
   05C8 FD 36 00 01   [19]  934 	ld	0 (iy),#0x01
                            935 ;engine/player.c:452: ppossee = 1;
   05CC FD 21r00r00   [14]  936 	ld	iy,#_ppossee
   05D0 FD 36 00 01   [19]  937 	ld	0 (iy),#0x01
                            938 ;engine/player.c:476: cfx = 0;
   05D4 FD 21r00r00   [14]  939 	ld	iy,#_cfx
   05D8 FD 36 00 00   [19]  940 	ld	0 (iy),#0x00
                            941 ;engine/player.c:477: if ((at1 & 40) == 40) { if (at1 & 1) cfx = pgtmx = PLAYER_VX_CONVEYORS; else cfx = pgtmx = -PLAYER_VX_CONVEYORS; pgotten = 1; } 
   05DC 3Ar00r00      [13]  942 	ld	a,(#_at1 + 0)
   05DF E6 28         [ 7]  943 	and	a, #0x28
   05E1 D6 28         [ 7]  944 	sub	a,#0x28
   05E3 20 29         [12]  945 	jr	NZ,00142$
   05E5 B1            [ 4]  946 	or	a,c
   05E6 28 10         [12]  947 	jr	Z,00139$
   05E8 21 30 00      [10]  948 	ld	hl,#0x0030
   05EB 22r00r00      [16]  949 	ld	(_pgtmx),hl
   05EE FD 21r00r00   [14]  950 	ld	iy,#_cfx
   05F2 FD 36 00 30   [19]  951 	ld	0 (iy),#0x30
   05F6 18 0E         [12]  952 	jr	00140$
   05F8                     953 00139$:
   05F8 21 D0 FF      [10]  954 	ld	hl,#0xFFD0
   05FB 22r00r00      [16]  955 	ld	(_pgtmx),hl
   05FE FD 21r00r00   [14]  956 	ld	iy,#_cfx
   0602 FD 36 00 D0   [19]  957 	ld	0 (iy),#0xD0
   0606                     958 00140$:
   0606 FD 21r00r00   [14]  959 	ld	iy,#_pgotten
   060A FD 36 00 01   [19]  960 	ld	0 (iy),#0x01
   060E                     961 00142$:
                            962 ;engine/player.c:478: if (cx1 != cx2) if ((at2 & 40) == 40) { if (at2 & 1) cfx = pgtmx = PLAYER_VX_CONVEYORS; else cfx = pgtmx = -PLAYER_VX_CONVEYORS; pgotten = 1; } 
   060E 3Ar00r00      [13]  963 	ld	a,(#_cx1 + 0)
   0611 FD 21r00r00   [14]  964 	ld	iy,#_cx2
   0615 FD 96 00      [19]  965 	sub	a, 0 (iy)
   0618 28 35         [12]  966 	jr	Z,00149$
   061A 3Ar00r00      [13]  967 	ld	a,(#_at2 + 0)
   061D E6 28         [ 7]  968 	and	a, #0x28
   061F D6 28         [ 7]  969 	sub	a, #0x28
   0621 20 2C         [12]  970 	jr	NZ,00149$
   0623 DD 7E FE      [19]  971 	ld	a,-2 (ix)
   0626 B7            [ 4]  972 	or	a, a
   0627 28 10         [12]  973 	jr	Z,00144$
   0629 21 30 00      [10]  974 	ld	hl,#0x0030
   062C 22r00r00      [16]  975 	ld	(_pgtmx),hl
   062F FD 21r00r00   [14]  976 	ld	iy,#_cfx
   0633 FD 36 00 30   [19]  977 	ld	0 (iy),#0x30
   0637 18 0E         [12]  978 	jr	00145$
   0639                     979 00144$:
   0639 21 D0 FF      [10]  980 	ld	hl,#0xFFD0
   063C 22r00r00      [16]  981 	ld	(_pgtmx),hl
   063F FD 21r00r00   [14]  982 	ld	iy,#_cfx
   0643 FD 36 00 D0   [19]  983 	ld	0 (iy),#0xD0
   0647                     984 00145$:
   0647 FD 21r00r00   [14]  985 	ld	iy,#_pgotten
   064B FD 36 00 01   [19]  986 	ld	0 (iy),#0x01
   064F                     987 00149$:
                            988 ;engine/player.c:486: if ((at1 & 1) || (at2 & 1)) pnotsafe = 1; 
   064F 79            [ 4]  989 	ld	a,c
   0650 B7            [ 4]  990 	or	a, a
   0651 20 06         [12]  991 	jr	NZ,00150$
   0653 DD 7E FE      [19]  992 	ld	a,-2 (ix)
   0656 B7            [ 4]  993 	or	a, a
   0657 28 27         [12]  994 	jr	Z,00167$
   0659                     995 00150$:
   0659 FD 21r00r00   [14]  996 	ld	iy,#_pnotsafe
   065D FD 36 00 01   [19]  997 	ld	0 (iy),#0x01
   0661 18 1D         [12]  998 	jr	00167$
   0663                     999 00159$:
                           1000 ;engine/player.c:487: } else if ((at1 & 1) || (at2 & 1)) {
   0663 79            [ 4] 1001 	ld	a,c
   0664 B7            [ 4] 1002 	or	a, a
   0665 20 06         [12] 1003 	jr	NZ,00155$
   0667 DD 7E FE      [19] 1004 	ld	a,-2 (ix)
   066A B7            [ 4] 1005 	or	a, a
   066B 28 13         [12] 1006 	jr	Z,00167$
   066D                    1007 00155$:
                           1008 ;engine/player.c:488: if ((pry & 15) > 4) hitv = 1;
   066D 3Ar00r00      [13] 1009 	ld	a,(#_pry + 0)
   0670 E6 0F         [ 7] 1010 	and	a, #0x0F
   0672 67            [ 4] 1011 	ld	h,a
   0673 3E 04         [ 7] 1012 	ld	a,#0x04
   0675 94            [ 4] 1013 	sub	a, h
   0676 30 08         [12] 1014 	jr	NC,00167$
   0678 FD 21r00r00   [14] 1015 	ld	iy,#_hitv
   067C FD 36 00 01   [19] 1016 	ld	0 (iy),#0x01
   0680                    1017 00167$:
                           1018 ;engine/player.c:505: if (vertical_engine_type == ENGINE_TYPE_JUMP) {
   0680 3Ar00r00      [13] 1019 	ld	a,(#_vertical_engine_type + 0)
   0683 B7            [ 4] 1020 	or	a, a
   0684 C2r1Er07      [10] 1021 	jp	NZ,00191$
                           1022 ;engine/player.c:508: if (pad0 & PAD_A) {
   0687 FD 21r00r00   [14] 1023 	ld	iy,#_pad0
   068B FD CB 00 6E   [20] 1024 	bit	5, 0 (iy)
   068F 28 40         [12] 1025 	jr	Z,00179$
                           1026 ;engine/player.c:510: !pjb
   0691 3Ar00r00      [13] 1027 	ld	a,(#_pjb + 0)
   0694 B7            [ 4] 1028 	or	a, a
   0695 20 30         [12] 1029 	jr	NZ,00173$
                           1030 ;engine/player.c:511: && !pj
   0697 3Ar00r00      [13] 1031 	ld	a,(#_pj + 0)
   069A B7            [ 4] 1032 	or	a, a
   069B 20 2A         [12] 1033 	jr	NZ,00173$
                           1034 ;engine/player.c:513: pgotten || ppossee || hitv
   069D 3Ar00r00      [13] 1035 	ld	a,(#_pgotten + 0)
   06A0 B7            [ 4] 1036 	or	a, a
   06A1 20 0C         [12] 1037 	jr	NZ,00172$
   06A3 3Ar00r00      [13] 1038 	ld	a,(#_ppossee + 0)
   06A6 B7            [ 4] 1039 	or	a, a
   06A7 20 06         [12] 1040 	jr	NZ,00172$
   06A9 3Ar00r00      [13] 1041 	ld	a,(#_hitv + 0)
   06AC B7            [ 4] 1042 	or	a, a
   06AD 28 18         [12] 1043 	jr	Z,00173$
   06AF                    1044 00172$:
                           1045 ;engine/player.c:519: jump_start ();
   06AF CDr00r00      [17] 1046 	call	_jump_start
                           1047 ;engine/player.c:522: if (!(pgotten || hitv || pnotsafe)) {
   06B2 3Ar00r00      [13] 1048 	ld	a,(#_pgotten + 0)
   06B5 B7            [ 4] 1049 	or	a, a
   06B6 20 0F         [12] 1050 	jr	NZ,00173$
   06B8 3Ar00r00      [13] 1051 	ld	a,(#_hitv + 0)
   06BB B7            [ 4] 1052 	or	a, a
   06BC 20 09         [12] 1053 	jr	NZ,00173$
   06BE 3Ar00r00      [13] 1054 	ld	a,(#_pnotsafe + 0)
   06C1 B7            [ 4] 1055 	or	a, a
   06C2 20 03         [12] 1056 	jr	NZ,00173$
                           1057 ;engine/player.c:523: player_register_safe_spot ();
   06C4 CDr00r00      [17] 1058 	call	_player_register_safe_spot
   06C7                    1059 00173$:
                           1060 ;engine/player.c:535: pjb = 1;
   06C7 FD 21r00r00   [14] 1061 	ld	iy,#_pjb
   06CB FD 36 00 01   [19] 1062 	ld	0 (iy),#0x01
   06CF 18 08         [12] 1063 	jr	00180$
   06D1                    1064 00179$:
                           1065 ;engine/player.c:536: } else pjb = 0;
   06D1 FD 21r00r00   [14] 1066 	ld	iy,#_pjb
   06D5 FD 36 00 00   [19] 1067 	ld	0 (iy),#0x00
   06D9                    1068 00180$:
                           1069 ;engine/player.c:538: if (pj) {
   06D9 3Ar00r00      [13] 1070 	ld	a,(#_pj + 0)
   06DC B7            [ 4] 1071 	or	a, a
   06DD 28 3F         [12] 1072 	jr	Z,00191$
                           1073 ;engine/player.c:545: if (pad0 & PAD_A) {
   06DF FD 21r00r00   [14] 1074 	ld	iy,#_pad0
   06E3 FD CB 00 6E   [20] 1075 	bit	5, 0 (iy)
   06E7 28 18         [12] 1076 	jr	Z,00186$
                           1077 ;engine/player.c:546: ++ pctj; if (pctj == PLAYER_VY_MK2_JUMP_A_STEPS) pj = 0;
   06E9 FD 21r00r00   [14] 1078 	ld	iy,#_pctj
   06ED FD 34 00      [23] 1079 	inc	0 (iy)
   06F0 3Ar00r00      [13] 1080 	ld	a,(#_pctj + 0)
   06F3 D6 0C         [ 7] 1081 	sub	a, #0x0C
   06F5 20 27         [12] 1082 	jr	NZ,00191$
   06F7 FD 21r00r00   [14] 1083 	ld	iy,#_pj
   06FB FD 36 00 00   [19] 1084 	ld	0 (iy),#0x00
   06FF 18 1D         [12] 1085 	jr	00191$
   0701                    1086 00186$:
                           1087 ;engine/player.c:548: pj = 0; if (pvy < -PLAYER_VY_MK2_JUMP_RELEASE) pvy = -PLAYER_VY_MK2_JUMP_RELEASE;
   0701 FD 21r00r00   [14] 1088 	ld	iy,#_pj
   0705 FD 36 00 00   [19] 1089 	ld	0 (iy),#0x00
   0709 3Ar00r00      [13] 1090 	ld	a,(#_pvy + 0)
   070C D6 B0         [ 7] 1091 	sub	a, #0xB0
   070E 3Ar01r00      [13] 1092 	ld	a,(#_pvy + 1)
   0711 17            [ 4] 1093 	rla
   0712 3F            [ 4] 1094 	ccf
   0713 1F            [ 4] 1095 	rra
   0714 DE 7F         [ 7] 1096 	sbc	a, #0x7F
   0716 30 06         [12] 1097 	jr	NC,00191$
   0718 21 B0 FF      [10] 1098 	ld	hl,#0xFFB0
   071B 22r00r00      [16] 1099 	ld	(_pvy),hl
   071E                    1100 00191$:
                           1101 ;engine/player.c:646: if (!(pad0 & PAD_LEFT || pad0 & PAD_RIGHT)) {
   071E 3Ar00r00      [13] 1102 	ld	a,(#_pad0 + 0)
   0721 E6 04         [ 7] 1103 	and	a, #0x04
   0723 57            [ 4] 1104 	ld	d,a
   0724 3Ar00r00      [13] 1105 	ld	a,(#_pad0 + 0)
   0727 E6 08         [ 7] 1106 	and	a, #0x08
   0729 5F            [ 4] 1107 	ld	e,a
   072A 7A            [ 4] 1108 	ld	a,d
   072B B7            [ 4] 1109 	or	a,a
   072C 20 65         [12] 1110 	jr	NZ,00202$
   072E B3            [ 4] 1111 	or	a,e
   072F 20 62         [12] 1112 	jr	NZ,00202$
                           1113 ;engine/player.c:654: if (pvx > 0) {
   0731 AF            [ 4] 1114 	xor	a, a
   0732 FD 21r00r00   [14] 1115 	ld	iy,#_pvx
   0736 FD BE 00      [19] 1116 	cp	a, 0 (iy)
   0739 FD 21r00r00   [14] 1117 	ld	iy,#_pvx
   073D FD 9E 01      [19] 1118 	sbc	a, 1 (iy)
   0740 E2r45r07      [10] 1119 	jp	PO, 00613$
   0743 EE 80         [ 7] 1120 	xor	a, #0x80
   0745                    1121 00613$:
   0745 F2r63r07      [10] 1122 	jp	P,00199$
                           1123 ;engine/player.c:659: pvx -= PLAYER_RX;
   0748 21r00r00      [10] 1124 	ld	hl,#_pvx
   074B 7E            [ 7] 1125 	ld	a,(hl)
   074C C6 F4         [ 7] 1126 	add	a,#0xF4
   074E 77            [ 7] 1127 	ld	(hl),a
   074F 23            [ 6] 1128 	inc	hl
   0750 7E            [ 7] 1129 	ld	a,(hl)
   0751 CE FF         [ 7] 1130 	adc	a,#0xFF
   0753 77            [ 7] 1131 	ld	(hl),a
                           1132 ;engine/player.c:662: if (pvx < 0) pvx = 0;
   0754 3Ar01r00      [13] 1133 	ld	a,(#_pvx + 1)
   0757 CB 7F         [ 8] 1134 	bit	7,a
   0759 28 38         [12] 1135 	jr	Z,00202$
   075B 21 00 00      [10] 1136 	ld	hl,#0x0000
   075E 22r00r00      [16] 1137 	ld	(_pvx),hl
   0761 18 30         [12] 1138 	jr	00202$
   0763                    1139 00199$:
                           1140 ;engine/player.c:663: } else if (pvx < 0) {
   0763 3Ar01r00      [13] 1141 	ld	a,(#_pvx + 1)
   0766 CB 7F         [ 8] 1142 	bit	7,a
   0768 28 29         [12] 1143 	jr	Z,00202$
                           1144 ;engine/player.c:668: pvx += PLAYER_RX;
   076A 21r00r00      [10] 1145 	ld	hl,#_pvx
   076D 7E            [ 7] 1146 	ld	a,(hl)
   076E C6 0C         [ 7] 1147 	add	a, #0x0C
   0770 77            [ 7] 1148 	ld	(hl),a
   0771 23            [ 6] 1149 	inc	hl
   0772 7E            [ 7] 1150 	ld	a,(hl)
   0773 CE 00         [ 7] 1151 	adc	a, #0x00
   0775 77            [ 7] 1152 	ld	(hl),a
                           1153 ;engine/player.c:671: if (pvx > 0) pvx = 0;
   0776 AF            [ 4] 1154 	xor	a, a
   0777 FD 21r00r00   [14] 1155 	ld	iy,#_pvx
   077B FD BE 00      [19] 1156 	cp	a, 0 (iy)
   077E FD 21r00r00   [14] 1157 	ld	iy,#_pvx
   0782 FD 9E 01      [19] 1158 	sbc	a, 1 (iy)
   0785 E2r8Ar07      [10] 1159 	jp	PO, 00614$
   0788 EE 80         [ 7] 1160 	xor	a, #0x80
   078A                    1161 00614$:
   078A F2r93r07      [10] 1162 	jp	P,00202$
   078D 21 00 00      [10] 1163 	ld	hl,#0x0000
   0790 22r00r00      [16] 1164 	ld	(_pvx),hl
   0793                    1165 00202$:
                           1166 ;engine/player.c:676: if (pad0 & PAD_LEFT) {
   0793 7A            [ 4] 1167 	ld	a,d
   0794 B7            [ 4] 1168 	or	a, a
   0795 28 2E         [12] 1169 	jr	Z,00207$
                           1170 ;engine/player.c:680: pfacing = CELL_FACING_LEFT;		
   0797 FD 21r00r00   [14] 1171 	ld	iy,#_pfacing
   079B FD 36 00 05   [19] 1172 	ld	0 (iy),#0x05
                           1173 ;engine/player.c:683: if (pvx > -PLAYER_VX_MAX) {
   079F 3E 90         [ 7] 1174 	ld	a,#0x90
   07A1 FD 21r00r00   [14] 1175 	ld	iy,#_pvx
   07A5 FD BE 00      [19] 1176 	cp	a, 0 (iy)
   07A8 3E FF         [ 7] 1177 	ld	a,#0xFF
   07AA FD 21r00r00   [14] 1178 	ld	iy,#_pvx
   07AE FD 9E 01      [19] 1179 	sbc	a, 1 (iy)
   07B1 E2rB6r07      [10] 1180 	jp	PO, 00615$
   07B4 EE 80         [ 7] 1181 	xor	a, #0x80
   07B6                    1182 00615$:
   07B6 F2rC5r07      [10] 1183 	jp	P,00207$
                           1184 ;engine/player.c:688: pvx -= PLAYER_AX;
   07B9 21r00r00      [10] 1185 	ld	hl,#_pvx
   07BC 7E            [ 7] 1186 	ld	a,(hl)
   07BD C6 F4         [ 7] 1187 	add	a,#0xF4
   07BF 77            [ 7] 1188 	ld	(hl),a
   07C0 23            [ 6] 1189 	inc	hl
   07C1 7E            [ 7] 1190 	ld	a,(hl)
   07C2 CE FF         [ 7] 1191 	adc	a,#0xFF
   07C4 77            [ 7] 1192 	ld	(hl),a
   07C5                    1193 00207$:
                           1194 ;engine/player.c:693: if (pad0 & PAD_RIGHT) {
   07C5 7B            [ 4] 1195 	ld	a,e
   07C6 B7            [ 4] 1196 	or	a, a
   07C7 28 20         [12] 1197 	jr	Z,00211$
                           1198 ;engine/player.c:697: pfacing = CELL_FACING_RIGHT;
   07C9 21r00r00      [10] 1199 	ld	hl,#_pfacing + 0
   07CC 36 00         [10] 1200 	ld	(hl), #0x00
                           1201 ;engine/player.c:700: if (pvx < PLAYER_VX_MAX) {
   07CE 3Ar00r00      [13] 1202 	ld	a,(#_pvx + 0)
   07D1 D6 70         [ 7] 1203 	sub	a, #0x70
   07D3 3Ar01r00      [13] 1204 	ld	a,(#_pvx + 1)
   07D6 17            [ 4] 1205 	rla
   07D7 3F            [ 4] 1206 	ccf
   07D8 1F            [ 4] 1207 	rra
   07D9 DE 80         [ 7] 1208 	sbc	a, #0x80
   07DB 30 0C         [12] 1209 	jr	NC,00211$
                           1210 ;engine/player.c:705: pvx += PLAYER_AX;
   07DD 21r00r00      [10] 1211 	ld	hl,#_pvx
   07E0 7E            [ 7] 1212 	ld	a,(hl)
   07E1 C6 0C         [ 7] 1213 	add	a, #0x0C
   07E3 77            [ 7] 1214 	ld	(hl),a
   07E4 23            [ 6] 1215 	inc	hl
   07E5 7E            [ 7] 1216 	ld	a,(hl)
   07E6 CE 00         [ 7] 1217 	adc	a, #0x00
   07E8 77            [ 7] 1218 	ld	(hl),a
   07E9                    1219 00211$:
                           1220 ;engine/player.c:711: px += pvx;
   07E9 21r00r00      [10] 1221 	ld	hl,#_pvx
   07EC D5            [11] 1222 	push	de
   07ED FD 21r00r00   [14] 1223 	ld	iy,#_px
   07F1 FD E5         [15] 1224 	push	iy
   07F3 D1            [10] 1225 	pop	de
   07F4 1A            [ 7] 1226 	ld	a,(de)
   07F5 86            [ 7] 1227 	add	a, (hl)
   07F6 12            [ 7] 1228 	ld	(de),a
   07F7 13            [ 6] 1229 	inc	de
   07F8 1A            [ 7] 1230 	ld	a,(de)
   07F9 23            [ 6] 1231 	inc	hl
   07FA 8E            [ 7] 1232 	adc	a, (hl)
   07FB 12            [ 7] 1233 	ld	(de),a
   07FC D1            [10] 1234 	pop	de
                           1235 ;engine/player.c:713: if (pgotten) px += pgtmx;
   07FD 3Ar00r00      [13] 1236 	ld	a,(#_pgotten + 0)
   0800 B7            [ 4] 1237 	or	a, a
   0801 28 14         [12] 1238 	jr	Z,00213$
   0803 21r00r00      [10] 1239 	ld	hl,#_pgtmx
   0806 D5            [11] 1240 	push	de
   0807 FD 21r00r00   [14] 1241 	ld	iy,#_px
   080B FD E5         [15] 1242 	push	iy
   080D D1            [10] 1243 	pop	de
   080E 1A            [ 7] 1244 	ld	a,(de)
   080F 86            [ 7] 1245 	add	a, (hl)
   0810 12            [ 7] 1246 	ld	(de),a
   0811 13            [ 6] 1247 	inc	de
   0812 1A            [ 7] 1248 	ld	a,(de)
   0813 23            [ 6] 1249 	inc	hl
   0814 8E            [ 7] 1250 	adc	a, (hl)
   0815 12            [ 7] 1251 	ld	(de),a
   0816 D1            [10] 1252 	pop	de
   0817                    1253 00213$:
                           1254 ;engine/player.c:716: if (px < (4<<FIXBITS)) { px = 4 << FIXBITS; prx = 4;}
   0817 3Ar01r00      [13] 1255 	ld	a,(#_px + 1)
   081A EE 80         [ 7] 1256 	xor	a, #0x80
   081C D6 81         [ 7] 1257 	sub	a, #0x81
   081E 30 0D         [12] 1258 	jr	NC,00218$
   0820 21 00 01      [10] 1259 	ld	hl,#0x0100
   0823 22r00r00      [16] 1260 	ld	(_px),hl
   0826 21r00r00      [10] 1261 	ld	hl,#_prx + 0
   0829 36 04         [10] 1262 	ld	(hl), #0x04
   082B 18 29         [12] 1263 	jr	00219$
   082D                    1264 00218$:
                           1265 ;engine/player.c:717: else if (px > (244<<FIXBITS)) { px = 244 << FIXBITS; prx = 244; }
   082D AF            [ 4] 1266 	xor	a, a
   082E FD 21r00r00   [14] 1267 	ld	iy,#_px
   0832 FD BE 00      [19] 1268 	cp	a, 0 (iy)
   0835 3E 3D         [ 7] 1269 	ld	a,#0x3D
   0837 FD 21r00r00   [14] 1270 	ld	iy,#_px
   083B FD 9E 01      [19] 1271 	sbc	a, 1 (iy)
   083E E2r43r08      [10] 1272 	jp	PO, 00616$
   0841 EE 80         [ 7] 1273 	xor	a, #0x80
   0843                    1274 00616$:
   0843 F2r53r08      [10] 1275 	jp	P,00215$
   0846 21 00 3D      [10] 1276 	ld	hl,#0x3D00
   0849 22r00r00      [16] 1277 	ld	(_px),hl
   084C 21r00r00      [10] 1278 	ld	hl,#_prx + 0
   084F 36 F4         [10] 1279 	ld	(hl), #0xF4
   0851 18 03         [12] 1280 	jr	00219$
   0853                    1281 00215$:
                           1282 ;engine/player.c:718: else player_to_pixels ();
   0853 CDr9Dr00      [17] 1283 	call	_player_to_pixels
   0856                    1284 00219$:
                           1285 ;engine/player.c:723: cy1 = (pry - PLAYER_COLLISION_VSTRETCH_BG) >> 4;
   0856 21r00r00      [10] 1286 	ld	hl,#_pry + 0
   0859 5E            [ 7] 1287 	ld	e, (hl)
   085A 16 00         [ 7] 1288 	ld	d,#0x00
   085C 7B            [ 4] 1289 	ld	a,e
   085D C6 04         [ 7] 1290 	add	a,#0x04
   085F 6F            [ 4] 1291 	ld	l,a
   0860 7A            [ 4] 1292 	ld	a,d
   0861 CE 00         [ 7] 1293 	adc	a,#0x00
   0863 67            [ 4] 1294 	ld	h,a
   0864 CB 2C         [ 8] 1295 	sra	h
   0866 CB 1D         [ 8] 1296 	rr	l
   0868 CB 2C         [ 8] 1297 	sra	h
   086A CB 1D         [ 8] 1298 	rr	l
   086C CB 2C         [ 8] 1299 	sra	h
   086E CB 1D         [ 8] 1300 	rr	l
   0870 CB 2C         [ 8] 1301 	sra	h
   0872 CB 1D         [ 8] 1302 	rr	l
   0874 FD 21r00r00   [14] 1303 	ld	iy,#_cy1
   0878 FD 75 00      [19] 1304 	ld	0 (iy),l
                           1305 ;engine/player.c:724: cy2 = (pry + 15) >> 4;
   087B 21 0F 00      [10] 1306 	ld	hl,#0x000F
   087E 19            [11] 1307 	add	hl,de
   087F CB 2C         [ 8] 1308 	sra	h
   0881 CB 1D         [ 8] 1309 	rr	l
   0883 CB 2C         [ 8] 1310 	sra	h
   0885 CB 1D         [ 8] 1311 	rr	l
   0887 CB 2C         [ 8] 1312 	sra	h
   0889 CB 1D         [ 8] 1313 	rr	l
   088B CB 2C         [ 8] 1314 	sra	h
   088D CB 1D         [ 8] 1315 	rr	l
   088F FD 21r00r00   [14] 1316 	ld	iy,#_cy2
   0893 FD 75 00      [19] 1317 	ld	0 (iy),l
                           1318 ;engine/player.c:727: rds16 = pvx + pgtmx;
   0896 21r00r00      [10] 1319 	ld	hl,#_pgtmx
   0899 D5            [11] 1320 	push	de
   089A FD 21r00r00   [14] 1321 	ld	iy,#_rds16
   089E FD E5         [15] 1322 	push	iy
   08A0 D1            [10] 1323 	pop	de
   08A1 3Ar00r00      [13] 1324 	ld	a,(#_pvx + 0)
   08A4 86            [ 7] 1325 	add	a, (hl)
   08A5 12            [ 7] 1326 	ld	(de),a
   08A6 3Ar01r00      [13] 1327 	ld	a,(#_pvx + 1)
   08A9 23            [ 6] 1328 	inc	hl
   08AA 8E            [ 7] 1329 	adc	a, (hl)
   08AB 13            [ 6] 1330 	inc	de
   08AC 12            [ 7] 1331 	ld	(de),a
   08AD D1            [10] 1332 	pop	de
                           1333 ;engine/player.c:728: if (rds16) 	{
   08AE 3Ar01r00      [13] 1334 	ld	a,(#_rds16 + 1)
   08B1 FD 21r00r00   [14] 1335 	ld	iy,#_rds16
   08B5 FD B6 00      [19] 1336 	or	a,0 (iy)
   08B8 CAr0Ar0A      [10] 1337 	jp	Z,00236$
                           1338 ;engine/player.c:729: if (rds16 < 0) {
   08BB 3Ar01r00      [13] 1339 	ld	a,(#_rds16 + 1)
   08BE CB 7F         [ 8] 1340 	bit	7,a
   08C0 28 24         [12] 1341 	jr	Z,00221$
                           1342 ;engine/player.c:730: cx1 = cx2 = prx >> 4; 
   08C2 3Ar00r00      [13] 1343 	ld	a,(#_prx + 0)
   08C5 07            [ 4] 1344 	rlca
   08C6 07            [ 4] 1345 	rlca
   08C7 07            [ 4] 1346 	rlca
   08C8 07            [ 4] 1347 	rlca
   08C9 E6 0F         [ 7] 1348 	and	a,#0x0F
   08CB 32r00r00      [13] 1349 	ld	(#_cx2 + 0),a
                           1350 ;engine/player.c:731: rda = (cx1 + 1) << 4;
   08CE 32r00r00      [13] 1351 	ld	(#_cx1 + 0),a
   08D1 3C            [ 4] 1352 	inc	a
   08D2 07            [ 4] 1353 	rlca
   08D3 07            [ 4] 1354 	rlca
   08D4 07            [ 4] 1355 	rlca
   08D5 07            [ 4] 1356 	rlca
   08D6 E6 F0         [ 7] 1357 	and	a,#0xF0
   08D8 32r00r00      [13] 1358 	ld	(#_rda + 0),a
                           1359 ;engine/player.c:732: rdm = cx1 - 1;
   08DB 21r00r00      [10] 1360 	ld	hl,#_rdm
   08DE 3Ar00r00      [13] 1361 	ld	a,(#_cx1 + 0)
   08E1 C6 FF         [ 7] 1362 	add	a,#0xFF
   08E3 77            [ 7] 1363 	ld	(hl),a
   08E4 18 3A         [12] 1364 	jr	00222$
   08E6                    1365 00221$:
                           1366 ;engine/player.c:734: cx1 = cx2 = (prx + 8) >> 4;
   08E6 FD 21r00r00   [14] 1367 	ld	iy,#_prx
   08EA FD 6E 00      [19] 1368 	ld	l,0 (iy)
   08ED 26 00         [ 7] 1369 	ld	h,#0x00
   08EF 01 08 00      [10] 1370 	ld	bc,#0x0008
   08F2 09            [11] 1371 	add	hl,bc
   08F3 CB 2C         [ 8] 1372 	sra	h
   08F5 CB 1D         [ 8] 1373 	rr	l
   08F7 CB 2C         [ 8] 1374 	sra	h
   08F9 CB 1D         [ 8] 1375 	rr	l
   08FB CB 2C         [ 8] 1376 	sra	h
   08FD CB 1D         [ 8] 1377 	rr	l
   08FF CB 2C         [ 8] 1378 	sra	h
   0901 CB 1D         [ 8] 1379 	rr	l
   0903 7D            [ 4] 1380 	ld	a,l
   0904 32r00r00      [13] 1381 	ld	(#_cx2 + 0),a
                           1382 ;engine/player.c:735: rda = ((cx1 - 1) << 4) + 8;
   0907 32r00r00      [13] 1383 	ld	(#_cx1 + 0),a
   090A C6 FF         [ 7] 1384 	add	a,#0xFF
   090C 07            [ 4] 1385 	rlca
   090D 07            [ 4] 1386 	rlca
   090E 07            [ 4] 1387 	rlca
   090F 07            [ 4] 1388 	rlca
   0910 E6 F0         [ 7] 1389 	and	a,#0xF0
   0912 21r00r00      [10] 1390 	ld	hl,#_rda
   0915 C6 08         [ 7] 1391 	add	a, #0x08
   0917 77            [ 7] 1392 	ld	(hl),a
                           1393 ;engine/player.c:736: rdm = cx1 + 1;
   0918 21r00r00      [10] 1394 	ld	hl,#_rdm
   091B 3Ar00r00      [13] 1395 	ld	a,(#_cx1 + 0)
   091E 3C            [ 4] 1396 	inc	a
   091F 77            [ 7] 1397 	ld	(hl),a
   0920                    1398 00222$:
                           1399 ;engine/player.c:752: cm_two_points ();
   0920 CDr00r00      [17] 1400 	call	_cm_two_points
                           1401 ;engine/player.c:753: if ((at1 & 8) || (at2 & 8)) {
   0923 FD 21r00r00   [14] 1402 	ld	iy,#_at1
   0927 FD CB 00 5E   [20] 1403 	bit	3, 0 (iy)
   092B 20 0B         [12] 1404 	jr	NZ,00229$
   092D FD 21r00r00   [14] 1405 	ld	iy,#_at2
   0931 FD CB 00 5E   [20] 1406 	bit	3, 0 (iy)
   0935 CArBEr09      [10] 1407 	jp	Z,00230$
   0938                    1408 00229$:
                           1409 ;engine/player.c:754: pvx = 0; prx = rda; px = prx << FIXBITS; pfiring = 1;
   0938 21 00 00      [10] 1410 	ld	hl,#0x0000
   093B 22r00r00      [16] 1411 	ld	(_pvx),hl
   093E 3Ar00r00      [13] 1412 	ld	a,(#_rda + 0)
   0941 32r00r00      [13] 1413 	ld	(#_prx + 0),a
   0944 FD 21r00r00   [14] 1414 	ld	iy,#_prx
   0948 FD 6E 00      [19] 1415 	ld	l,0 (iy)
   094B 26 00         [ 7] 1416 	ld	h,#0x00
   094D 29            [11] 1417 	add	hl, hl
   094E 29            [11] 1418 	add	hl, hl
   094F 29            [11] 1419 	add	hl, hl
   0950 29            [11] 1420 	add	hl, hl
   0951 29            [11] 1421 	add	hl, hl
   0952 29            [11] 1422 	add	hl, hl
   0953 22r00r00      [16] 1423 	ld	(_px),hl
   0956 FD 21r00r00   [14] 1424 	ld	iy,#_pfiring
   095A FD 36 00 01   [19] 1425 	ld	0 (iy),#0x01
                           1426 ;engine/player.c:758: if (at1 & 2) player_process_tile (at1, cx1, cy1, rdm, cy1);
   095E FD 21r00r00   [14] 1427 	ld	iy,#_at1
   0962 FD CB 00 4E   [20] 1428 	bit	1, 0 (iy)
   0966 28 1F         [12] 1429 	jr	Z,00224$
   0968 3Ar00r00      [13] 1430 	ld	a,(_cy1)
   096B F5            [11] 1431 	push	af
   096C 33            [ 6] 1432 	inc	sp
   096D 3Ar00r00      [13] 1433 	ld	a,(_rdm)
   0970 F5            [11] 1434 	push	af
   0971 33            [ 6] 1435 	inc	sp
   0972 3Ar00r00      [13] 1436 	ld	a,(_cy1)
   0975 F5            [11] 1437 	push	af
   0976 33            [ 6] 1438 	inc	sp
   0977 3Ar00r00      [13] 1439 	ld	a,(_cx1)
   097A F5            [11] 1440 	push	af
   097B 33            [ 6] 1441 	inc	sp
   097C 3Ar00r00      [13] 1442 	ld	a,(_at1)
   097F F5            [11] 1443 	push	af
   0980 33            [ 6] 1444 	inc	sp
   0981 CDr3Dr01      [17] 1445 	call	_player_process_tile
   0984 F1            [10] 1446 	pop	af
   0985 F1            [10] 1447 	pop	af
   0986 33            [ 6] 1448 	inc	sp
   0987                    1449 00224$:
                           1450 ;engine/player.c:759: if (cy1 != cy2) if (at2 & 2) player_process_tile (at2, cx1, cy2, rdm, cy2);
   0987 3Ar00r00      [13] 1451 	ld	a,(#_cy1 + 0)
   098A FD 21r00r00   [14] 1452 	ld	iy,#_cy2
   098E FD 96 00      [19] 1453 	sub	a, 0 (iy)
   0991 28 4C         [12] 1454 	jr	Z,00231$
   0993 FD 21r00r00   [14] 1455 	ld	iy,#_at2
   0997 FD CB 00 4E   [20] 1456 	bit	1, 0 (iy)
   099B 28 42         [12] 1457 	jr	Z,00231$
   099D 3Ar00r00      [13] 1458 	ld	a,(_cy2)
   09A0 F5            [11] 1459 	push	af
   09A1 33            [ 6] 1460 	inc	sp
   09A2 3Ar00r00      [13] 1461 	ld	a,(_rdm)
   09A5 F5            [11] 1462 	push	af
   09A6 33            [ 6] 1463 	inc	sp
   09A7 3Ar00r00      [13] 1464 	ld	a,(_cy2)
   09AA F5            [11] 1465 	push	af
   09AB 33            [ 6] 1466 	inc	sp
   09AC 3Ar00r00      [13] 1467 	ld	a,(_cx1)
   09AF F5            [11] 1468 	push	af
   09B0 33            [ 6] 1469 	inc	sp
   09B1 3Ar00r00      [13] 1470 	ld	a,(_at2)
   09B4 F5            [11] 1471 	push	af
   09B5 33            [ 6] 1472 	inc	sp
   09B6 CDr3Dr01      [17] 1473 	call	_player_process_tile
   09B9 F1            [10] 1474 	pop	af
   09BA F1            [10] 1475 	pop	af
   09BB 33            [ 6] 1476 	inc	sp
   09BC 18 21         [12] 1477 	jr	00231$
   09BE                    1478 00230$:
                           1479 ;engine/player.c:762: hith = ((at1 & 1) || (at2 & 1));
   09BE FD 21r00r00   [14] 1480 	ld	iy,#_at1
   09C2 FD CB 00 46   [20] 1481 	bit	0, 0 (iy)
   09C6 20 0E         [12] 1482 	jr	NZ,00263$
   09C8 FD 21r00r00   [14] 1483 	ld	iy,#_at2
   09CC FD CB 00 46   [20] 1484 	bit	0, 0 (iy)
   09D0 20 04         [12] 1485 	jr	NZ,00263$
   09D2 3E 00         [ 7] 1486 	ld	a,#0x00
   09D4 18 02         [12] 1487 	jr	00264$
   09D6                    1488 00263$:
   09D6 3E 01         [ 7] 1489 	ld	a,#0x01
   09D8                    1490 00264$:
   09D8 FD 21r00r00   [14] 1491 	ld	iy,#_hith
   09DC FD 77 00      [19] 1492 	ld	0 (iy),a
   09DF                    1493 00231$:
                           1494 ;engine/player.c:765: if (pvy > 0) hith &= ((pry & 15) > 4);
   09DF AF            [ 4] 1495 	xor	a, a
   09E0 FD 21r00r00   [14] 1496 	ld	iy,#_pvy
   09E4 FD BE 00      [19] 1497 	cp	a, 0 (iy)
   09E7 FD 21r00r00   [14] 1498 	ld	iy,#_pvy
   09EB FD 9E 01      [19] 1499 	sbc	a, 1 (iy)
   09EE E2rF3r09      [10] 1500 	jp	PO, 00627$
   09F1 EE 80         [ 7] 1501 	xor	a, #0x80
   09F3                    1502 00627$:
   09F3 F2r0Ar0A      [10] 1503 	jp	P,00236$
   09F6 3Ar00r00      [13] 1504 	ld	a,(#_pry + 0)
   09F9 E6 0F         [ 7] 1505 	and	a, #0x0F
   09FB 67            [ 4] 1506 	ld	h,a
   09FC 3E 04         [ 7] 1507 	ld	a,#0x04
   09FE 94            [ 4] 1508 	sub	a, h
   09FF 3E 00         [ 7] 1509 	ld	a,#0x00
   0A01 17            [ 4] 1510 	rla
   0A02 57            [ 4] 1511 	ld	d,a
   0A03 3Ar00r00      [13] 1512 	ld	a,(#_hith + 0)
   0A06 A2            [ 4] 1513 	and	a, d
                           1514 ;engine/player.c:793: phit = 0;
   0A07 32r00r00      [13] 1515 	ld	(#_hith + 0),a
   0A0A                    1516 00236$:
   0A0A FD 21r00r00   [14] 1517 	ld	iy,#_phit
   0A0E FD 36 00 00   [19] 1518 	ld	0 (iy),#0x00
                           1519 ;engine/player.c:795: if (pgotten == 0) {
   0A12 3Ar00r00      [13] 1520 	ld	a,(#_pgotten + 0)
   0A15 B7            [ 4] 1521 	or	a, a
   0A16 C2r59r0B      [10] 1522 	jp	NZ,00251$
                           1523 ;engine/player.c:803: if (hitv) { phit = 1; pvy = ADD_SIGN (-pvy, PLAYER_V_REBOUND); pry = pcy; py = pry << FIXBITS; } 
   0A19 3Ar00r00      [13] 1524 	ld	a,(#_hitv + 0)
   0A1C B7            [ 4] 1525 	or	a, a
   0A1D 28 50         [12] 1526 	jr	Z,00240$
   0A1F 21r00r00      [10] 1527 	ld	hl,#_phit + 0
   0A22 36 01         [10] 1528 	ld	(hl), #0x01
   0A24 AF            [ 4] 1529 	xor	a, a
   0A25 FD 21r00r00   [14] 1530 	ld	iy,#_pvy
   0A29 FD 96 00      [19] 1531 	sub	a, 0 (iy)
   0A2C 67            [ 4] 1532 	ld	h,a
   0A2D 3E 00         [ 7] 1533 	ld	a, #0x00
   0A2F FD 21r00r00   [14] 1534 	ld	iy,#_pvy
   0A33 FD 9E 01      [19] 1535 	sbc	a, 1 (iy)
   0A36 6F            [ 4] 1536 	ld	l,a
   0A37 B4            [ 4] 1537 	or	a,h
   0A38 28 15         [12] 1538 	jr	Z,00265$
   0A3A AF            [ 4] 1539 	xor	a, a
   0A3B BC            [ 4] 1540 	cp	a, h
   0A3C 9D            [ 4] 1541 	sbc	a, l
   0A3D E2r42r0A      [10] 1542 	jp	PO, 00628$
   0A40 EE 80         [ 7] 1543 	xor	a, #0x80
   0A42                    1544 00628$:
   0A42 F2r4Ar0A      [10] 1545 	jp	P,00267$
   0A45 21 E0 00      [10] 1546 	ld	hl,#0x00E0
   0A48 18 08         [12] 1547 	jr	00266$
   0A4A                    1548 00267$:
   0A4A 21 20 FF      [10] 1549 	ld	hl,#0xFF20
   0A4D 18 03         [12] 1550 	jr	00266$
   0A4F                    1551 00265$:
   0A4F 21 00 00      [10] 1552 	ld	hl,#0x0000
   0A52                    1553 00266$:
   0A52 22r00r00      [16] 1554 	ld	(_pvy),hl
   0A55 3Ar00r00      [13] 1555 	ld	a,(#_pcy + 0)
   0A58 32r00r00      [13] 1556 	ld	(#_pry + 0),a
   0A5B FD 21r00r00   [14] 1557 	ld	iy,#_pry
   0A5F FD 6E 00      [19] 1558 	ld	l,0 (iy)
   0A62 26 00         [ 7] 1559 	ld	h,#0x00
   0A64 29            [11] 1560 	add	hl, hl
   0A65 29            [11] 1561 	add	hl, hl
   0A66 29            [11] 1562 	add	hl, hl
   0A67 29            [11] 1563 	add	hl, hl
   0A68 29            [11] 1564 	add	hl, hl
   0A69 29            [11] 1565 	add	hl, hl
   0A6A 22r00r00      [16] 1566 	ld	(_py),hl
   0A6D 18 54         [12] 1567 	jr	00241$
   0A6F                    1568 00240$:
                           1569 ;engine/player.c:807: if (hith) { phit = 1; pvx = ADD_SIGN (-pvx, PLAYER_V_REBOUND); prx = pcx; px = prx << FIXBITS; }
   0A6F 3Ar00r00      [13] 1570 	ld	a,(#_hith + 0)
   0A72 B7            [ 4] 1571 	or	a, a
   0A73 28 4E         [12] 1572 	jr	Z,00241$
   0A75 21r00r00      [10] 1573 	ld	hl,#_phit + 0
   0A78 36 01         [10] 1574 	ld	(hl), #0x01
   0A7A AF            [ 4] 1575 	xor	a, a
   0A7B FD 21r00r00   [14] 1576 	ld	iy,#_pvx
   0A7F FD 96 00      [19] 1577 	sub	a, 0 (iy)
   0A82 67            [ 4] 1578 	ld	h,a
   0A83 3E 00         [ 7] 1579 	ld	a, #0x00
   0A85 FD 21r00r00   [14] 1580 	ld	iy,#_pvx
   0A89 FD 9E 01      [19] 1581 	sbc	a, 1 (iy)
   0A8C 6F            [ 4] 1582 	ld	l,a
   0A8D B4            [ 4] 1583 	or	a,h
   0A8E 28 15         [12] 1584 	jr	Z,00269$
   0A90 AF            [ 4] 1585 	xor	a, a
   0A91 BC            [ 4] 1586 	cp	a, h
   0A92 9D            [ 4] 1587 	sbc	a, l
   0A93 E2r98r0A      [10] 1588 	jp	PO, 00629$
   0A96 EE 80         [ 7] 1589 	xor	a, #0x80
   0A98                    1590 00629$:
   0A98 F2rA0r0A      [10] 1591 	jp	P,00271$
   0A9B 21 E0 00      [10] 1592 	ld	hl,#0x00E0
   0A9E 18 08         [12] 1593 	jr	00270$
   0AA0                    1594 00271$:
   0AA0 21 20 FF      [10] 1595 	ld	hl,#0xFF20
   0AA3 18 03         [12] 1596 	jr	00270$
   0AA5                    1597 00269$:
   0AA5 21 00 00      [10] 1598 	ld	hl,#0x0000
   0AA8                    1599 00270$:
   0AA8 22r00r00      [16] 1600 	ld	(_pvx),hl
   0AAB 3Ar00r00      [13] 1601 	ld	a,(#_pcx + 0)
   0AAE 32r00r00      [13] 1602 	ld	(#_prx + 0),a
   0AB1 FD 21r00r00   [14] 1603 	ld	iy,#_prx
   0AB5 FD 6E 00      [19] 1604 	ld	l,0 (iy)
   0AB8 26 00         [ 7] 1605 	ld	h,#0x00
   0ABA 29            [11] 1606 	add	hl, hl
   0ABB 29            [11] 1607 	add	hl, hl
   0ABC 29            [11] 1608 	add	hl, hl
   0ABD 29            [11] 1609 	add	hl, hl
   0ABE 29            [11] 1610 	add	hl, hl
   0ABF 29            [11] 1611 	add	hl, hl
   0AC0 22r00r00      [16] 1612 	ld	(_px),hl
   0AC3                    1613 00241$:
                           1614 ;engine/player.c:811: cx1 = cx2 = (prx + 4) >> 4;
   0AC3 21r00r00      [10] 1615 	ld	hl,#_prx + 0
   0AC6 5E            [ 7] 1616 	ld	e, (hl)
   0AC7 16 00         [ 7] 1617 	ld	d,#0x00
   0AC9 13            [ 6] 1618 	inc	de
   0ACA 13            [ 6] 1619 	inc	de
   0ACB 13            [ 6] 1620 	inc	de
   0ACC 13            [ 6] 1621 	inc	de
   0ACD CB 2A         [ 8] 1622 	sra	d
   0ACF CB 1B         [ 8] 1623 	rr	e
   0AD1 CB 2A         [ 8] 1624 	sra	d
   0AD3 CB 1B         [ 8] 1625 	rr	e
   0AD5 CB 2A         [ 8] 1626 	sra	d
   0AD7 CB 1B         [ 8] 1627 	rr	e
   0AD9 CB 2A         [ 8] 1628 	sra	d
   0ADB CB 1B         [ 8] 1629 	rr	e
   0ADD 21r00r00      [10] 1630 	ld	hl,#_cx2 + 0
   0AE0 73            [ 7] 1631 	ld	(hl), e
   0AE1 21r00r00      [10] 1632 	ld	hl,#_cx1 + 0
   0AE4 73            [ 7] 1633 	ld	(hl), e
                           1634 ;engine/player.c:812: cy1 = pry >> 4; cy2 = (pry + 15) >> 4;
   0AE5 3Ar00r00      [13] 1635 	ld	a,(#_pry + 0)
   0AE8 07            [ 4] 1636 	rlca
   0AE9 07            [ 4] 1637 	rlca
   0AEA 07            [ 4] 1638 	rlca
   0AEB 07            [ 4] 1639 	rlca
   0AEC E6 0F         [ 7] 1640 	and	a,#0x0F
   0AEE 32r00r00      [13] 1641 	ld	(#_cy1 + 0),a
   0AF1 FD 21r00r00   [14] 1642 	ld	iy,#_pry
   0AF5 FD 6E 00      [19] 1643 	ld	l,0 (iy)
   0AF8 26 00         [ 7] 1644 	ld	h,#0x00
   0AFA 01 0F 00      [10] 1645 	ld	bc,#0x000F
   0AFD 09            [11] 1646 	add	hl,bc
   0AFE CB 2C         [ 8] 1647 	sra	h
   0B00 CB 1D         [ 8] 1648 	rr	l
   0B02 CB 2C         [ 8] 1649 	sra	h
   0B04 CB 1D         [ 8] 1650 	rr	l
   0B06 CB 2C         [ 8] 1651 	sra	h
   0B08 CB 1D         [ 8] 1652 	rr	l
   0B0A CB 2C         [ 8] 1653 	sra	h
   0B0C CB 1D         [ 8] 1654 	rr	l
   0B0E FD 21r00r00   [14] 1655 	ld	iy,#_cy2
   0B12 FD 75 00      [19] 1656 	ld	0 (iy),l
                           1657 ;engine/player.c:813: cm_two_points ();
   0B15 CDr00r00      [17] 1658 	call	_cm_two_points
                           1659 ;engine/player.c:814: if ((at1 & 1) || (at2 & 1)) phit = 1;
   0B18 FD 21r00r00   [14] 1660 	ld	iy,#_at1
   0B1C FD CB 00 46   [20] 1661 	bit	0, 0 (iy)
   0B20 20 0A         [12] 1662 	jr	NZ,00242$
   0B22 FD 21r00r00   [14] 1663 	ld	iy,#_at2
   0B26 FD CB 00 46   [20] 1664 	bit	0, 0 (iy)
   0B2A 28 08         [12] 1665 	jr	Z,00243$
   0B2C                    1666 00242$:
   0B2C FD 21r00r00   [14] 1667 	ld	iy,#_phit
   0B30 FD 36 00 01   [19] 1668 	ld	0 (iy),#0x01
   0B34                    1669 00243$:
                           1670 ;engine/player.c:817: if (!pflickering && !pbouncing) if (phit) { 
   0B34 3Ar00r00      [13] 1671 	ld	a,(#_pflickering + 0)
   0B37 B7            [ 4] 1672 	or	a, a
   0B38 20 1F         [12] 1673 	jr	NZ,00251$
   0B3A 3Ar00r00      [13] 1674 	ld	a,(#_pbouncing + 0)
   0B3D B7            [ 4] 1675 	or	a, a
   0B3E 20 19         [12] 1676 	jr	NZ,00251$
   0B40 3Ar00r00      [13] 1677 	ld	a,(#_phit + 0)
   0B43 B7            [ 4] 1678 	or	a, a
   0B44 28 13         [12] 1679 	jr	Z,00251$
                           1680 ;engine/player.c:818: player_to_pixels ();
   0B46 CDr9Dr00      [17] 1681 	call	_player_to_pixels
                           1682 ;engine/player.c:819: en_sg_2 = 1;
   0B49 FD 21r00r00   [14] 1683 	ld	iy,#_en_sg_2
   0B4D FD 36 00 01   [19] 1684 	ld	0 (iy),#0x01
                           1685 ;engine/player.c:826: pkill = en_sg_2;
   0B51 FD 21r00r00   [14] 1686 	ld	iy,#_pkill
   0B55 FD 36 00 01   [19] 1687 	ld	0 (iy),#0x01
   0B59                    1688 00251$:
                           1689 ;engine/../my/player_frame_selector.h:37: if (ppossee || pgotten) {
   0B59 3Ar00r00      [13] 1690 	ld	a,(#_ppossee + 0)
   0B5C B7            [ 4] 1691 	or	a, a
   0B5D 20 06         [12] 1692 	jr	NZ,00256$
   0B5F 3Ar00r00      [13] 1693 	ld	a,(#_pgotten + 0)
   0B62 B7            [ 4] 1694 	or	a, a
   0B63 28 41         [12] 1695 	jr	Z,00257$
   0B65                    1696 00256$:
                           1697 ;engine/../my/player_frame_selector.h:39: if (pvx > PLAYER_VX_MIN || pvx < -PLAYER_VX_MIN) {
   0B65 3E 18         [ 7] 1698 	ld	a,#0x18
   0B67 FD 21r00r00   [14] 1699 	ld	iy,#_pvx
   0B6B FD BE 00      [19] 1700 	cp	a, 0 (iy)
   0B6E 3E 00         [ 7] 1701 	ld	a,#0x00
   0B70 FD 21r00r00   [14] 1702 	ld	iy,#_pvx
   0B74 FD 9E 01      [19] 1703 	sbc	a, 1 (iy)
   0B77 E2r7Cr0B      [10] 1704 	jp	PO, 00633$
   0B7A EE 80         [ 7] 1705 	xor	a, #0x80
   0B7C                    1706 00633$:
   0B7C FAr8Er0B      [10] 1707 	jp	M,00252$
   0B7F 3Ar00r00      [13] 1708 	ld	a,(#_pvx + 0)
   0B82 D6 E8         [ 7] 1709 	sub	a, #0xE8
   0B84 3Ar01r00      [13] 1710 	ld	a,(#_pvx + 1)
   0B87 17            [ 4] 1711 	rla
   0B88 3F            [ 4] 1712 	ccf
   0B89 1F            [ 4] 1713 	rra
   0B8A DE 7F         [ 7] 1714 	sbc	a, #0x7F
   0B8C 30 11         [12] 1715 	jr	NC,00253$
   0B8E                    1716 00252$:
                           1717 ;engine/../my/player_frame_selector.h:40: psprid = CELL_WALK_CYCLE + ((prx >> 3) & 3);
   0B8E 3Ar00r00      [13] 1718 	ld	a,(#_prx + 0)
   0B91 0F            [ 4] 1719 	rrca
   0B92 0F            [ 4] 1720 	rrca
   0B93 0F            [ 4] 1721 	rrca
   0B94 E6 1F         [ 7] 1722 	and	a,#0x1F
   0B96 E6 03         [ 7] 1723 	and	a, #0x03
   0B98 21r00r00      [10] 1724 	ld	hl,#_psprid
   0B9B 3C            [ 4] 1725 	inc	a
   0B9C 77            [ 7] 1726 	ld	(hl),a
   0B9D 18 0C         [12] 1727 	jr	00258$
   0B9F                    1728 00253$:
                           1729 ;engine/../my/player_frame_selector.h:42: psprid = CELL_IDLE;
   0B9F 21r00r00      [10] 1730 	ld	hl,#_psprid + 0
   0BA2 36 00         [10] 1731 	ld	(hl), #0x00
   0BA4 18 05         [12] 1732 	jr	00258$
   0BA6                    1733 00257$:
                           1734 ;engine/../my/player_frame_selector.h:45: psprid = CELL_AIRBORNE;
   0BA6 21r00r00      [10] 1735 	ld	hl,#_psprid + 0
   0BA9 36 04         [10] 1736 	ld	(hl), #0x04
   0BAB                    1737 00258$:
                           1738 ;engine/../my/player_frame_selector.h:55: psprid += pfacing;
   0BAB 21r00r00      [10] 1739 	ld	hl,#_pfacing
   0BAE D5            [11] 1740 	push	de
   0BAF FD 21r00r00   [14] 1741 	ld	iy,#_psprid
   0BB3 FD E5         [15] 1742 	push	iy
   0BB5 D1            [10] 1743 	pop	de
   0BB6 1A            [ 7] 1744 	ld	a,(de)
   0BB7 86            [ 7] 1745 	add	a, (hl)
   0BB8 12            [ 7] 1746 	ld	(de),a
   0BB9 D1            [10] 1747 	pop	de
                           1748 ;engine/player.c:946: prx_old = prx;
   0BBA 3Ar00r00      [13] 1749 	ld	a,(#_prx + 0)
   0BBD 32r00r00      [13] 1750 	ld	(#_prx_old + 0),a
                           1751 ;engine/player.c:947: pry_old = pry;
   0BC0 3Ar00r00      [13] 1752 	ld	a,(#_pry + 0)
   0BC3 32r00r00      [13] 1753 	ld	(#_pry_old + 0),a
   0BC6 DD F9         [10] 1754 	ld	sp, ix
   0BC8 DD E1         [14] 1755 	pop	ix
   0BCA C9            [10] 1756 	ret
                           1757 	.area _CODE
                           1758 	.area _INITIALIZER
                           1759 	.area _CABS (ABS)
