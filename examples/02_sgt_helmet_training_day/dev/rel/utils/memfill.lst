                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.2 #9293 (MINGW32)
                              4 ; This file was generated Fri Sep 13 13:00:35 2019
                              5 ;--------------------------------------------------------
                              6 	.module memfill
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memfill
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ; ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; ram data
                             22 ;--------------------------------------------------------
                             23 	.area _INITIALIZED
                             24 ;--------------------------------------------------------
                             25 ; absolute external ram data
                             26 ;--------------------------------------------------------
                             27 	.area _DABS (ABS)
                             28 ;--------------------------------------------------------
                             29 ; global & static initialisations
                             30 ;--------------------------------------------------------
                             31 	.area _HOME
                             32 	.area _GSINIT
                             33 	.area _GSFINAL
                             34 	.area _GSINIT
                             35 ;--------------------------------------------------------
                             36 ; Home
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 	.area _HOME
                             40 ;--------------------------------------------------------
                             41 ; code
                             42 ;--------------------------------------------------------
                             43 	.area _CODE
                             44 ;./utils/memfill.c:8: void memfill (void *ptr, unsigned char value, unsigned int length) {
                             45 ;	---------------------------------
                             46 ; Function memfill
                             47 ; ---------------------------------
   0000                      48 _memfill::
                             49 ;./utils/memfill.c:9: if (length) {
   0000 FD 21 05 00   [14]   50 	ld	iy,#5
   0004 FD 39         [15]   51 	add	iy,sp
   0006 FD 7E 01      [19]   52 	ld	a,1 (iy)
   0009 FD B6 00      [19]   53 	or	a,0 (iy)
   000C C8            [11]   54 	ret	Z
                             55 ;./utils/memfill.c:28: __endasm;
   000D 21 02 00      [10]   56 	ld hl, #2
   0010 39            [11]   57 	add hl, sp
   0011 5E            [ 7]   58 	ld e, (hl)
   0012 23            [ 6]   59 	inc hl
   0013 56            [ 7]   60 	ld d, (hl) ; DE = *ptr
   0014 23            [ 6]   61 	inc hl
   0015 7E            [ 7]   62 	ld a, (hl) ; A = value
   0016 23            [ 6]   63 	inc hl
   0017 4E            [ 7]   64 	ld c, (hl)
   0018 23            [ 6]   65 	inc hl
   0019 46            [ 7]   66 	ld b, (hl) ; BC = length
   001A 62            [ 4]   67 	ld h, d
   001B 6B            [ 4]   68 	ld l, e
   001C 13            [ 6]   69 	inc de
   001D 77            [ 7]   70 	ld (hl), a
   001E ED B0         [21]   71 	ldir
   0020 C9            [10]   72 	ret
                             73 	.area _CODE
                             74 	.area _INITIALIZER
                             75 	.area _CABS (ABS)
