                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.2 #9293 (MINGW32)
                              4 ; This file was generated Wed Sep 11 14:10:15 2019
                              5 ;--------------------------------------------------------
                              6 	.module cocos
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _cocos_do
                             13 	.globl _cocos_destroy
                             14 	.globl _cocos_shoot_linear
                             15 	.globl _cocos_init
                             16 	.globl _PSGSFXPlay
                             17 	.globl _SG_addSprite
                             18 ;--------------------------------------------------------
                             19 ; special function registers
                             20 ;--------------------------------------------------------
                     00BF    21 _VDPControlPort	=	0x00bf
                     00BF    22 _VDPStatusPort	=	0x00bf
                     00BE    23 _VDPDataPort	=	0x00be
                     007E    24 _VDPVCounterPort	=	0x007e
                     007F    25 _VDPHCounterPort	=	0x007f
                     00DC    26 _IOPortL	=	0x00dc
                     00DD    27 _IOPortH	=	0x00dd
                             28 ;--------------------------------------------------------
                             29 ; ram data
                             30 ;--------------------------------------------------------
                             31 	.area _DATA
                             32 ;--------------------------------------------------------
                             33 ; ram data
                             34 ;--------------------------------------------------------
                             35 	.area _INITIALIZED
                             36 ;--------------------------------------------------------
                             37 ; absolute external ram data
                             38 ;--------------------------------------------------------
                             39 	.area _DABS (ABS)
                             40 ;--------------------------------------------------------
                             41 ; global & static initialisations
                             42 ;--------------------------------------------------------
                             43 	.area _HOME
                             44 	.area _GSINIT
                             45 	.area _GSFINAL
                             46 	.area _GSINIT
                             47 ;--------------------------------------------------------
                             48 ; Home
                             49 ;--------------------------------------------------------
                             50 	.area _HOME
                             51 	.area _HOME
                             52 ;--------------------------------------------------------
                             53 ; code
                             54 ;--------------------------------------------------------
                             55 	.area _CODE
                             56 ;./engine/cocos.c:29: void cocos_init (void) {
                             57 ;	---------------------------------
                             58 ; Function cocos_init
                             59 ; ---------------------------------
   0000                      60 _cocos_init::
                             61 ;./engine/cocos.c:30: coco_it = COCOS_MAX; while (coco_it --) {
   0000 21r00r00      [10]   62 	ld	hl,#_coco_it + 0
   0003 36 04         [10]   63 	ld	(hl), #0x04
   0005 11r00r00      [10]   64 	ld	de,#_coco_on+0
   0008                      65 00101$:
   0008 21r00r00      [10]   66 	ld	hl,#_coco_it + 0
   000B 46            [ 7]   67 	ld	b, (hl)
   000C 21r00r00      [10]   68 	ld	hl, #_coco_it+0
   000F 35            [11]   69 	dec	(hl)
   0010 78            [ 4]   70 	ld	a,b
   0011 B7            [ 4]   71 	or	a, a
   0012 28 1A         [12]   72 	jr	Z,00103$
                             73 ;./engine/cocos.c:31: coco_slots [coco_it] = coco_it;
   0014 3Er00         [ 7]   74 	ld	a,#<(_coco_slots)
   0016 21r00r00      [10]   75 	ld	hl,#_coco_it
   0019 86            [ 7]   76 	add	a, (hl)
   001A 4F            [ 4]   77 	ld	c,a
   001B 3Es00         [ 7]   78 	ld	a,#>(_coco_slots)
   001D CE 00         [ 7]   79 	adc	a, #0x00
   001F 47            [ 4]   80 	ld	b,a
   0020 3Ar00r00      [13]   81 	ld	a,(#_coco_it + 0)
   0023 02            [ 7]   82 	ld	(bc),a
                             83 ;./engine/cocos.c:32: coco_on [coco_it] = 0;
   0024 2Ar00r00      [16]   84 	ld	hl,(_coco_it)
   0027 26 00         [ 7]   85 	ld	h,#0x00
   0029 19            [11]   86 	add	hl,de
   002A 36 00         [10]   87 	ld	(hl),#0x00
   002C 18 DA         [12]   88 	jr	00101$
   002E                      89 00103$:
                             90 ;./engine/cocos.c:34: coco_slots_i = COCOS_MAX;
   002E 21r00r00      [10]   91 	ld	hl,#_coco_slots_i + 0
   0031 36 04         [10]   92 	ld	(hl), #0x04
   0033 C9            [10]   93 	ret
                             94 ;./engine/cocos.c:68: void cocos_shoot_linear (void) {
                             95 ;	---------------------------------
                             96 ; Function cocos_shoot_linear
                             97 ; ---------------------------------
   0034                      98 _cocos_shoot_linear::
                             99 ;./engine/cocos.c:69: if (coco_slots_i == 0) return;
   0034 3Ar00r00      [13]  100 	ld	a,(#_coco_slots_i + 0)
   0037 B7            [ 4]  101 	or	a, a
   0038 C8            [11]  102 	ret	Z
                            103 ;./engine/cocos.c:71: -- coco_slots_i; coco_it = coco_slots [coco_slots_i];
   0039 21r00r00      [10]  104 	ld	hl, #_coco_slots_i+0
   003C 35            [11]  105 	dec	(hl)
   003D 11r00r00      [10]  106 	ld	de,#_coco_slots+0
   0040 2Ar00r00      [16]  107 	ld	hl,(_coco_slots_i)
   0043 26 00         [ 7]  108 	ld	h,#0x00
   0045 19            [11]  109 	add	hl,de
   0046 7E            [ 7]  110 	ld	a,(hl)
   0047 32r00r00      [13]  111 	ld	(#_coco_it + 0),a
                            112 ;./engine/cocos.c:73: coco_x [coco_it] = rdx << 6;
   004A 01r00r00      [10]  113 	ld	bc,#_coco_x+0
   004D FD 21r00r00   [14]  114 	ld	iy,#_coco_it
   0051 FD 6E 00      [19]  115 	ld	l,0 (iy)
   0054 26 00         [ 7]  116 	ld	h,#0x00
   0056 29            [11]  117 	add	hl, hl
   0057 09            [11]  118 	add	hl,bc
   0058 55            [ 4]  119 	ld	d,l
   0059 5C            [ 4]  120 	ld	e,h
   005A FD 21r00r00   [14]  121 	ld	iy,#_rdx
   005E FD 6E 00      [19]  122 	ld	l,0 (iy)
   0061 26 00         [ 7]  123 	ld	h,#0x00
   0063 29            [11]  124 	add	hl, hl
   0064 29            [11]  125 	add	hl, hl
   0065 29            [11]  126 	add	hl, hl
   0066 29            [11]  127 	add	hl, hl
   0067 29            [11]  128 	add	hl, hl
   0068 29            [11]  129 	add	hl, hl
   0069 4D            [ 4]  130 	ld	c, l
   006A 44            [ 4]  131 	ld	b, h
   006B 6A            [ 4]  132 	ld	l, d
   006C 63            [ 4]  133 	ld	h, e
   006D 71            [ 7]  134 	ld	(hl),c
   006E 23            [ 6]  135 	inc	hl
   006F 70            [ 7]  136 	ld	(hl),b
                            137 ;./engine/cocos.c:74: coco_y [coco_it] = rdy << 6;
   0070 01r00r00      [10]  138 	ld	bc,#_coco_y+0
   0073 FD 21r00r00   [14]  139 	ld	iy,#_coco_it
   0077 FD 6E 00      [19]  140 	ld	l,0 (iy)
   007A 26 00         [ 7]  141 	ld	h,#0x00
   007C 29            [11]  142 	add	hl, hl
   007D 09            [11]  143 	add	hl,bc
   007E 55            [ 4]  144 	ld	d,l
   007F 5C            [ 4]  145 	ld	e,h
   0080 FD 21r00r00   [14]  146 	ld	iy,#_rdy
   0084 FD 6E 00      [19]  147 	ld	l,0 (iy)
   0087 26 00         [ 7]  148 	ld	h,#0x00
   0089 29            [11]  149 	add	hl, hl
   008A 29            [11]  150 	add	hl, hl
   008B 29            [11]  151 	add	hl, hl
   008C 29            [11]  152 	add	hl, hl
   008D 29            [11]  153 	add	hl, hl
   008E 29            [11]  154 	add	hl, hl
   008F 4D            [ 4]  155 	ld	c, l
   0090 44            [ 4]  156 	ld	b, h
   0091 6A            [ 4]  157 	ld	l, d
   0092 63            [ 4]  158 	ld	h, e
   0093 71            [ 7]  159 	ld	(hl),c
   0094 23            [ 6]  160 	inc	hl
   0095 70            [ 7]  161 	ld	(hl),b
                            162 ;./engine/cocos.c:76: coco_vx [coco_it] = coco_dx [rda];
   0096 11r00r00      [10]  163 	ld	de,#_coco_vx+0
   0099 FD 21r00r00   [14]  164 	ld	iy,#_coco_it
   009D FD 6E 00      [19]  165 	ld	l,0 (iy)
   00A0 26 00         [ 7]  166 	ld	h,#0x00
   00A2 29            [11]  167 	add	hl, hl
   00A3 19            [11]  168 	add	hl,de
   00A4 EB            [ 4]  169 	ex	de,hl
   00A5 FD 21r00r00   [14]  170 	ld	iy,#_rda
   00A9 FD 6E 00      [19]  171 	ld	l,0 (iy)
   00AC 26 00         [ 7]  172 	ld	h,#0x00
   00AE 29            [11]  173 	add	hl, hl
   00AF 01r00r00      [10]  174 	ld	bc,#_coco_dx
   00B2 09            [11]  175 	add	hl,bc
   00B3 46            [ 7]  176 	ld	b,(hl)
   00B4 23            [ 6]  177 	inc	hl
   00B5 4E            [ 7]  178 	ld	c,(hl)
   00B6 78            [ 4]  179 	ld	a,b
   00B7 12            [ 7]  180 	ld	(de),a
   00B8 13            [ 6]  181 	inc	de
   00B9 79            [ 4]  182 	ld	a,c
   00BA 12            [ 7]  183 	ld	(de),a
                            184 ;./engine/cocos.c:77: coco_vy [coco_it] = coco_dy [rda];
   00BB 11r00r00      [10]  185 	ld	de,#_coco_vy+0
   00BE FD 21r00r00   [14]  186 	ld	iy,#_coco_it
   00C2 FD 6E 00      [19]  187 	ld	l,0 (iy)
   00C5 26 00         [ 7]  188 	ld	h,#0x00
   00C7 29            [11]  189 	add	hl, hl
   00C8 19            [11]  190 	add	hl,de
   00C9 EB            [ 4]  191 	ex	de,hl
   00CA FD 21r00r00   [14]  192 	ld	iy,#_rda
   00CE FD 6E 00      [19]  193 	ld	l,0 (iy)
   00D1 26 00         [ 7]  194 	ld	h,#0x00
   00D3 29            [11]  195 	add	hl, hl
   00D4 01r00r00      [10]  196 	ld	bc,#_coco_dy
   00D7 09            [11]  197 	add	hl,bc
   00D8 46            [ 7]  198 	ld	b,(hl)
   00D9 23            [ 6]  199 	inc	hl
   00DA 4E            [ 7]  200 	ld	c,(hl)
   00DB 78            [ 4]  201 	ld	a,b
   00DC 12            [ 7]  202 	ld	(de),a
   00DD 13            [ 6]  203 	inc	de
   00DE 79            [ 4]  204 	ld	a,c
   00DF 12            [ 7]  205 	ld	(de),a
                            206 ;./engine/cocos.c:79: coco_on [coco_it] = 1;
   00E0 11r00r00      [10]  207 	ld	de,#_coco_on+0
   00E3 2Ar00r00      [16]  208 	ld	hl,(_coco_it)
   00E6 26 00         [ 7]  209 	ld	h,#0x00
   00E8 19            [11]  210 	add	hl,de
   00E9 36 01         [10]  211 	ld	(hl),#0x01
                            212 ;./engine/cocos.c:81: PSGSFXPlay (SFX_COCO, 1);
   00EB 11r00r00      [10]  213 	ld	de,#_s_10_coco2_psg
   00EE 3E 01         [ 7]  214 	ld	a,#0x01
   00F0 F5            [11]  215 	push	af
   00F1 33            [ 6]  216 	inc	sp
   00F2 D5            [11]  217 	push	de
   00F3 CDr00r00      [17]  218 	call	_PSGSFXPlay
   00F6 F1            [10]  219 	pop	af
   00F7 33            [ 6]  220 	inc	sp
   00F8 C9            [10]  221 	ret
                            222 ;./engine/cocos.c:85: void cocos_destroy (void) {
                            223 ;	---------------------------------
                            224 ; Function cocos_destroy
                            225 ; ---------------------------------
   00F9                     226 _cocos_destroy::
                            227 ;./engine/cocos.c:86: coco_on [coco_it] = 0;
   00F9 11r00r00      [10]  228 	ld	de,#_coco_on+0
   00FC 2Ar00r00      [16]  229 	ld	hl,(_coco_it)
   00FF 26 00         [ 7]  230 	ld	h,#0x00
   0101 19            [11]  231 	add	hl,de
   0102 36 00         [10]  232 	ld	(hl),#0x00
                            233 ;./engine/cocos.c:87: coco_slots [coco_slots_i] = coco_it; coco_slots_i ++;
   0104 11r00r00      [10]  234 	ld	de,#_coco_slots+0
   0107 2Ar00r00      [16]  235 	ld	hl,(_coco_slots_i)
   010A 26 00         [ 7]  236 	ld	h,#0x00
   010C 19            [11]  237 	add	hl,de
   010D 3Ar00r00      [13]  238 	ld	a,(#_coco_it + 0)
   0110 77            [ 7]  239 	ld	(hl),a
   0111 21r00r00      [10]  240 	ld	hl, #_coco_slots_i+0
   0114 34            [11]  241 	inc	(hl)
                            242 ;./engine/cocos.c:88: PSGSFXPlay (SFX_DUMMY1, 3);
   0115 11r00r00      [10]  243 	ld	de,#_s_06_dummy13_psg
   0118 3E 03         [ 7]  244 	ld	a,#0x03
   011A F5            [11]  245 	push	af
   011B 33            [ 6]  246 	inc	sp
   011C D5            [11]  247 	push	de
   011D CDr00r00      [17]  248 	call	_PSGSFXPlay
   0120 F1            [10]  249 	pop	af
   0121 33            [ 6]  250 	inc	sp
   0122 C9            [10]  251 	ret
                            252 ;./engine/cocos.c:91: void cocos_do (void) {
                            253 ;	---------------------------------
                            254 ; Function cocos_do
                            255 ; ---------------------------------
   0123                     256 _cocos_do::
   0123 DD E5         [15]  257 	push	ix
   0125 DD 21 00 00   [14]  258 	ld	ix,#0
   0129 DD 39         [15]  259 	add	ix,sp
   012B 21 F7 FF      [10]  260 	ld	hl,#-9
   012E 39            [11]  261 	add	hl,sp
   012F F9            [ 6]  262 	ld	sp,hl
                            263 ;./engine/cocos.c:92: coco_it = COCOS_MAX; while (coco_it --) if (coco_on [coco_it]) {
   0130 21r00r00      [10]  264 	ld	hl,#_coco_it + 0
   0133 36 04         [10]  265 	ld	(hl), #0x04
   0135                     266 00116$:
   0135 3Ar00r00      [13]  267 	ld	a,(#_coco_it + 0)
   0138 DD 77 F7      [19]  268 	ld	-9 (ix),a
   013B 21r00r00      [10]  269 	ld	hl, #_coco_it+0
   013E 35            [11]  270 	dec	(hl)
   013F DD 7E F7      [19]  271 	ld	a,-9 (ix)
   0142 B7            [ 4]  272 	or	a, a
   0143 CAr79r03      [10]  273 	jp	Z,00119$
   0146 3Er00         [ 7]  274 	ld	a,#<(_coco_on)
   0148 21r00r00      [10]  275 	ld	hl,#_coco_it
   014B 86            [ 7]  276 	add	a, (hl)
   014C DD 77 FE      [19]  277 	ld	-2 (ix),a
   014F 3Es00         [ 7]  278 	ld	a,#>(_coco_on)
   0151 CE 00         [ 7]  279 	adc	a, #0x00
   0153 DD 77 FF      [19]  280 	ld	-1 (ix),a
   0156 DD 6E FE      [19]  281 	ld	l,-2 (ix)
   0159 DD 66 FF      [19]  282 	ld	h,-1 (ix)
   015C 7E            [ 7]  283 	ld	a,(hl)
   015D DD 77 FE      [19]  284 	ld	-2 (ix), a
   0160 B7            [ 4]  285 	or	a, a
   0161 28 D2         [12]  286 	jr	Z,00116$
                            287 ;./engine/cocos.c:94: coco_x [coco_it] += coco_vx [coco_it];
   0163 3Ar00r00      [13]  288 	ld	a,(#_coco_it + 0)
   0166 DD 77 FE      [19]  289 	ld	-2 (ix),a
   0169 DD 36 FF 00   [19]  290 	ld	-1 (ix),#0x00
   016D DD 4E FE      [19]  291 	ld	c,-2 (ix)
   0170 DD 46 FF      [19]  292 	ld	b,-1 (ix)
   0173 CB 21         [ 8]  293 	sla	c
   0175 CB 10         [ 8]  294 	rl	b
   0177 FD 21r00r00   [14]  295 	ld	iy,#_coco_x
   017B FD 09         [15]  296 	add	iy, bc
   017D FD 5E 00      [19]  297 	ld	e,0 (iy)
   0180 FD 56 01      [19]  298 	ld	d,1 (iy)
   0183 21r00r00      [10]  299 	ld	hl,#_coco_vx
   0186 09            [11]  300 	add	hl,bc
   0187 7E            [ 7]  301 	ld	a, (hl)
   0188 23            [ 6]  302 	inc	hl
   0189 66            [ 7]  303 	ld	h,(hl)
   018A 6F            [ 4]  304 	ld	l,a
   018B 19            [11]  305 	add	hl,de
   018C FD 75 00      [19]  306 	ld	0 (iy),l
   018F FD 74 01      [19]  307 	ld	1 (iy),h
                            308 ;./engine/cocos.c:95: coco_y [coco_it] += coco_vy [coco_it];
   0192 FD 21r00r00   [14]  309 	ld	iy,#_coco_it
   0196 FD 6E 00      [19]  310 	ld	l,0 (iy)
   0199 26 00         [ 7]  311 	ld	h,#0x00
   019B 29            [11]  312 	add	hl, hl
   019C 4D            [ 4]  313 	ld	c, l
   019D 44            [ 4]  314 	ld	b, h
   019E FD 21r00r00   [14]  315 	ld	iy,#_coco_y
   01A2 FD 09         [15]  316 	add	iy, bc
   01A4 FD 5E 00      [19]  317 	ld	e,0 (iy)
   01A7 FD 56 01      [19]  318 	ld	d,1 (iy)
   01AA 21r00r00      [10]  319 	ld	hl,#_coco_vy
   01AD 09            [11]  320 	add	hl,bc
   01AE 7E            [ 7]  321 	ld	a, (hl)
   01AF 23            [ 6]  322 	inc	hl
   01B0 66            [ 7]  323 	ld	h,(hl)
   01B1 6F            [ 4]  324 	ld	l,a
   01B2 19            [11]  325 	add	hl,de
   01B3 FD 75 00      [19]  326 	ld	0 (iy),l
   01B6 FD 74 01      [19]  327 	ld	1 (iy),h
                            328 ;./engine/cocos.c:98: if (coco_x [coco_it] < 0 || coco_x [coco_it] > 248<<FIXBITS || coco_y [coco_it] < 16<<FIXBITS || coco_y [coco_it] > 200<<FIXBITS) {
   01B9 FD 21r00r00   [14]  329 	ld	iy,#_coco_it
   01BD FD 6E 00      [19]  330 	ld	l,0 (iy)
   01C0 26 00         [ 7]  331 	ld	h,#0x00
   01C2 29            [11]  332 	add	hl, hl
   01C3 4D            [ 4]  333 	ld	c, l
   01C4 44            [ 4]  334 	ld	b, h
   01C5 21r00r00      [10]  335 	ld	hl,#_coco_x
   01C8 09            [11]  336 	add	hl,bc
   01C9 5E            [ 7]  337 	ld	e,(hl)
   01CA 23            [ 6]  338 	inc	hl
   01CB 56            [ 7]  339 	ld	d,(hl)
   01CC CB 7A         [ 8]  340 	bit	7, d
   01CE 20 28         [12]  341 	jr	NZ,00101$
   01D0 AF            [ 4]  342 	xor	a, a
   01D1 BB            [ 4]  343 	cp	a, e
   01D2 3E 3E         [ 7]  344 	ld	a,#0x3E
   01D4 9A            [ 4]  345 	sbc	a, d
   01D5 E2rDAr01      [10]  346 	jp	PO, 00171$
   01D8 EE 80         [ 7]  347 	xor	a, #0x80
   01DA                     348 00171$:
   01DA FArF8r01      [10]  349 	jp	M,00101$
   01DD 21r00r00      [10]  350 	ld	hl,#_coco_y
   01E0 09            [11]  351 	add	hl,bc
   01E1 4E            [ 7]  352 	ld	c,(hl)
   01E2 23            [ 6]  353 	inc	hl
   01E3 46            [ 7]  354 	ld	b,(hl)
   01E4 78            [ 4]  355 	ld	a,b
   01E5 EE 80         [ 7]  356 	xor	a, #0x80
   01E7 D6 84         [ 7]  357 	sub	a, #0x84
   01E9 38 0D         [12]  358 	jr	C,00101$
   01EB AF            [ 4]  359 	xor	a, a
   01EC B9            [ 4]  360 	cp	a, c
   01ED 3E 32         [ 7]  361 	ld	a,#0x32
   01EF 98            [ 4]  362 	sbc	a, b
   01F0 E2rF5r01      [10]  363 	jp	PO, 00172$
   01F3 EE 80         [ 7]  364 	xor	a, #0x80
   01F5                     365 00172$:
   01F5 F2rFEr01      [10]  366 	jp	P,00102$
   01F8                     367 00101$:
                            368 ;./engine/cocos.c:99: cocos_destroy ();
   01F8 CDrF9r00      [17]  369 	call	_cocos_destroy
                            370 ;./engine/cocos.c:100: continue;
   01FB C3r35r01      [10]  371 	jp	00116$
   01FE                     372 00102$:
                            373 ;./engine/cocos.c:103: rdx = coco_x [coco_it] >> 6;
   01FE CB 2A         [ 8]  374 	sra	d
   0200 CB 1B         [ 8]  375 	rr	e
   0202 CB 2A         [ 8]  376 	sra	d
   0204 CB 1B         [ 8]  377 	rr	e
   0206 CB 2A         [ 8]  378 	sra	d
   0208 CB 1B         [ 8]  379 	rr	e
   020A CB 2A         [ 8]  380 	sra	d
   020C CB 1B         [ 8]  381 	rr	e
   020E CB 2A         [ 8]  382 	sra	d
   0210 CB 1B         [ 8]  383 	rr	e
   0212 CB 2A         [ 8]  384 	sra	d
   0214 CB 1B         [ 8]  385 	rr	e
   0216 21r00r00      [10]  386 	ld	hl,#_rdx + 0
   0219 73            [ 7]  387 	ld	(hl), e
                            388 ;./engine/cocos.c:104: rdy = coco_y [coco_it] >> 6;
   021A CB 28         [ 8]  389 	sra	b
   021C CB 19         [ 8]  390 	rr	c
   021E CB 28         [ 8]  391 	sra	b
   0220 CB 19         [ 8]  392 	rr	c
   0222 CB 28         [ 8]  393 	sra	b
   0224 CB 19         [ 8]  394 	rr	c
   0226 CB 28         [ 8]  395 	sra	b
   0228 CB 19         [ 8]  396 	rr	c
   022A CB 28         [ 8]  397 	sra	b
   022C CB 19         [ 8]  398 	rr	c
   022E CB 28         [ 8]  399 	sra	b
   0230 CB 19         [ 8]  400 	rr	c
   0232 21r00r00      [10]  401 	ld	hl,#_rdy + 0
   0235 71            [ 7]  402 	ld	(hl), c
                            403 ;./engine/cocos.c:107: HW_addSprite (rdx, rdy + SPRITE_ADJUST, COCO_PATTERN, COCO_COLOUR);
   0236 3Ar00r00      [13]  404 	ld	a,(#_rdy + 0)
   0239 C6 F7         [ 7]  405 	add	a, #0xF7
   023B 57            [ 4]  406 	ld	d,a
   023C 21 A4 0F      [10]  407 	ld	hl,#0x0FA4
   023F E5            [11]  408 	push	hl
   0240 D5            [11]  409 	push	de
   0241 33            [ 6]  410 	inc	sp
   0242 3Ar00r00      [13]  411 	ld	a,(_rdx)
   0245 F5            [11]  412 	push	af
   0246 33            [ 6]  413 	inc	sp
   0247 CDr00r00      [17]  414 	call	_SG_addSprite
   024A F1            [10]  415 	pop	af
   024B F1            [10]  416 	pop	af
                            417 ;./engine/cocos.c:111: rdm = c_behs [map_buff [((rdx + 4) >> 4) | ((rdy + 4 - 16) & 0xf0)]];
   024C 3Ar00r00      [13]  418 	ld	a,(#_rdx + 0)
   024F DD 77 FE      [19]  419 	ld	-2 (ix),a
   0252 DD 36 FF 00   [19]  420 	ld	-1 (ix),#0x00
   0256 DD 7E FE      [19]  421 	ld	a,-2 (ix)
   0259 C6 04         [ 7]  422 	add	a, #0x04
   025B 5F            [ 4]  423 	ld	e,a
   025C DD 7E FF      [19]  424 	ld	a,-1 (ix)
   025F CE 00         [ 7]  425 	adc	a, #0x00
   0261 57            [ 4]  426 	ld	d,a
   0262 CB 2A         [ 8]  427 	sra	d
   0264 CB 1B         [ 8]  428 	rr	e
   0266 CB 2A         [ 8]  429 	sra	d
   0268 CB 1B         [ 8]  430 	rr	e
   026A CB 2A         [ 8]  431 	sra	d
   026C CB 1B         [ 8]  432 	rr	e
   026E CB 2A         [ 8]  433 	sra	d
   0270 CB 1B         [ 8]  434 	rr	e
   0272 3Ar00r00      [13]  435 	ld	a,(#_rdy + 0)
   0275 DD 77 FA      [19]  436 	ld	-6 (ix),a
   0278 DD 36 FB 00   [19]  437 	ld	-5 (ix),#0x00
   027C DD 7E FA      [19]  438 	ld	a,-6 (ix)
   027F C6 F4         [ 7]  439 	add	a, #0xF4
   0281 67            [ 4]  440 	ld	h,a
   0282 DD 7E FB      [19]  441 	ld	a,-5 (ix)
   0285 CE FF         [ 7]  442 	adc	a, #0xFF
   0287 7C            [ 4]  443 	ld	a,h
   0288 E6 F0         [ 7]  444 	and	a, #0xF0
   028A 4F            [ 4]  445 	ld	c,a
   028B 06 00         [ 7]  446 	ld	b,#0x00
   028D 7B            [ 4]  447 	ld	a,e
   028E B1            [ 4]  448 	or	a, c
   028F 6F            [ 4]  449 	ld	l,a
   0290 7A            [ 4]  450 	ld	a,d
   0291 B0            [ 4]  451 	or	a, b
   0292 67            [ 4]  452 	ld	h,a
   0293 11r00r00      [10]  453 	ld	de,#_map_buff
   0296 19            [11]  454 	add	hl,de
   0297 5E            [ 7]  455 	ld	e,(hl)
   0298 2Ar00r00      [16]  456 	ld	hl,(_c_behs)
   029B 16 00         [ 7]  457 	ld	d,#0x00
   029D 19            [11]  458 	add	hl, de
   029E 7E            [ 7]  459 	ld	a,(hl)
   029F FD 21r00r00   [14]  460 	ld	iy,#_rdm
   02A3 FD 77 00      [19]  461 	ld	0 (iy),a
                            462 ;./engine/cocos.c:115: if (rdm & 8) {
   02A6 FD 21r00r00   [14]  463 	ld	iy,#_rdm
   02AA FD CB 00 5E   [20]  464 	bit	3, 0 (iy)
   02AE 28 06         [12]  465 	jr	Z,00107$
                            466 ;./engine/cocos.c:116: cocos_destroy (); continue;
   02B0 CDrF9r00      [17]  467 	call	_cocos_destroy
   02B3 C3r35r01      [10]  468 	jp	00116$
   02B6                     469 00107$:
                            470 ;./engine/cocos.c:121: if (pflickering == 0 && 
   02B6 3Ar00r00      [13]  471 	ld	a,(#_pflickering + 0)
   02B9 B7            [ 4]  472 	or	a, a
   02BA C2r35r01      [10]  473 	jp	NZ,00116$
                            474 ;./engine/cocos.c:122: rdx + 7 >= prx && 
   02BD DD 7E FE      [19]  475 	ld	a,-2 (ix)
   02C0 C6 07         [ 7]  476 	add	a, #0x07
   02C2 DD 77 F8      [19]  477 	ld	-8 (ix),a
   02C5 DD 7E FF      [19]  478 	ld	a,-1 (ix)
   02C8 CE 00         [ 7]  479 	adc	a, #0x00
   02CA DD 77 F9      [19]  480 	ld	-7 (ix),a
   02CD FD 21r00r00   [14]  481 	ld	iy,#_prx
   02D1 FD 7E 00      [19]  482 	ld	a,0 (iy)
   02D4 DD 77 FC      [19]  483 	ld	-4 (ix),a
   02D7 DD 36 FD 00   [19]  484 	ld	-3 (ix),#0x00
   02DB DD 7E F8      [19]  485 	ld	a,-8 (ix)
   02DE DD 96 FC      [19]  486 	sub	a, -4 (ix)
   02E1 DD 7E F9      [19]  487 	ld	a,-7 (ix)
   02E4 DD 9E FD      [19]  488 	sbc	a, -3 (ix)
   02E7 E2rECr02      [10]  489 	jp	PO, 00174$
   02EA EE 80         [ 7]  490 	xor	a, #0x80
   02EC                     491 00174$:
   02EC FAr35r01      [10]  492 	jp	M,00116$
                            493 ;./engine/cocos.c:123: rdx <= prx + 7 && 
   02EF DD 7E FC      [19]  494 	ld	a,-4 (ix)
   02F2 C6 07         [ 7]  495 	add	a, #0x07
   02F4 DD 77 FC      [19]  496 	ld	-4 (ix),a
   02F7 DD 7E FD      [19]  497 	ld	a,-3 (ix)
   02FA CE 00         [ 7]  498 	adc	a, #0x00
   02FC DD 77 FD      [19]  499 	ld	-3 (ix),a
   02FF DD 7E FC      [19]  500 	ld	a,-4 (ix)
   0302 DD 96 FE      [19]  501 	sub	a, -2 (ix)
   0305 DD 7E FD      [19]  502 	ld	a,-3 (ix)
   0308 DD 9E FF      [19]  503 	sbc	a, -1 (ix)
   030B E2r10r03      [10]  504 	jp	PO, 00175$
   030E EE 80         [ 7]  505 	xor	a, #0x80
   0310                     506 00175$:
   0310 FAr35r01      [10]  507 	jp	M,00116$
                            508 ;./engine/cocos.c:124: rdy + 7 + PLAYER_COLLISION_VSTRETCH_FG >= pry && 
   0313 DD 7E FA      [19]  509 	ld	a,-6 (ix)
   0316 C6 03         [ 7]  510 	add	a, #0x03
   0318 DD 77 FC      [19]  511 	ld	-4 (ix),a
   031B DD 7E FB      [19]  512 	ld	a,-5 (ix)
   031E CE 00         [ 7]  513 	adc	a, #0x00
   0320 DD 77 FD      [19]  514 	ld	-3 (ix),a
   0323 FD 21r00r00   [14]  515 	ld	iy,#_pry
   0327 FD 7E 00      [19]  516 	ld	a,0 (iy)
   032A DD 77 F8      [19]  517 	ld	-8 (ix),a
   032D DD 36 F9 00   [19]  518 	ld	-7 (ix),#0x00
   0331 DD 7E FC      [19]  519 	ld	a,-4 (ix)
   0334 DD 96 F8      [19]  520 	sub	a, -8 (ix)
   0337 DD 7E FD      [19]  521 	ld	a,-3 (ix)
   033A DD 9E F9      [19]  522 	sbc	a, -7 (ix)
   033D E2r42r03      [10]  523 	jp	PO, 00176$
   0340 EE 80         [ 7]  524 	xor	a, #0x80
   0342                     525 00176$:
   0342 FAr35r01      [10]  526 	jp	M,00116$
                            527 ;./engine/cocos.c:125: rdy <= pry + 12
   0345 DD 7E F8      [19]  528 	ld	a,-8 (ix)
   0348 C6 0C         [ 7]  529 	add	a, #0x0C
   034A DD 77 FC      [19]  530 	ld	-4 (ix),a
   034D DD 7E F9      [19]  531 	ld	a,-7 (ix)
   0350 CE 00         [ 7]  532 	adc	a, #0x00
   0352 DD 77 FD      [19]  533 	ld	-3 (ix),a
   0355 DD 7E FC      [19]  534 	ld	a,-4 (ix)
   0358 DD 96 FA      [19]  535 	sub	a, -6 (ix)
   035B DD 7E FD      [19]  536 	ld	a,-3 (ix)
   035E DD 9E FB      [19]  537 	sbc	a, -5 (ix)
   0361 E2r66r03      [10]  538 	jp	PO, 00177$
   0364 EE 80         [ 7]  539 	xor	a, #0x80
   0366                     540 00177$:
   0366 FAr35r01      [10]  541 	jp	M,00116$
                            542 ;./engine/cocos.c:127: en_sg_2 = 1;
   0369 21r00r00      [10]  543 	ld	hl,#_en_sg_2 + 0
   036C 36 01         [10]  544 	ld	(hl), #0x01
                            545 ;./engine/cocos.c:129: pkill = en_sg_2;
   036E 21r00r00      [10]  546 	ld	hl,#_pkill + 0
   0371 36 01         [10]  547 	ld	(hl), #0x01
                            548 ;./engine/cocos.c:130: cocos_destroy ();
   0373 CDrF9r00      [17]  549 	call	_cocos_destroy
   0376 C3r35r01      [10]  550 	jp	00116$
   0379                     551 00119$:
   0379 DD F9         [10]  552 	ld	sp, ix
   037B DD E1         [14]  553 	pop	ix
   037D C9            [10]  554 	ret
                            555 	.area _CODE
                            556 	.area _INITIALIZER
                            557 	.area _CABS (ABS)
